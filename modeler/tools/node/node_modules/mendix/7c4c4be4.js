import{createContext,createElement}from"react";import{A as AssertionError}from"./53bf75a6.js";import{f as friendlyName,e as ensure}from"./d04a146b.js";function withStableProp(keyProperty,Component){return class extends Component{componentDidUpdate(prevProps,prevState,snapshot){if(this.props[keyProperty]!==prevProps[keyProperty])throw new AssertionError(`Parent of component ${friendlyName(Component)} did not correctly assign keys.`);super.componentDidUpdate&&super.componentDidUpdate(prevProps,prevState,snapshot)}}}const{Provider:Provider,Consumer:Consumer}=createContext(void 0),StoreProvider=props=>createElement(Provider,{value:ensure(props.store)},props.children);function withStore(Component){const StableComponent=withStableProp("$store",Component);return props=>createElement(Consumer,null,store=>createElement(StableComponent,Object.assign({},props,{$store:ensure(store)}),props.children))}export{StoreProvider as S,withStableProp as a,withStore as w};
