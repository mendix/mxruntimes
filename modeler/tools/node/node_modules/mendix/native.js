module.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=132)}([function(t,e,n){n.r(e),n.d(e,"AssertionError",function(){return r});class r extends Error{constructor(t="Unexpected error occurred, please contact your system administrator."){super(t),Object.setPrototypeOf(this,r.prototype)}}},function(t,e){t.exports=require("react-native")},function(t,e,n){n.d(e,"a",function(){return u});var r=n(6),o=n(51),i=36e5,s=6e4,a=2,c={dateTimeDelimeter:/[T ]/,plainTime:/:/,timeZoneDelimeter:/[Z ]/i,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-])(\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function u(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===t)return new Date(NaN);var n=e||{},u=null==n.additionalDigits?a:Object(r.a)(n.additionalDigits);if(2!==u&&1!==u&&0!==u)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date)return new Date(t.getTime());if("number"==typeof t||"[object Number]"===Object.prototype.toString.call(t))return new Date(t);if("string"!=typeof t&&"[object String]"!==Object.prototype.toString.call(t))return new Date(NaN);var f=function(t){var e,n={},r=t.split(c.dateTimeDelimeter);c.plainTime.test(r[0])?(n.date=null,e=r[0]):(n.date=r[0],e=r[1],c.timeZoneDelimeter.test(n.date)&&(n.date=t.split(c.timeZoneDelimeter)[0],e=t.substr(n.date.length,t.length)));if(e){var o=c.timezone.exec(e);o?(n.time=e.replace(o[1],""),n.timezone=o[1]):n.time=e}return n}(t),h=function(t,e){var n,r=c.YYY[e],o=c.YYYYY[e];if(n=c.YYYY.exec(t)||o.exec(t)){var i=n[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(n=c.YY.exec(t)||r.exec(t)){var s=n[1];return{year:100*parseInt(s,10),restDateString:t.slice(s.length)}}return{year:null}}(f.date,u),p=h.year,d=function(t,e){if(null===e)return null;var n,r,o,i;if(0===t.length)return(r=new Date(0)).setUTCFullYear(e),r;if(n=c.MM.exec(t))return r=new Date(0),o=parseInt(n[1],10)-1,r.setUTCFullYear(e,o),r;if(n=c.DDD.exec(t)){r=new Date(0);var s=parseInt(n[1],10);return r.setUTCFullYear(e,0,s),r}if(n=c.MMDD.exec(t)){r=new Date(0),o=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return r.setUTCFullYear(e,o,a),r}if(n=c.Www.exec(t))return i=parseInt(n[1],10)-1,l(e,i);if(n=c.WwwD.exec(t)){i=parseInt(n[1],10)-1;var u=parseInt(n[2],10)-1;return l(e,i,u)}return null}(h.restDateString,p);if(d){var b,y=d.getTime(),g=0;return f.time&&(g=function(t){var e,n,r;if(e=c.HH.exec(t))return(n=parseFloat(e[1].replace(",",".")))%24*i;if(e=c.HHMM.exec(t))return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),n%24*i+r*s;if(e=c.HHMMSS.exec(t)){n=parseInt(e[1],10),r=parseInt(e[2],10);var o=parseFloat(e[3].replace(",","."));return n%24*i+r*s+1e3*o}return null}(f.time)),f.timezone?b=function(t){var e,n;if(e=c.timezoneZ.exec(t))return 0;if(e=c.timezoneHH.exec(t))return n=parseInt(e[2],10)*i,"+"===e[1]?-n:n;if(e=c.timezoneHHMM.exec(t))return n=parseInt(e[2],10)*i+parseInt(e[3],10)*s,"+"===e[1]?-n:n;return 0}(f.timezone):(b=Object(o.a)(new Date(y+g)),b=Object(o.a)(new Date(y+g+b))),new Date(y+g+b)}return new Date(NaN)}function l(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var o=7*e+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+o),r}},function(t,e){t.exports=require("react")},function(t,e,n){n.d(e,"b",function(){return o}),n.d(e,"a",function(){return i}),n.d(e,"c",function(){return s}),n.d(e,"f",function(){return a}),n.d(e,"e",function(){return c}),n.d(e,"d",function(){return u}),n.d(e,"g",function(){return l});var r=n(0);function o(t){if(null==t)throw new Error("Did not expect an argument to be undefined");return t}function i(){throw new r.AssertionError}function s(t){return t.displayName||t.name||"<component>"}function a(t){return"string"==typeof t}function c(t){return null!=t&&"object"==typeof t&&t.constructor==={}.constructor}function u(t,e){return e instanceof Array&&e.every(e=>void 0===e||e instanceof t)}function l(t){const e=t.split("/");return e.length>1&&e.shift(),{attribute:e.pop(),entityPath:e.length?e.join("/"):void 0}}},function(t,e,n){var r;!function(o){var i,s=20,a=1,c=-7,u=21,l={},f=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function h(t,e,n){var r=t.constructor,o=e-(t=new r(t)).e,i=t.c;for(i.length>++e&&p(t,o,r.RM),i[0]?n?o=e:(i=t.c,o=t.e+o+1):++o;i.length<o;i.push(0));return o=t.e,1===n||n&&(e<=o||o<=c)?(t.s<0&&i[0]?"-":"")+(i.length>1?i[0]+"."+i.join("").slice(1):i[0])+(o<0?"e":"e+")+o:t.toString()}function p(t,e,n,r){var o,i=t.c,s=t.e+e+1;if(1===n?r=i[s]>=5:2===n?r=i[s]>5||5==i[s]&&(r||s<0||i[s+1]!==o||1&i[s-1]):3===n?r=r||i[s]!==o||s<0:(r=!1,0!==n&&d("!Big.RM!")),s<1||!i[0])r?(t.e=-e,t.c=[1]):t.c=[t.e=0];else{if(i.length=s--,r)for(;++i[s]>9;)i[s]=0,s--||(++t.e,i.unshift(1));for(s=i.length;!i[--s];i.pop());}return t}function d(t){var e=new Error(t);throw e.name="BigError",e}l.abs=function(){var t=new this.constructor(this);return t.s=1,t},l.cmp=function(t){var e,n=this,r=n.c,o=(t=new n.constructor(t)).c,i=n.s,s=t.s,a=n.e,c=t.e;if(!r[0]||!o[0])return r[0]?i:o[0]?-s:0;if(i!=s)return i;if(e=i<0,a!=c)return a>c^e?1:-1;for(i=-1,s=(a=r.length)<(c=o.length)?a:c;++i<s;)if(r[i]!=o[i])return r[i]>o[i]^e?1:-1;return a==c?0:a>c^e?1:-1},l.div=function(t){var e=this,n=e.constructor,r=e.c,o=(t=new n(t)).c,i=e.s==t.s?1:-1,s=n.DP;if((s!==~~s||s<0||s>1e6)&&d("!Big.DP!"),!r[0]||!o[0])return r[0]==o[0]&&d(NaN),o[0]||d(i/0),new n(0*i);var a,c,u,l,f,h,b=o.slice(),y=a=o.length,g=r.length,m=r.slice(0,a),v=m.length,w=t,_=w.c=[],O=0,j=s+(w.e=e.e-t.e)+1;for(w.s=i,i=j<0?0:j,b.unshift(0);v++<a;m.push(0));do{for(u=0;u<10;u++){if(a!=(v=m.length))l=a>v?1:-1;else for(f=-1,l=0;++f<a;)if(o[f]!=m[f]){l=o[f]>m[f]?1:-1;break}if(!(l<0))break;for(c=v==a?o:b;v;){if(m[--v]<c[v]){for(f=v;f&&!m[--f];m[f]=9);--m[f],m[v]+=10}m[v]-=c[v]}for(;!m[0];m.shift());}_[O++]=l?u:++u,m[0]&&l?m[v]=r[y]||0:m=[r[y]]}while((y++<g||m[0]!==h)&&i--);return _[0]||1==O||(_.shift(),w.e--),O>j&&p(w,s,n.RM,m[0]!==h),w},l.eq=function(t){return!this.cmp(t)},l.gt=function(t){return this.cmp(t)>0},l.gte=function(t){return this.cmp(t)>-1},l.lt=function(t){return this.cmp(t)<0},l.lte=function(t){return this.cmp(t)<1},l.minus=function(t){var e,n,r,o,i=this,s=i.constructor,a=i.s,c=(t=new s(t)).s;if(a!=c)return t.s=-c,i.plus(t);var u=i.c.slice(),l=i.e,f=t.c,h=t.e;if(!u[0]||!f[0])return f[0]?(t.s=-c,t):new s(u[0]?i:0);if(a=l-h){for((o=a<0)?(a=-a,r=u):(h=l,r=f),r.reverse(),c=a;c--;r.push(0));r.reverse()}else for(n=((o=u.length<f.length)?u:f).length,a=c=0;c<n;c++)if(u[c]!=f[c]){o=u[c]<f[c];break}if(o&&(r=u,u=f,f=r,t.s=-t.s),(c=(n=f.length)-(e=u.length))>0)for(;c--;u[e++]=0);for(c=e;n>a;){if(u[--n]<f[n]){for(e=n;e&&!u[--e];u[e]=9);--u[e],u[n]+=10}u[n]-=f[n]}for(;0==u[--c];u.pop());for(;0==u[0];)u.shift(),--h;return u[0]||(t.s=1,u=[h=0]),t.c=u,t.e=h,t},l.mod=function(t){var e,n=this,r=n.constructor,o=n.s,i=(t=new r(t)).s;return t.c[0]||d(NaN),n.s=t.s=1,e=1==t.cmp(n),n.s=o,t.s=i,e?new r(n):(o=r.DP,i=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=o,r.RM=i,this.minus(n.times(t)))},l.plus=function(t){var e,n=this,r=n.constructor,o=n.s,i=(t=new r(t)).s;if(o!=i)return t.s=-i,n.minus(t);var s=n.e,a=n.c,c=t.e,u=t.c;if(!a[0]||!u[0])return u[0]?t:new r(a[0]?n:0*o);if(a=a.slice(),o=s-c){for(o>0?(c=s,e=u):(o=-o,e=a),e.reverse();o--;e.push(0));e.reverse()}for(a.length-u.length<0&&(e=u,u=a,a=e),o=u.length,i=0;o;)i=(a[--o]=a[o]+u[o]+i)/10|0,a[o]%=10;for(i&&(a.unshift(i),++c),o=a.length;0==a[--o];a.pop());return t.c=a,t.e=c,t},l.pow=function(t){var e=this,n=new e.constructor(1),r=n,o=t<0;for((t!==~~t||t<-1e6||t>1e6)&&d("!pow!"),t=o?-t:t;1&t&&(r=r.times(e)),t>>=1;)e=e.times(e);return o?n.div(r):r},l.round=function(t,e){var n=this,r=n.constructor;return null==t?t=0:(t!==~~t||t<0||t>1e6)&&d("!round!"),p(n=new r(n),t,null==e?r.RM:e),n},l.sqrt=function(){var t,e,n,r=this,o=r.constructor,i=r.c,s=r.s,a=r.e,c=new o("0.5");if(!i[0])return new o(r);s<0&&d(NaN),0==(s=Math.sqrt(r.toString()))||s==1/0?((t=i.join("")).length+a&1||(t+="0"),(e=new o(Math.sqrt(t).toString())).e=((a+1)/2|0)-(a<0||1&a)):e=new o(s.toString()),s=e.e+(o.DP+=4);do{n=e,e=c.times(n.plus(r.div(n)))}while(n.c.slice(0,s).join("")!==e.c.slice(0,s).join(""));return p(e,o.DP-=4,o.RM),e},l.times=function(t){var e,n=this,r=n.constructor,o=n.c,i=(t=new r(t)).c,s=o.length,a=i.length,c=n.e,u=t.e;if(t.s=n.s==t.s?1:-1,!o[0]||!i[0])return new r(0*t.s);for(t.e=c+u,s<a&&(e=o,o=i,i=e,u=s,s=a,a=u),e=new Array(u=s+a);u--;e[u]=0);for(c=a;c--;){for(a=0,u=s+c;u>c;)a=e[u]+i[c]*o[u-c-1]+a,e[u--]=a%10,a=a/10|0;e[u]=(e[u]+a)%10}for(a&&++t.e,e[0]||e.shift(),c=e.length;!e[--c];e.pop());return t.c=e,t},l.toString=l.valueOf=l.toJSON=function(){var t=this,e=t.e,n=t.c.join(""),r=n.length;if(e<=c||e>=u)n=n.charAt(0)+(r>1?"."+n.slice(1):"")+(e<0?"e":"e+")+e;else if(e<0){for(;++e;n="0"+n);n="0."+n}else if(e>0)if(++e>r)for(e-=r;e--;n+="0");else e<r&&(n=n.slice(0,e)+"."+n.slice(e));else r>1&&(n=n.charAt(0)+"."+n.slice(1));return t.s<0&&t.c[0]?"-"+n:n},l.toExponential=function(t){return null==t?t=this.c.length-1:(t!==~~t||t<0||t>1e6)&&d("!toExp!"),h(this,t,1)},l.toFixed=function(t){var e,n=this,r=c,o=u;return c=-(u=1/0),null==t?e=n.toString():t===~~t&&t>=0&&t<=1e6&&(e=h(n,n.e+t),n.s<0&&n.c[0]&&e.indexOf("-")<0&&(e="-"+e)),c=r,u=o,e||d("!toFix!"),e},l.toPrecision=function(t){return null==t?this.toString():((t!==~~t||t<1||t>1e6)&&d("!toPre!"),h(this,t-1,2))},i=function t(){function e(n){var r=this;if(!(r instanceof e))return void 0===n?t():new e(n);n instanceof e?(r.s=n.s,r.e=n.e,r.c=n.c.slice()):function(t,e){var n,r,o;for(0===e&&1/e<0?e="-0":f.test(e+="")||d(NaN),t.s="-"==e.charAt(0)?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;"0"==e.charAt(r);r++);if(r==(o=e.length))t.c=[t.e=0];else{for(;"0"==e.charAt(--o););for(t.e=n-r-1,t.c=[],n=0;r<=o;t.c[n++]=+e.charAt(r++));}}(r,n),r.constructor=e}return e.prototype=l,e.DP=s,e.RM=a,e}(),void 0===(r=function(){return i}.call(e,n,e,t))||(t.exports=r)}()},function(t,e,n){function r(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}n.d(e,"a",function(){return r})},function(t,e,n){function r(){return new Promise(()=>{})}function o(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}function i(t,e,n){const r=Array.from(arguments).slice(2);return new Promise((n,o)=>t[e](...r,n,o))}n.d(e,"b",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return i})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(199),o=n(34),i=n(107),s=n(55),a=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var o=this.operator,i=r.toSubscriber(t,e,n);if(o?o.call(i,this.source):i.add(this.source||s.config.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),s.config.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){s.config.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=c(e))(function(e,r){var o;o=n.subscribe(function(e){try{t(e)}catch(t){r(t),o&&o.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[o.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:i.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=c(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function c(t){if(t||(t=s.config.Promise||Promise),!t)throw new Error("no Promise impl found");return t}e.Observable=a},function(t,e,n){n.r(e),n.d(e,"MxObject",function(){return l});var r=n(0),o=n(5),i=n.n(o),s=n(12),a=n.n(s),c=n(20),u=n.n(c);class l{constructor(t){if(this._guid="0",this._snapshot=void 0,this._deleted=!1,this.metaData=null,this.jsonData=null,this.id="mendix.lib.MxObject",!(t.meta&&t.json&&t.json.objectType)){var e=this.metaData&&this.metaData.getEntity();throw new Error("new MxObject(): cannot create Mendix object.  Check entity access"+(e?" for entity "+e:""))}this.metaData=t.meta,this._setJsonData(t.json),this.id+="("+this.jsonData.objectType+":"+this._guid+")"}resetFromJSON(t){this._setJsonData(t)}markDeleted(){this._setJsonData({guid:this._guid,attributes:{}}),this._deleted=!0}_setJsonData(t){for(var e in this.jsonData=t,this._guid=t.guid,t.attributes)this._setAttributeValue(e,this._getAttributeValue(e))}getGuid(){return this._guid}hasChanges(){return!a.a.objectIsEmpty(window.mx.data.getChanges(this._guid))}snapshot(){return this._snapshot||(this._snapshot=new(n(148).MxObjectSnapshot)(this))}isDeleted(){return this._deleted}set(t,e){this._setContent(t,e)}isReadonlyAttr(t){return this.has(t)?!!this.jsonData.attributes[t].readonly:!this.metaData.has(t)}fetch(t,e,n){let o;o=t?t instanceof Array?t.slice():t.split("/"):[],this.isA(o[0])&&o.shift();let i=this;const s=()=>{if(0===o.length)e(i);else if(1===o.length)e(i.get(o[0]));else{const t=o.shift(),n=o.shift();i._fetchReference(t,n,t=>{void 0===t?e(null):Array.isArray(t)?0===o.length?e(t):a(new r.AssertionError(this.id+".fetch : "+i+" reference set should be last reference in path")):(i=t,s())},a)}};function a(t){n?n(t):window.mx.onError(t)}s()}_fetchReference(t,e,n,r){const o=this.getReferences(t);0!==o.length?window.mx.data.get({guids:o,callback:r=>{if(this.isObjectReferenceSet(t))0===r.length||r[0].isA(e)?n(r):n(void 0);else{const t=r[0];t&&t.isA(e)?n(t):n(void 0)}},error:r}):n(void 0)}get(t){if("string"!=typeof t)throw new r.AssertionError("parameter attr "+t+" is not of type String");return this.has(t)?this._convertToClientValue(t,this._getRawValue(t)):null}getOriginalValue(t){if("string"!=typeof t)throw new r.AssertionError("parameter attr "+t+" is not of type String");return this.has(t)?this._convertToClientValue(t,this._getRawOriginalValue(t)):null}has(t){if("string"!=typeof t)throw new r.AssertionError("attribute parameter is not a string");return Object.prototype.hasOwnProperty.call(this.jsonData.attributes,t)}getReferences(t){if("string"!=typeof t)throw new r.AssertionError("parameter attr "+t+" is not of type String.");if(!this.has(t))return[];if(!this.isReference(t))throw new r.AssertionError("attribute "+t+" is not an ObjectReference(Set).");const e=this._getRawValue(t);return this.isObjectReference(t)?null==e?[]:[e]:null==e?[]:e.slice()}getOriginalReferences(t){if("string"!=typeof t)throw new r.AssertionError("parameter attr "+t+" is not of type String.");if(!this.has(t))return[];if(!this.isReference(t))throw new r.AssertionError("attribute "+t+" is not an ObjectReference(Set).");const e=this._getRawOriginalValue(t);return this.isObjectReference(t)?null==e?[]:[e]:null==e?[]:e.slice()}getReference(t){return this.get(t)}isEnum(t){return this.metaData.isEnum(t)}isNumeric(t){return this.metaData.isNumeric(t)}isCurrency(t){return this.metaData.isCurrency(t)}isPassword(t){return this.metaData.isPassword(t)}isDate(t){return this.metaData.isDate(t)}isLocalizedDate(t){return this.metaData.isLocalizedDate(t)}isBoolean(t){return this.metaData.isBoolean(t)}isReference(t){return this.metaData.isReference(t)}isObjectReference(t){return this.metaData.isObjectReference(t)}isObjectReferenceSet(t){return this.metaData.isObjectReferenceSet(t)}getOptions(t){return this.metaData.getOptions(t)}getEnumMap(t){return this.metaData.getEnumMap(t)}getEnumKVPairs(t){return this.metaData.getEnumKVPairs(t)}getEnumCaption(t){return this.metaData.getEnumCaption(t,this.get(t))}hasChildren(t){if("string"!=typeof t)throw new r.AssertionError("parameter attr ("+t+") is not of type String.");return!this._attributeChanged(t)&&this._hasChildren(t)}getChildren(t){if("string"!=typeof t)throw new r.AssertionError("parameter attr ("+t+") is not of type String.");if(!this.has(t))return[];if(!this.isReference(t))throw new r.AssertionError("attribute "+t+" is not an ObjectReference(Set).");return this._attributeChanged(t)?[]:this._hasChildren(t)?this._getChildren(t):[]}getChild(t){if("string"!=typeof t)throw new r.AssertionError("parameter attr("+t+") is not of type String.");if(!this.has(t))return;if(!this.isObjectReference(t))throw new r.AssertionError("attribute "+t+" is not an ObjectReference.");const e=this.getChildren(t);return 0===e.length?null:e[0]}removeReferences(t,e){if("string"!=typeof t)throw new r.AssertionError("parameter attr is not of type String.");if(!this.has(t))return!1;if(!this.isReference(t))throw new r.AssertionError("attempt to remove Reference from non-Reference attribute : "+t);if(Array.isArray(e)||(e=[e]),this._attributeChanged(t)||!this._hasChildren(t))this.isObjectReference(t)?this._setContent(t,null):this._setContent(t,a.a.arraySubtract(this.getReferences(t),e));else{if(!this.isObjectReference(t)){for(var n=0;n<e.length;n++)delete this.jsonData.attributes[t].value[e[n]];var o=a.a.arraySubtract(this.getReferences(t),e);return this._makeChange(t,o)}this._setContent(t,null)}return!0}addReference(t,e){if("string"!=typeof t)throw new r.AssertionError("parameter attr is not of type String.");if(!e)throw new r.AssertionError("parameter guid is not set.");if(!this.has(t))return!1;if(!this.isReference(t))throw new r.AssertionError("attempt to add Reference to non-Reference attribute : "+t);if(this.isObjectReference(t))this._setContent(t,e);else{var n=this.getReferences(t);n.join(";").match(e)||(n.push(e),this._setContent(t,n))}return!0}addReferences(t,e){if("string"!=typeof t)throw new r.AssertionError("parameter attr is not of type String.");if(!Array.isArray(e))throw new r.AssertionError("parameter guids is not an Array.");if(!this.has(t))return!1;if(!this.isObjectReferenceSet(t))throw new r.AssertionError("attempt to add References to non-ReferenceSet attribute : "+t);const n=this.getReferences(t),o=e.filter(t=>!n.includes(t));return o.length>0&&this._setContent(t,n.concat(o)),!0}getReferenceAttributes(){return this.metaData.getReferenceAttributes().filter(t=>this.has(t))}getAttributes(){return this.metaData.getAttributes().filter(t=>this.has(t))}getPrimitives(){return this.metaData.getAttributesWithoutReferences().filter(t=>this.has(t))}getAttributeType(t){return!!this.has(t)&&this.metaData.getAttributeType(t)}getSelectorEntity(t){return this.has(t)?this.metaData.getSelectorEntity(t):null}getEntity(){return this.metaData.getEntity()}isPersistable(){return this.metaData.isPersistable()}isNew(){return window.mx.data.isNew(this._guid)}isA(t){return this.metaData.isA(t)}hasSuperEntities(){return this.metaData.hasSuperEntities()}getSuperEntities(){return this.metaData.getSuperEntities()}hasSubEntities(){return this.metaData.hasSubEntities()}getSubEntities(){return this.metaData.getSubEntities()}inheritsFrom(t){return this.metaData.inheritsFrom(t)}compare(t){if(t.getEntity()!==this.getEntity())return!1;for(var e=this.metaData.getAttributesWithoutReferences(),n=0;n<e.length;n++){var r=e[n],o=this.get(r),i=t.get(r);if(o!==i){if("object"!=typeof o)return!1;if("object"!=typeof i)throw new Error("non matching value types for attribute "+r);if(o.valueOf&&i.valueOf&&o.valueOf()!==i.valueOf())return!1}}for(var s=this.getReferenceAttributes(),a=0;a<s.length;a++){var c=s[a];if("System.changedBy"!==c&&"System.owner"!==c)for(var u=t.getReferences(c),l=this.getReferences(c).join(","),f=0;f<u.length;f++)if(!l.match(u[f]))return!1}return!0}toJSON(){return this.jsonData}toString(){return this.getGuid()}_getRawValue(t){if(this._attributeChanged(t)){return window.mx.data.getChanges(this._guid)[t].value}return this._getRawOriginalValue(t)}_getRawOriginalValue(t){return this._hasChildren(t)?this._getChildValue(t):this._getAttributeValue(t)}_attributeChanged(t){const e=window.mx.data.getChanges(this._guid);return Object.prototype.hasOwnProperty.call(e,t)}_getChildren(t){return(this.isObjectReference(t)?[this._getAttributeValue(t)]:Object.values(this._getAttributeValue(t))).map(t=>l.fromJson(t))}_getChildValue(t){const e=this._getChildren(t).map(t=>t.getGuid());return this.isObjectReference(t)?0===e.length?null:e[0]:e}_convertToRuntimeValue(t,e){if("String"!==this.getAttributeType(t)&&""===e)return this.isObjectReferenceSet(t)?[]:null;if(null==e)return null;if(this.isNumeric(t)){const n=i()(e);if(u.a.validate(n,this.metaData.getAttributeType(t))!==u.a.validation.OK)throw new Error(`Cannot set invalid value '${n}' to MxObject attribute '${t}'`);return String(n)}if(this.isDate(t))return this.isLocalizedDate(t)?Number(e):window.mx.parser.delocalizeEpoch(Number(e));if(this.isPassword(t))return e.replace(/[\s\t]+$/,"").replace(/^[\s\t]+/,"");if(this.isBoolean(t))return Boolean(e);if(this.isObjectReference(t)){if(Array.isArray(e))throw new Error("Trying to set single object reference to multiple values");return e}if(this.isObjectReferenceSet(t)){if(!Array.isArray(e))throw new Error("Trying to set object reference set to single value");return e}return String(e)}_convertToClientValue(t,e){return null==e?"":this.isNumeric(t)?i()(e):this.isDate(t)?this.isLocalizedDate(t)?e:window.mx.parser.localizeEpoch(e):this.isBoolean(t)?e:this.isObjectReferenceSet(t)?0===e.length?"":e:String(e)}_setContent(t,e){if("string"!=typeof t)throw new r.AssertionError("parameter attr ("+t+") is not of type String.");if(!this.metaData.has(t))return;const n=this._convertToRuntimeValue(t,e),o=this._getRawValue(t);n!==o&&(this._makeChange(t,n),this.metaData.isBidirectionalReference(t)&&(f(this.isObjectReference(t)?[o]:a.a.arraySubtract(o,n)).filter(e=>!e.isReadonlyAttr(t)&&e.getReferences(t).includes(this._guid)).forEach(e=>e.removeReferences(t,[this._guid])),f(this.isObjectReference(t)?[n]:a.a.arraySubtract(n,o)).filter(e=>!e.isReadonlyAttr(t)&&!e.getReferences(t).includes(this._guid)).forEach(e=>e.addReference(t,this._guid))))}_hasChildren(t){if(!this.isReference(t))return!1;const e=this._getAttributeValue(t);return e&&"object"==typeof e&&null==e.length}_getAttributeValue(t){var e=this.jsonData.attributes[t];return void 0===e&&(e=null),e&&"object"==typeof e&&"value"in e?e.value:e}_setAttributeValue(t,e){var n=this.jsonData.attributes[t];void 0===e&&(e=null),n&&"object"==typeof n&&"value"in n?n.value=e:this.jsonData.attributes[t]=e}_makeChange(t,e){if(this.isDeleted())throw new r.AssertionError(`Cannot modify attribute ${t} of a deleted object.`);window.mx.data.makeChange(this._guid,t,e),window.mx.data.updateMxObjectSubscribers(this._guid,t,this.get(t))}static fromJson(t){return new l({json:t,meta:window.mx.meta.getEntity(t.objectType)})}}function f(t){return t.map(t=>window.mx.data.getCachedObject(t)).filter(t=>null!=t)}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,"a",function(){return get}),__webpack_require__.d(__webpack_exports__,"b",function(){return post});var _exceptions_AssertionError__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_util__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_errors_ConnectionError__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(18),_errors_DescribedServerError__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(49),_errors_ServerError__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(28),_errors_UnauthorizedError__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(26),_errors_ValidationError__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(21),_middleware__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(19);async function get(url,handleAs){const request={url:url,init:{method:"get",headers:new Headers,cache:"force-cache",credentials:"include"}},response=await Object(_middleware__WEBPACK_IMPORTED_MODULE_7__.a)(request,doFetch);if(!response.ok)throw new _errors_ServerError__WEBPACK_IMPORTED_MODULE_4__.a(response.status,response.statusText);switch(handleAs){case"text":return response.text();case"json":return response.json();case"blob":return response.blob();case"javascript":return void eval(await response.text())}}async function post(t,e){const n={url:t,body:e,init:{method:"post",headers:new Headers(Object.assign({Accept:"application/json"},Object(_util__WEBPACK_IMPORTED_MODULE_1__.e)(e)?{"Content-Type":"application/json"}:{})),redirect:"error",credentials:"include"}};return(await Object(_middleware__WEBPACK_IMPORTED_MODULE_7__.a)(n,doFetch)).json()}async function doFetch(t){if(t.init.body)throw new _exceptions_AssertionError__WEBPACK_IMPORTED_MODULE_0__.AssertionError;let e;t.init.body=Object(_util__WEBPACK_IMPORTED_MODULE_1__.e)(t.body)?JSON.stringify(t.body):t.body;try{e=await window.fetch(t.url,t.init)}catch(t){throw new _errors_ConnectionError__WEBPACK_IMPORTED_MODULE_2__.a(t.message)}switch(e.status){case 200:return e;case 400:case 401:case 402:case 403:case 460:throw new _errors_UnauthorizedError__WEBPACK_IMPORTED_MODULE_5__.a(e.status);case 502:case 504:throw new _errors_ServerError__WEBPACK_IMPORTED_MODULE_4__.a(e.status,e.statusText);case 551:throw new _errors_ValidationError__WEBPACK_IMPORTED_MODULE_6__.a(await e.json());case 560:const t=await getXasErrorDescription(e);throw t?new _errors_DescribedServerError__WEBPACK_IMPORTED_MODULE_3__.DescribedServerError(t):new _errors_ServerError__WEBPACK_IMPORTED_MODULE_4__.a(e.status);case 12029:throw new _errors_ConnectionError__WEBPACK_IMPORTED_MODULE_2__.a("No connection");default:throw new _errors_ServerError__WEBPACK_IMPORTED_MODULE_4__.a(e.status,await getXasErrorDescription(e))}}async function getXasErrorDescription(t){const e=await t.json();return e&&"description"in e?e.description:void 0}},function(t,e,n){n.r(e),function(t,r){n.d(e,"$mobx",function(){return Mn}),n.d(e,"Reaction",function(){return on}),n.d(e,"untracked",function(){return Ze}),n.d(e,"IDerivationState",function(){return Se}),n.d(e,"createAtom",function(){return zt}),n.d(e,"spy",function(){return m}),n.d(e,"comparer",function(){return N}),n.d(e,"isObservableObject",function(){return st}),n.d(e,"isBoxedObservable",function(){return X}),n.d(e,"isObservableArray",function(){return ie}),n.d(e,"ObservableMap",function(){return Ft}),n.d(e,"isObservableMap",function(){return Bt}),n.d(e,"transaction",function(){return Nt}),n.d(e,"observable",function(){return Pt}),n.d(e,"computed",function(){return yt}),n.d(e,"isObservable",function(){return ut}),n.d(e,"isObservableProp",function(){return lt}),n.d(e,"isComputed",function(){return ht}),n.d(e,"isComputedProp",function(){return pt}),n.d(e,"extendObservable",function(){return mt}),n.d(e,"extendShallowObservable",function(){return gt}),n.d(e,"observe",function(){return pn}),n.d(e,"intercept",function(){return dn}),n.d(e,"autorun",function(){return V}),n.d(e,"reaction",function(){return U}),n.d(e,"when",function(){return bn}),n.d(e,"action",function(){return S}),n.d(e,"isAction",function(){return P}),n.d(e,"runInAction",function(){return T}),n.d(e,"keys",function(){return gn}),n.d(e,"values",function(){return mn}),n.d(e,"entries",function(){return vn}),n.d(e,"set",function(){return wn}),n.d(e,"remove",function(){return _n}),n.d(e,"has",function(){return On}),n.d(e,"get",function(){return jn}),n.d(e,"decorate",function(){return xn}),n.d(e,"configure",function(){return En}),n.d(e,"onBecomeObserved",function(){return qt}),n.d(e,"onBecomeUnobserved",function(){return Yt}),n.d(e,"flow",function(){return Tn}),n.d(e,"toJS",function(){return Dn}),n.d(e,"trace",function(){return rn}),n.d(e,"getDependencyTree",function(){return Re}),n.d(e,"getObserverTree",function(){return Ve}),n.d(e,"_resetGlobalState",function(){return Ie}),n.d(e,"_getGlobalState",function(){return Me}),n.d(e,"getDebugName",function(){return Wt}),n.d(e,"getAtom",function(){return Lt}),n.d(e,"_getAdministration",function(){return Gt}),n.d(e,"_allowStateChanges",function(){return _}),n.d(e,"isArrayLike",function(){return _e}),n.d(e,"_isComputingDerivation",function(){return Je}),n.d(e,"onReactionError",function(){return sn}),n.d(e,"_interceptReads",function(){return kn});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function i(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t}var u={},l={};function f(t){if(!0!==t.__mobxDidRunLazyInitializers){var e=t.__mobxDecorators;if(e)for(var n in me(t,"__mobxDidRunLazyInitializers",!0),e){var r=e[n];r.propertyCreator(t,r.prop,r.descriptor,r.decoratorTarget,r.decoratorArguments)}}}function h(t,e){return function(){var n,r=function(r,o,i,a){if(!0===a)return e(r,o,i,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,"__mobxDecorators")){var c=r.__mobxDecorators;me(r,"__mobxDecorators",s({},c))}return r.__mobxDecorators[o]={prop:o,propertyCreator:e,descriptor:i,decoratorTarget:r,decoratorArguments:n},function(t,e){var n=e?u:l;return n[t]||(n[t]={configurable:!0,enumerable:e,get:function(){return f(this),this[t]},set:function(e){f(this),this[t]=e}})}(o,t)};return function(t){return(2===t.length||3===t.length)&&"string"==typeof t[1]||4===t.length&&!0===t[3]}(arguments)?(n=ae,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function p(){return!!Ce.spyListeners.length}function d(t){if(Ce.spyListeners.length)for(var e=Ce.spyListeners,n=0,r=e.length;n<r;n++)e[n](t)}function b(t){d(s({},t,{spyReportStart:!0}))}var y={spyReportEnd:!0};function g(t){d(t?s({},t,{spyReportEnd:!0}):y)}function m(t){return Ce.spyListeners.push(t),de(function(){Ce.spyListeners=Ce.spyListeners.filter(function(e){return e!==t})})}function v(t,e){var n=function(){return w(t,e,this,arguments)};return n.isMobxAction=!0,n}function w(t,e,n,r){var o=function(t,e,n,r){var o=p()&&!!t,i=0;if(o){i=Date.now();var s=r&&r.length||0,a=new Array(s);if(s>0)for(var c=0;c<s;c++)a[c]=r[c];b({type:"action",name:t,object:n,arguments:a})}var u=tn();Le();var l=O(!0);return{prevDerivation:u,prevAllowStateChanges:l,notifySpy:o,startTime:i}}(t,0,n,r);try{return e.apply(n,r)}finally{!function(t){j(t.prevAllowStateChanges),Ge(),en(t.prevDerivation),t.notifySpy&&g({time:Date.now()-t.startTime})}(o)}}function _(t,e){var n,r=O(t);try{n=e()}finally{j(r)}return n}function O(t){var e=Ce.allowStateChanges;return Ce.allowStateChanges=t,e}function j(t){Ce.allowStateChanges=t}function x(){fe(!1)}function E(t){return function(e,n,r){if(r){if(r.value)return{value:v(t,r.value),enumerable:!1,configurable:!0,writable:!0};var o=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return v(t,o.call(this))}}}return function(t){return function(e,n,r){Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:function(){},set:function(e){me(this,n,S(t,e))}})}}(t).apply(this,arguments)}}var S=function(t,e,n,r){return 1===arguments.length&&"function"==typeof t?v(t.name||"<unnamed action>",t):2===arguments.length&&"function"==typeof e?v(t,e):1===arguments.length&&"string"==typeof t?E(t):!0!==r?E(e).apply(null,arguments):void(t[e]=v(t.name||e,n.value))};function T(t,e){return w("string"==typeof t?t:t.name||"<unnamed action>","function"==typeof t?t:e,this,void 0)}function P(t){return"function"==typeof t&&!0===t.isMobxAction}function A(t,e,n){me(t,e,v(e,n.bind(t)))}S.bound=function(t,e,n,r){return!0===r?(A(t,e,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return A(this,e,n.value||n.initializer.call(this)),this[e]},set:x}:{enumerable:!1,configurable:!0,set:function(t){A(this,e,t)},get:function(){}}};var C=Object.prototype.toString;function D(t,e){return k(t,e)}function k(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;return("function"===o||"object"===o||"object"==typeof e)&&function(t,e,n,r){t=M(t),e=M(e);var o=C.call(t);if(o!==C.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e)}var i="[object Array]"===o;if(!i){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!("function"==typeof s&&s instanceof s&&"function"==typeof a&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];var c=n.length;for(;c--;)if(n[c]===t)return r[c]===e;if(n.push(t),r.push(e),i){if((c=t.length)!==e.length)return!1;for(;c--;)if(!k(t[c],e[c],n,r))return!1}else{var u,l=Object.keys(t);if(c=l.length,Object.keys(e).length!==c)return!1;for(;c--;)if(u=l[c],!I(e,u)||!k(t[u],e[u],n,r))return!1}return n.pop(),r.pop(),!0}(t,e,n,r)}function M(t){return ie(t)?t.peek():Oe(t)||Bt(t)?je(t.entries()):t}function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function R(t,e){return t===e}var N={identity:R,structural:function(t,e){return D(t,e)},default:function(t,e){return function(t,e){return"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}(t,e)||R(t,e)}};function V(t,e){void 0===e&&(e=ce);var n,r=e&&e.name||t.name||"Autorun@"+le();if(!e.scheduler&&!e.delay)n=new on(r,function(){this.track(s)},e.onError);else{var o=$(e),i=!1;n=new on(r,function(){i||(i=!0,o(function(){i=!1,n.isDisposed||n.track(s)}))},e.onError)}function s(){t(n)}return n.schedule(),n.getDisposer()}var F=function(t){return t()};function $(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:F}function U(t,e,n){void 0===n&&(n=ce),"boolean"==typeof n&&(n={fireImmediately:n},pe("Using fireImmediately as argument is deprecated. Use '{ fireImmediately: true }' instead"));var r,o=n.name||"Reaction@"+le(),i=S(o,n.onError?function(t,e){return function(){try{return e.apply(this,arguments)}catch(e){t.call(this,e)}}}(n.onError,e):e),s=!n.scheduler&&!n.delay,a=$(n),c=!0,u=!1,l=n.compareStructural?N.structural:n.equals||N.default,f=new on(o,function(){c||s?h():u||(u=!0,a(h))},n.onError);function h(){if(u=!1,!f.isDisposed){var e=!1;f.track(function(){var n=t(f);e=c||!l(r,n),r=n}),c&&n.fireImmediately&&i(r,f),c||!0!==e||i(r,f),c&&(c=!1)}}return f.schedule(),f.getDisposer()}var B=function(){function t(t){var e=this;this.dependenciesState=Se.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Se.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+le(),this.value=new Ye(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Te.NONE,this.derivation=t.get,this.name=t.name||"ComputedValue@"+le(),t.set&&(this.setter=v(this.name+"-setter",t.set)),this.equals=t.equals||(t.compareStructural||t.struct?N.structural:N.default),this.scope=t.context,this.requiresReaction=!!t.requiresReaction,!0===t.keepAlive&&V(function(){return e.get()})}return t.prototype.onBecomeStale=function(){!function(t){if(t.lowestObserverState!==Se.UP_TO_DATE)return;t.lowestObserverState=Se.POSSIBLY_STALE;var e=t.observers,n=e.length;for(;n--;){var r=e[n];r.dependenciesState===Se.UP_TO_DATE&&(r.dependenciesState=Se.POSSIBLY_STALE,r.isTracing!==Te.NONE&&qe(r,t),r.onBecomeStale())}}(this)},t.prototype.onBecomeUnobserved=function(){},t.prototype.onBecomeObserved=function(){},t.prototype.get=function(){this.isComputing&&fe("Cycle detected in computation "+this.name+": "+this.derivation),0===Ce.inBatch&&0===this.observers.length?ze(this)&&(this.warnAboutUntrackedRead(),Le(),this.value=this.computeValue(!1),Ge()):(We(this),ze(this)&&this.trackAndCompute()&&function(t){if(t.lowestObserverState===Se.STALE)return;t.lowestObserverState=Se.STALE;var e=t.observers,n=e.length;for(;n--;){var r=e[n];r.dependenciesState===Se.POSSIBLY_STALE?r.dependenciesState=Se.STALE:r.dependenciesState===Se.UP_TO_DATE&&(t.lowestObserverState=Se.UP_TO_DATE)}}(this));var t=this.value;if(He(t))throw t.cause;return t},t.prototype.peek=function(){var t=this.computeValue(!1);if(He(t))throw t.cause;return t},t.prototype.set=function(t){if(this.setter){he(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else he(!1,!1)},t.prototype.trackAndCompute=function(){p()&&d({object:this.scope,type:"compute",name:this.name});var t=this.value,e=this.dependenciesState===Se.NOT_TRACKING,n=this.computeValue(!0),r=e||He(t)||He(n)||!this.equals(t,n);return r&&(this.value=n),r},t.prototype.computeValue=function(t){var e;if(this.isComputing=!0,Ce.computationDepth++,t)e=Xe(this,this.derivation,this.scope);else if(!0===Ce.disableErrorBoundaries)e=this.derivation.call(this.scope);else try{e=this.derivation.call(this.scope)}catch(t){e=new Ye(t)}return Ce.computationDepth--,this.isComputing=!1,e},t.prototype.suspend=function(){Qe(this),this.value=void 0},t.prototype.observe=function(t,e){var n=this,r=!0,o=void 0;return V(function(){var i=n.get();if(!r||e){var s=tn();t({type:"update",object:n,newValue:i,oldValue:o}),en(s)}r=!1,o=i})},t.prototype.warnAboutUntrackedRead=function(){},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return Ee(this.get())},t}();B.prototype[xe()]=B.prototype.valueOf;var L=we("ComputedValue",B);function G(t){return void 0!==t.interceptors&&t.interceptors.length>0}function W(t,e){var n=t.interceptors||(t.interceptors=[]);return n.push(e),de(function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)})}function q(t,e){var n=tn();try{var r=t.interceptors;if(r)for(var o=0,i=r.length;o<i&&(he(!(e=r[o](e))||e.type,"Intercept handlers should return nothing or a change object"),e);o++);return e}finally{en(n)}}function Y(t){return void 0!==t.changeListeners&&t.changeListeners.length>0}function H(t,e){var n=t.changeListeners||(t.changeListeners=[]);return n.push(e),de(function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)})}function z(t,e){var n=tn(),r=t.changeListeners;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](e);en(n)}}var J={};!function(){if($t)return;$t=function(){function t(t){void 0===t&&(t="Atom@"+le()),this.name=t,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Se.NOT_TRACKING}return t.prototype.onBecomeUnobserved=function(){},t.prototype.onBecomeObserved=function(){},t.prototype.reportObserved=function(){return We(this)},t.prototype.reportChanged=function(){Le(),function(t){if(t.lowestObserverState===Se.STALE)return;t.lowestObserverState=Se.STALE;var e=t.observers,n=e.length;for(;n--;){var r=e[n];r.dependenciesState===Se.UP_TO_DATE&&(r.isTracing!==Te.NONE&&qe(r,t),r.onBecomeStale()),r.dependenciesState=Se.STALE}}(this),Ge()},t.prototype.toString=function(){return this.name},t}(),Ut=we("Atom",$t)}();var K=function(t){function e(e,n,r,o){void 0===r&&(r="ObservableValue@"+le()),void 0===o&&(o=!0);var i=t.call(this,r)||this;return i.enhancer=n,i.hasUnreportedChange=!1,i.value=n(e,void 0,r),o&&p()&&d({type:"create",name:i.name,newValue:""+i.value}),i}return i(e,t),e.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.prototype.set=function(t){var e=this.value;if((t=this.prepareNewValue(t))!==J){var n=p();n&&b({type:"update",name:this.name,newValue:t,oldValue:e}),this.setNewValue(t),n&&g()}},e.prototype.prepareNewValue=function(t){if(Ke(this),G(this)){var e=q(this,{object:this,type:"update",newValue:t});if(!e)return J;t=e.newValue}return t=this.enhancer(t,this.value,this.name),this.value!==t?t:J},e.prototype.setNewValue=function(t){var e=this.value;this.value=t,this.reportChanged(),Y(this)&&z(this,{type:"update",object:this,newValue:t,oldValue:e})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(t){return W(this,t)},e.prototype.observe=function(t,e){return e&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),H(this,t)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return Ee(this.get())},e}($t);K.prototype[xe()]=K.prototype.valueOf;var X=we("ObservableValue",K),Q=function(){function t(t,e,n){this.target=t,this.name=e,this.defaultEnhancer=n,this.values={}}return t.prototype.read=function(t,e){if(this.target===t||(this.illegalAccess(t,e),this.values[e]))return this.values[e].get()},t.prototype.write=function(t,e,n){var r=this.target;r!==t&&this.illegalAccess(t,e);var o=this.values[e];if(o instanceof B)o.set(n);else{if(G(this)){if(!(c=q(this,{type:"update",object:r,name:e,newValue:n})))return;n=c.newValue}if((n=o.prepareNewValue(n))!==J){var i=Y(this),a=p(),c=i||a?{type:"update",object:r,oldValue:o.value,name:e,newValue:n}:null;a&&b(s({},c,{name:this.name,key:e})),o.setNewValue(n),i&&z(this,c),a&&g()}}},t.prototype.remove=function(t){if(this.values[t]){var e=this.target;if(G(this))if(!(i=q(this,{object:e,name:t,type:"remove"})))return;try{Le();var n=Y(this),r=p(),o=this.values[t].get();this.keys&&this.keys.remove(t),delete this.values[t],delete this.target[t];var i=n||r?{type:"remove",object:e,oldValue:o,name:t}:null;r&&b(s({},i,{name:this.name,key:t})),n&&z(this,i),r&&g()}finally{Ge()}}},t.prototype.illegalAccess=function(t,e){console.warn("Property '"+e+"' of '"+t+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},t.prototype.observe=function(t,e){return H(this,t)},t.prototype.intercept=function(t){return W(this,t)},t.prototype.getKeys=function(){var t=this;return void 0===this.keys&&(this.keys=new Zt(Object.keys(this.values).filter(function(e){return t.values[e]instanceof K}),Dt,"keys("+this.name+")",!0)),this.keys.slice()},t}();function Z(t,e,n){void 0===e&&(e=""),void 0===n&&(n=Ct);var r=t.$mobx;return r||(ge(t)||(e=(t.constructor.name||"ObservableObject")+"@"+le()),e||(e="ObservableObject@"+le()),ve(t,"$mobx",r=new Q(t,e,n)),r)}function tt(t,e,n,r){var o=Z(t);if(G(o)){var i=q(o,{object:t,name:e,type:"add",newValue:n});if(!i)return;n=i.newValue}n=(o.values[e]=new K(n,r,o.name+"."+e,!1)).value,Object.defineProperty(t,e,function(t){return nt[t]||(nt[t]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,t)},set:function(e){this.$mobx.write(this,t,e)}})}(e)),o.keys&&o.keys.push(e),function(t,e,n,r){var o=Y(t),i=p(),a=o||i?{type:"add",object:e,name:n,newValue:r}:null;i&&b(s({},a,{name:t.name,key:n}));o&&z(t,a);i&&g()}(o,t,e,n)}function et(t,e,n){var r=Z(t);n.name=r.name+"."+e,n.context=t,r.values[e]=new B(n),Object.defineProperty(t,e,function(t){return rt[t]||(rt[t]={configurable:!0,enumerable:!1,get:function(){return ot(this).read(this,t)},set:function(e){ot(this).write(this,t,e)}})}(e))}var nt={},rt={};function ot(t){var e=t.$mobx;return e||(f(t),t.$mobx)}var it=we("ObservableObjectAdministration",Q);function st(t){return!!ye(t)&&(f(t),it(t.$mobx))}function at(e){var n=h(!0,function(t,n,r,o,i){tt(t,n,r?r.initializer?r.initializer.call(t):r.value:void 0,e)}),r=(void 0!==t&&t.env,n);return r.enhancer=e,r}function ct(t,e){if(null===t||void 0===t)return!1;if(void 0!==e){if(st(t)){var n=t.$mobx;return n.values&&!!n.values[e]}return!1}return st(t)||!!t.$mobx||Ut(t)||fn(t)||L(t)}function ut(t){return 1!==arguments.length&&fe(!1),ct(t)}function lt(t,e){return"string"!=typeof e?fe(!1):ct(t,e)}function ft(t,e){if(null===t||void 0===t)return!1;if(void 0!==e){if(!1===st(t))return!1;if(!t.$mobx.values[e])return!1;var n=Lt(t,e);return L(n)}return L(t)}function ht(t){return arguments.length>1?fe(!1):ft(t)}function pt(t,e){return"string"!=typeof e?fe(!1):ft(t,e)}var dt=h(!1,function(t,e,n,r,o){var i=n.get,a=n.set,c=o[0]||{};et(t,e,s({get:i,set:a},c))}),bt=dt({equals:N.structural}),yt=function(t,e,n){if("string"==typeof e)return dt.apply(null,arguments);if(null!==t&&"object"==typeof t&&1===arguments.length)return dt.apply(null,arguments);var r="object"==typeof e?e:{};return r.get=t,r.set="function"==typeof e?e:r.set,r.name=r.name||t.name||"",new B(r)};function gt(t,e,n){return pe("'extendShallowObservable' is deprecated, use 'extendObservable(target, props, { deep: false })' instead"),mt(t,e,n,wt)}function mt(t,e,n,r){var o=(r=_t(r)).defaultDecorator||(!1===r.deep?Et:jt);Z(t,r.name,o.enhancer),Le();try{for(var i in e){var s=Object.getOwnPropertyDescriptor(e,i);0;var a=(n&&i in n?n[i]:s.get?dt:o)(t,i,s,!0);a&&Object.defineProperty(t,i,a)}}finally{Ge()}return t}yt.struct=bt;var vt={deep:!0,name:void 0,defaultDecorator:void 0},wt={deep:!1,name:void 0,defaultDecorator:void 0};function _t(t){return null===t||void 0===t?vt:"string"==typeof t?{name:t,deep:!0}:t}function Ot(t){return t.defaultDecorator?t.defaultDecorator.enhancer:!1===t.deep?Dt:Ct}Object.freeze(vt),Object.freeze(wt);var jt=at(Ct),xt=at(function(t,e,n){return void 0===t||null===t?t:st(t)||ie(t)||Bt(t)?t:Array.isArray(t)?Pt.array(t,{name:n,deep:!1}):ge(t)?Pt.object(t,void 0,{name:n,deep:!1}):Oe(t)?Pt.map(t,{name:n,deep:!1}):fe(!1)}),Et=at(Dt),St=at(function(t,e,n){0;return D(t,e)?e:t});var Tt={box:function(t,e){arguments.length>2&&At("box");var n=_t(e);return new K(t,Ot(n),n.name)},shallowBox:function(t,e){return arguments.length>2&&At("shallowBox"),pe("observable.shallowBox","observable.box(value, { deep: false })"),Pt.box(t,{name:e,deep:!1})},array:function(t,e){arguments.length>2&&At("array");var n=_t(e);return new Zt(t,Ot(n),n.name)},shallowArray:function(t,e){return arguments.length>2&&At("shallowArray"),pe("observable.shallowArray","observable.array(values, { deep: false })"),Pt.array(t,{name:e,deep:!1})},map:function(t,e){arguments.length>2&&At("map");var n=_t(e);return new Ft(t,Ot(n),n.name)},shallowMap:function(t,e){return arguments.length>2&&At("shallowMap"),pe("observable.shallowMap","observable.map(values, { deep: false })"),Pt.map(t,{name:e,deep:!1})},object:function(t,e,n){return"string"==typeof arguments[1]&&At("object"),mt({},t,e,_t(n))},shallowObject:function(t,e){return"string"==typeof arguments[1]&&At("shallowObject"),pe("observable.shallowObject","observable.object(values, {}, { deep: false })"),Pt.object(t,{},{name:e,deep:!1})},ref:Et,shallow:xt,deep:jt,struct:St},Pt=function(t,e,n){if("string"==typeof arguments[1])return jt.apply(null,arguments);if(ut(t))return t;var r=ge(t)?Pt.object(t,e,n):Array.isArray(t)?Pt.array(t,e):Oe(t)?Pt.map(t,e):t;if(r!==t)return r;fe(!1)};function At(t){fe("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}function Ct(t,e,n){return ut(t)?t:Array.isArray(t)?Pt.array(t,{name:n}):ge(t)?Pt.object(t,void 0,{name:n}):Oe(t)?Pt.map(t,{name:n}):t}function Dt(t){return t}function kt(){return"function"==typeof Symbol&&Symbol.iterator||"@@iterator"}function Mt(t,e){ve(t,kt(),e)}function It(t){return t[kt()]=Rt,t}function Rt(){return this}function Nt(t,e){void 0===e&&(e=void 0),Le();try{return t.apply(e)}finally{Ge()}}Object.keys(Tt).forEach(function(t){return Pt[t]=Tt[t]});var Vt={},Ft=function(){function t(t,e,n){if(void 0===e&&(e=Ct),void 0===n&&(n="ObservableMap@"+le()),this.enhancer=e,this.name=n,this.$mobx=Vt,this._keys=new Zt(void 0,Dt,this.name+".keys()",!0),"function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(t)}return t.prototype._has=function(t){return this._data.has(t)},t.prototype.has=function(t){return this._hasMap.has(t)?this._hasMap.get(t).get():this._updateHasMapEntry(t,!1).get()},t.prototype.set=function(t,e){var n=this._has(t);if(G(this)){var r=q(this,{type:n?"update":"add",object:this,newValue:e,name:t});if(!r)return this;e=r.newValue}return n?this._updateValue(t,e):this._addValue(t,e),this},t.prototype.delete=function(t){var e=this;if(G(this)&&!(o=q(this,{type:"delete",object:this,name:t})))return!1;if(this._has(t)){var n=p(),r=Y(this),o=r||n?{type:"delete",object:this,oldValue:this._data.get(t).value,name:t}:null;return n&&b(s({},o,{name:this.name,key:t})),Nt(function(){e._keys.remove(t),e._updateHasMapEntry(t,!1),e._data.get(t).setNewValue(void 0),e._data.delete(t)}),r&&z(this,o),n&&g(),!0}return!1},t.prototype._updateHasMapEntry=function(t,e){var n=this._hasMap.get(t);return n?n.setNewValue(e):(n=new K(e,Dt,this.name+"."+t+"?",!1),this._hasMap.set(t,n)),n},t.prototype._updateValue=function(t,e){var n=this._data.get(t);if((e=n.prepareNewValue(e))!==J){var r=p(),o=Y(this),i=o||r?{type:"update",object:this,oldValue:n.value,name:t,newValue:e}:null;r&&b(s({},i,{name:this.name,key:t})),n.setNewValue(e),o&&z(this,i),r&&g()}},t.prototype._addValue=function(t,e){var n=this;Nt(function(){var r=new K(e,n.enhancer,n.name+"."+t,!1);n._data.set(t,r),e=r.value,n._updateHasMapEntry(t,!0),n._keys.push(t)});var r=p(),o=Y(this),i=o||r?{type:"add",object:this,name:t,newValue:e}:null;r&&b(s({},i,{name:this.name,key:t})),o&&z(this,i),r&&g()},t.prototype.get=function(t){return this.has(t)?this.dehanceValue(this._data.get(t).get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.keys=function(){return this._keys[kt()]()},t.prototype.values=function(){var t=this,e=0;return It({next:function(){return e<t._keys.length?{value:t.get(t._keys[e++]),done:!1}:{value:void 0,done:!0}}})},t.prototype.entries=function(){var t=this,e=0;return It({next:function(){if(e<t._keys.length){var n=t._keys[e++];return{value:[n,t.get(n)],done:!1}}return{done:!0}}})},t.prototype.forEach=function(t,e){var n=this;this._keys.forEach(function(r){return t.call(e,n.get(r),r,n)})},t.prototype.merge=function(t){var e=this;return Bt(t)&&(t=t.toJS()),Nt(function(){ge(t)?Object.keys(t).forEach(function(n){return e.set(n,t[n])}):Array.isArray(t)?t.forEach(function(t){var n=a(t,2),r=n[0],o=n[1];return e.set(r,o)}):Oe(t)?t.forEach(function(t,n){return e.set(n,t)}):null!==t&&void 0!==t&&fe("Cannot initialize map from "+t)}),this},t.prototype.clear=function(){var t=this;Nt(function(){Ze(function(){t._keys.slice().forEach(function(e){return t.delete(e)})})})},t.prototype.replace=function(t){var e=this;return Nt(function(){var n=function(t){return ge(t)?Object.keys(t):Array.isArray(t)?t.map(function(t){return a(t,1)[0]}):Oe(t)||Bt(t)?je(t.keys()):fe("Cannot get keys from '"+t+"'")}(t);e._keys.filter(function(t){return-1===n.indexOf(t)}).forEach(function(t){return e.delete(t)}),e.merge(t)}),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.toPOJO=function(){var t=this,e={};return this._keys.forEach(function(n){return e[""+n]=t.get(n)}),e},t.prototype.toJS=function(){var t=this,e=new Map;return this._keys.forEach(function(n){return e.set(n,t.get(n))}),e},t.prototype.toJSON=function(){return this.toPOJO()},t.prototype.toString=function(){var t=this;return this.name+"[{ "+this._keys.map(function(e){return e+": "+t.get(e)}).join(", ")+" }]"},t.prototype.observe=function(t,e){return H(this,t)},t.prototype.intercept=function(t){return W(this,t)},t}();Mt(Ft.prototype,function(){return this.entries()}),ve(Ft.prototype,"undefined"!=typeof Symbol?Symbol.toStringTag:"@@toStringTag","Map");var $t,Ut,Bt=we("ObservableMap",Ft);function Lt(t,e){if("object"==typeof t&&null!==t){if(ie(t))return void 0!==e&&fe(!1),t.$mobx.atom;if(Bt(t)){var n=t;return void 0===e?Lt(n._keys):((r=n._data.get(e)||n._hasMap.get(e))||fe(!1),r)}var r;if(f(t),e&&!t.$mobx&&t[e],st(t))return e?((r=t.$mobx.values[e])||fe(!1),r):fe(!1);if(Ut(t)||L(t)||fn(t))return t}else if("function"==typeof t&&fn(t.$mobx))return t.$mobx;return fe(!1)}function Gt(t,e){return t||fe("Expecting some object"),void 0!==e?Gt(Lt(t,e)):Ut(t)||L(t)||fn(t)?t:Bt(t)?t:(f(t),t.$mobx?t.$mobx:void fe(!1))}function Wt(t,e){return(void 0!==e?Lt(t,e):st(t)||Bt(t)?Gt(t):Lt(t)).name}function qt(t,e,n){return Ht("onBecomeObserved",t,e,n)}function Yt(t,e,n){return Ht("onBecomeUnobserved",t,e,n)}function Ht(t,e,n,r){var o="string"==typeof n?Lt(e,n):Lt(e),i="string"==typeof n?r:n,s=o[t];return"function"!=typeof s?fe(!1):(o[t]=function(){s.call(this),i.call(this)},function(){o[t]=s})}function zt(t,e,n){void 0===e&&(e=be),void 0===n&&(n=be);var r=new $t(t);return qt(r,e),Yt(r,n),r}var Jt=function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,!1===t}(),Kt=0,Xt=function(){return function(){}}();!function(t,e){void 0!==Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):void 0!==t.prototype.__proto__?t.prototype.__proto__=e:t.prototype=e}(Xt,Array.prototype),Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach(function(t){Object.defineProperty(Xt.prototype,t,{configurable:!0,writable:!0,value:Array.prototype[t]})});var Qt=function(){function t(t,e,n,r){this.array=n,this.owned=r,this.values=[],this.lastKnownLength=0,this.atom=new $t(t||"ObservableArray@"+le()),this.enhancer=function(n,r){return e(n,r,t+"[..]")}}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.dehanceValues=function(t){return void 0!==this.dehancer&&this.values.length>0?t.map(this.dehancer):t},t.prototype.intercept=function(t){return W(this,t)},t.prototype.observe=function(t,e){return void 0===e&&(e=!1),e&&t({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),H(this,t)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(t){if("number"!=typeof t||t<0)throw new Error("[mobx.array] Out of range: "+t);var e=this.values.length;if(t!==e)if(t>e){for(var n=new Array(t-e),r=0;r<t-e;r++)n[r]=void 0;this.spliceWithArray(e,0,n)}else this.spliceWithArray(t,e-t)},t.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=e,e>0&&t+e+1>Kt&&re(t+e+1)},t.prototype.spliceWithArray=function(t,e,n){var r=this;Ke(this.atom);var o=this.values.length;if(void 0===t?t=0:t>o?t=o:t<0&&(t=Math.max(0,o+t)),e=1===arguments.length?o-t:void 0===e||null===e?0:Math.max(0,Math.min(e,o-t)),void 0===n&&(n=ae),G(this)){var i=q(this,{object:this.array,type:"splice",index:t,removedCount:e,added:n});if(!i)return ae;e=i.removedCount,n=i.added}var s=(n=0===n.length?n:n.map(function(t){return r.enhancer(t,void 0)})).length-e;this.updateArrayLength(o,s);var a=this.spliceItemsIntoValues(t,e,n);return 0===e&&0===n.length||this.notifyArraySplice(t,n,a),this.dehanceValues(a)},t.prototype.spliceItemsIntoValues=function(t,e,n){if(n.length<1e4)return(r=this.values).splice.apply(r,c([t,e],n));var r,o=this.values.slice(t,t+e);return this.values=this.values.slice(0,t).concat(n,this.values.slice(t+e)),o},t.prototype.notifyArrayChildUpdate=function(t,e,n){var r=!this.owned&&p(),o=Y(this),i=o||r?{object:this.array,type:"update",index:t,newValue:e,oldValue:n}:null;r&&b(s({},i,{name:this.atom.name})),this.atom.reportChanged(),o&&z(this,i),r&&g()},t.prototype.notifyArraySplice=function(t,e,n){var r=!this.owned&&p(),o=Y(this),i=o||r?{object:this.array,type:"splice",index:t,removed:n,added:e,removedCount:n.length,addedCount:e.length}:null;r&&b(s({},i,{name:this.atom.name})),this.atom.reportChanged(),o&&z(this,i),r&&g()},t}(),Zt=function(t){function e(e,n,r,o){void 0===r&&(r="ObservableArray@"+le()),void 0===o&&(o=!1);var i=t.call(this)||this,s=new Qt(r,n,i,o);return ve(i,"$mobx",s),e&&e.length&&i.spliceWithArray(0,0,e),Jt&&Object.defineProperty(s.array,"0",te),i}return i(e,t),e.prototype.intercept=function(t){return this.$mobx.intercept(t)},e.prototype.observe=function(t,e){return void 0===e&&(e=!1),this.$mobx.observe(t,e)},e.prototype.clear=function(){return this.splice(0)},e.prototype.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),t.map(function(t){return ie(t)?t.peek():t}))},e.prototype.replace=function(t){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,t)},e.prototype.toJS=function(){return this.slice()},e.prototype.toJSON=function(){return this.toJS()},e.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},e.prototype.find=function(t,e,n){void 0===n&&(n=0),3===arguments.length&&pe("The array.find fromIndex argument to find will not be supported anymore in the next major");var r=this.findIndex.apply(this,arguments);return-1===r?void 0:this.get(r)},e.prototype.findIndex=function(t,e,n){void 0===n&&(n=0),3===arguments.length&&pe("The array.findIndex fromIndex argument to find will not be supported anymore in the next major");for(var r=this.peek(),o=r.length,i=n;i<o;i++)if(t.call(e,r[i],i,this))return i;return-1},e.prototype.splice=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(t);case 2:return this.$mobx.spliceWithArray(t,e)}return this.$mobx.spliceWithArray(t,e,n)},e.prototype.spliceWithArray=function(t,e,n){return this.$mobx.spliceWithArray(t,e,n)},e.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.$mobx;return n.spliceWithArray(n.values.length,0,t),n.values.length},e.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},e.prototype.shift=function(){return this.splice(0,1)[0]},e.prototype.unshift=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.$mobx;return n.spliceWithArray(0,0,t),n.values.length},e.prototype.reverse=function(){var t=this.slice();return t.reverse.apply(t,arguments)},e.prototype.sort=function(t){var e=this.slice();return e.sort.apply(e,arguments)},e.prototype.remove=function(t){var e=this.$mobx.dehanceValues(this.$mobx.values).indexOf(t);return e>-1&&(this.splice(e,1),!0)},e.prototype.move=function(t,e){function n(t){if(t<0)throw new Error("[mobx.array] Index out of bounds: "+t+" is negative");var e=this.$mobx.values.length;if(t>=e)throw new Error("[mobx.array] Index out of bounds: "+t+" is not smaller than "+e)}if(pe("observableArray.move is deprecated, use .slice() & .replace() instead"),n.call(this,t),n.call(this,e),t!==e){var r,o=this.$mobx.values;r=t<e?c(o.slice(0,t),o.slice(t+1,e+1),[o[t]],o.slice(e+1)):c(o.slice(0,e),[o[t]],o.slice(e,t),o.slice(t+1)),this.replace(r)}},e.prototype.get=function(t){var e=this.$mobx;if(e){if(t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+e.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},e.prototype.set=function(t,e){var n=this.$mobx,r=n.values;if(t<r.length){Ke(n.atom);var o=r[t];if(G(n)){var i=q(n,{type:"update",object:this,index:t,newValue:e});if(!i)return;e=i.newValue}(e=n.enhancer(e,o))!==o&&(r[t]=e,n.notifyArrayChildUpdate(t,e,o))}else{if(t!==r.length)throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+r.length);n.spliceWithArray(t,0,[e])}},e}(Xt);Mt(Zt.prototype,function(){this.$mobx.atom.reportObserved();var t=this,e=0;return It({next:function(){return e<t.length?{value:t[e++],done:!1}:{done:!0,value:void 0}}})}),Object.defineProperty(Zt.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(t){this.$mobx.setArrayLength(t)}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&me(Zt.prototype,"undefined"!=typeof Symbol?Symbol.toStringTag:"@@toStringTag","Array"),["every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(t){var e=Array.prototype[t];he("function"==typeof e,"Base function not defined on Array prototype: '"+t+"'"),me(Zt.prototype,t,function(){return e.apply(this.peek(),arguments)})}),function(t,e){for(var n=0;n<e.length;n++)me(t,e[n],t[e[n]])}(Zt.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var te=ee(0);function ee(t){return{enumerable:!1,configurable:!1,get:function(){return this.get(t)},set:function(e){this.set(t,e)}}}function ne(t){Object.defineProperty(Zt.prototype,""+t,ee(t))}function re(t){for(var e=Kt;e<t;e++)ne(e);Kt=t}re(1e3);var oe=we("ObservableArrayAdministration",Qt);function ie(t){return ye(t)&&oe(t.$mobx)}var se="An invariant failed, however the error is obfuscated because this is an production build.",ae=[];Object.freeze(ae);var ce={};function ue(){return"undefined"!=typeof window?window:r}function le(){return++Ce.mobxGuid}function fe(t){throw he(!1,t),"X"}function he(t,e){if(!t)throw new Error("[mobx] "+(e||se))}Object.freeze(ce);function pe(t,e){return!1}function de(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var be=function(){};function ye(t){return null!==t&&"object"==typeof t}function ge(t){if(null===t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function me(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function ve(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function we(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(t){return ye(t)&&!0===t[n]}}function _e(t){return Array.isArray(t)||ie(t)}function Oe(t){return void 0!==ue().Map&&t instanceof ue().Map}function je(t){for(var e=[];;){var n=t.next();if(n.done)break;e.push(n.value)}return e}function xe(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function Ee(t){return null===t?null:"object"==typeof t?""+t:t}var Se,Te,Pe=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","disableErrorBoundaries","runId"],Ae=function(){return function(){this.version=5,this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.disableErrorBoundaries=!1}}(),Ce=new Ae,De=!1,ke=ue();function Me(){return Ce}function Ie(){var t=new Ae;for(var e in t)-1===Pe.indexOf(e)&&(Ce[e]=t[e]);Ce.allowStateChanges=!Ce.enforceActions}function Re(t,e){return Ne(Lt(t,e))}function Ne(t){var e={name:t.name};return t.observing&&t.observing.length>0&&(e.dependencies=function(t){var e=[];return t.forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),e}(t.observing).map(Ne)),e}function Ve(t,e){return Fe(Lt(t,e))}function Fe(t){var e={name:t.name};return function(t){return t.observers&&t.observers.length>0}(t)&&(e.observers=function(t){return t.observers}(t).map(Fe)),e}function $e(t,e){var n=t.observers.length;n&&(t.observersIndexes[e.__mapid]=n),t.observers[n]=e,t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function Ue(t,e){if(1===t.observers.length)t.observers.length=0,Be(t);else{var n=t.observers,r=t.observersIndexes,o=n.pop();if(o!==e){var i=r[e.__mapid]||0;i?r[o.__mapid]=i:delete r[o.__mapid],n[i]=o}delete r[e.__mapid]}}function Be(t){!1===t.isPendingUnobservation&&(t.isPendingUnobservation=!0,Ce.pendingUnobservations.push(t))}function Le(){Ce.inBatch++}function Ge(){if(0==--Ce.inBatch){un();for(var t=Ce.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,0===n.observers.length&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof B&&n.suspend())}Ce.pendingUnobservations=[]}}function We(t){var e=Ce.trackingDerivation;return null!==e?(e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(0===t.observers.length&&Ce.inBatch>0&&Be(t),!1)}function qe(t,e){if(console.log("[mobx.trace] '"+t.name+"' is invalidated due to a change in: '"+e.name+"'"),t.isTracing===Te.BREAK){var n=[];!function t(e,n,r){if(n.length>=1e3)return void n.push("(and many more)");n.push(""+new Array(r).join("\t")+e.name);e.dependencies&&e.dependencies.forEach(function(e){return t(e,n,r+1)})}(Re(t),n,1),new Function("debugger;\n/*\nTracing '"+t.name+"'\n\nYou are entering this break point because derivation '"+t.name+"' is being traced and '"+e.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof B?t.derivation.toString():"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}ke.__mobxInstanceCount?(ke.__mobxInstanceCount++,setTimeout(function(){De||fe(!1)},1)):ke.__mobxInstanceCount=1,function(t){t[t.NOT_TRACKING=-1]="NOT_TRACKING",t[t.UP_TO_DATE=0]="UP_TO_DATE",t[t.POSSIBLY_STALE=1]="POSSIBLY_STALE",t[t.STALE=2]="STALE"}(Se||(Se={})),function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(Te||(Te={}));var Ye=function(){return function(t){this.cause=t}}();function He(t){return t instanceof Ye}function ze(t){switch(t.dependenciesState){case Se.UP_TO_DATE:return!1;case Se.NOT_TRACKING:case Se.STALE:return!0;case Se.POSSIBLY_STALE:for(var e=tn(),n=t.observing,r=n.length,o=0;o<r;o++){var i=n[o];if(L(i)){if(Ce.disableErrorBoundaries)i.get();else try{i.get()}catch(t){return en(e),!0}if(t.dependenciesState===Se.STALE)return en(e),!0}}return nn(t),en(e),!1}}function Je(){return null!==Ce.trackingDerivation}function Ke(t){var e=t.observers.length>0;Ce.computationDepth>0&&e&&fe(!1),Ce.allowStateChanges||!e&&"strict"!==Ce.enforceActions||fe(!1)}function Xe(t,e,n){nn(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++Ce.runId;var r,o=Ce.trackingDerivation;if(Ce.trackingDerivation=t,!0===Ce.disableErrorBoundaries)r=e.call(n);else try{r=e.call(n)}catch(t){r=new Ye(t)}return Ce.trackingDerivation=o,function(t){for(var e=t.observing,n=t.observing=t.newObserving,r=Se.UP_TO_DATE,o=0,i=t.unboundDepsCount,s=0;s<i;s++){var a=n[s];0===a.diffValue&&(a.diffValue=1,o!==s&&(n[o]=a),o++),a.dependenciesState>r&&(r=a.dependenciesState)}n.length=o,t.newObserving=null,i=e.length;for(;i--;){var a=e[i];0===a.diffValue&&Ue(a,t),a.diffValue=0}for(;o--;){var a=n[o];1===a.diffValue&&(a.diffValue=0,$e(a,t))}r!==Se.UP_TO_DATE&&(t.dependenciesState=r,t.onBecomeStale())}(t),r}function Qe(t){var e=t.observing;t.observing=[];for(var n=e.length;n--;)Ue(e[n],t);t.dependenciesState=Se.NOT_TRACKING}function Ze(t){var e=tn(),n=t();return en(e),n}function tn(){var t=Ce.trackingDerivation;return Ce.trackingDerivation=null,t}function en(t){Ce.trackingDerivation=t}function nn(t){if(t.dependenciesState!==Se.UP_TO_DATE){t.dependenciesState=Se.UP_TO_DATE;for(var e=t.observing,n=e.length;n--;)e[n].lowestObserverState=Se.UP_TO_DATE}}function rn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!1;"boolean"==typeof t[t.length-1]&&(n=t.pop());var r=function(t){switch(t.length){case 0:return Ce.trackingDerivation;case 1:return Lt(t[0]);case 2:return Lt(t[0],t[1])}}(t);if(!r)return fe(!1);r.isTracing===Te.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?Te.BREAK:Te.LOG}var on=function(){function t(t,e,n){void 0===t&&(t="Reaction@"+le()),this.name=t,this.onInvalidate=e,this.errorHandler=n,this.observing=[],this.newObserving=[],this.dependenciesState=Se.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+le(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Te.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ce.pendingReactions.push(this),un())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){if(!this.isDisposed){if(Le(),this._isScheduled=!1,ze(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&p()&&d({name:this.name,type:"scheduled-reaction"})}catch(t){this.reportExceptionInDerivation(t)}}Ge()}},t.prototype.track=function(t){Le();var e,n=p();n&&(e=Date.now(),b({name:this.name,type:"reaction"})),this._isRunning=!0;var r=Xe(this,t,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Qe(this),He(r)&&this.reportExceptionInDerivation(r.cause),n&&g({time:Date.now()-e}),Ge()},t.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler)this.errorHandler(t,this);else{if(Ce.disableErrorBoundaries)throw t;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this;console.error(n,t),p()&&d({type:"error",name:this.name,message:n,error:""+t}),Ce.globalReactionErrorHandlers.forEach(function(n){return n(t,e)})}},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Le(),Qe(this),Ge()))},t.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t.$mobx=this,t},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.trace=function(t){void 0===t&&(t=!1),rn(this,t)},t}();function sn(t){return Ce.globalReactionErrorHandlers.push(t),function(){var e=Ce.globalReactionErrorHandlers.indexOf(t);e>=0&&Ce.globalReactionErrorHandlers.splice(e,1)}}var an=100,cn=function(t){return t()};function un(){Ce.inBatch>0||Ce.isRunningReactions||cn(ln)}function ln(){Ce.isRunningReactions=!0;for(var t=Ce.pendingReactions,e=0;t.length>0;){++e===an&&(console.error("Reaction doesn't converge to a stable state after "+an+" iterations. Probably there is a cycle in the reactive function: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}Ce.isRunningReactions=!1}var fn=we("Reaction",on);function hn(t){var e=cn;cn=function(n){return t(function(){return e(n)})}}function pn(t,e,n,r){return"function"==typeof n?function(t,e,n,r){return Gt(t,e).observe(n,r)}(t,e,n,r):function(t,e,n){return Gt(t).observe(e,n)}(t,e,n)}function dn(t,e,n){return"function"==typeof n?function(t,e,n){return Gt(t,e).intercept(n)}(t,e,n):function(t,e){return Gt(t).intercept(e)}(t,e)}function bn(t,e,n){return 1===arguments.length||e&&"object"==typeof e?function(t,e){0;var n,r=new Promise(function(r,o){var i=yn(t,r,s({},e,{onError:o}));n=function(){i(),o("WHEN_CANCELLED")}});return r.cancel=n,r}(t,e):yn(t,e,n||{})}function yn(t,e,n){var r;"number"==typeof n.timeout&&(r=setTimeout(function(){if(!i.$mobx.isDisposed){i();var t=new Error("WHEN_TIMEOUT");if(!n.onError)throw t;n.onError(t)}},n.timeout)),n.name=n.name||"When@"+le();var o=v(n.name+"-effect",e),i=V(function(e){t()&&(e.dispose(),r&&clearTimeout(r),o())},n);return i}function gn(t){return st(t)?t.$mobx.getKeys():Bt(t)?t._keys.slice():fe(!1)}function mn(t){return st(t)?gn(t).map(function(e){return t[e]}):Bt(t)?gn(t).map(function(e){return t.get(e)}):ie(t)?t.slice():fe(!1)}function vn(t){return st(t)?gn(t).map(function(e){return[e,t[e]]}):Bt(t)?gn(t).map(function(e){return[e,t.get(e)]}):ie(t)?t.map(function(t,e){return[e,t]}):fe(!1)}function wn(t,e,n){if(2!==arguments.length)if(st(t)){var r=t.$mobx;r.values[e]?r.write(t,e,n):tt(t,e,n,r.defaultEnhancer)}else if(Bt(t))t.set(e,n);else{if(!ie(t))return fe(!1);"number"!=typeof e&&(e=parseInt(e,10)),he(e>=0,"Not a valid index: '"+e+"'"),Le(),e>=t.length&&(t.length=e+1),t[e]=n,Ge()}else{Le();var o=e;try{for(var i in o)wn(t,i,o[i])}finally{Ge()}}}function _n(t,e){if(st(t))t.$mobx.remove(e);else if(Bt(t))t.delete(e);else{if(!ie(t))return fe(!1);"number"!=typeof e&&(e=parseInt(e,10)),he(e>=0,"Not a valid index: '"+e+"'"),t.splice(e,1)}}function On(t,e){if(st(t)){var n=Gt(t);return n.getKeys(),n.values[e]instanceof K}return Bt(t)?t.has(e):ie(t)?e>=0&&e<t.length:fe(!1)}function jn(t,e){if(On(t,e))return st(t)?t[e]:Bt(t)?t.get(e):ie(t)?t[e]:fe(!1)}function xn(t,e){var n="function"==typeof t?t.prototype:t;for(var r in e){var o=e[r],i=o(n,r,Object.getOwnPropertyDescriptor(n,r));i&&Object.defineProperty(n,r,i)}return t}function En(t){var e=t.enforceActions,n=t.computedRequiresReaction,r=t.disableErrorBoundaries,o=t.arrayBuffer,i=t.reactionScheduler;if(void 0!==e){if("boolean"!=typeof e&&"strict"!==e)return fail("Invalid configuration for 'enforceActions': "+e);Ce.enforceActions=e,Ce.allowStateChanges=!0!==e&&"strict"!==e}void 0!==n&&(Ce.computedRequiresReaction=!!n),!0===t.isolateGlobalState&&(De=!0,ue().__mobxInstanceCount--),void 0!==r&&(!0===r&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."),Ce.disableErrorBoundaries=!!r),"number"==typeof o&&re(o),i&&hn(i)}var Sn=0;function Tn(t){1!==arguments.length&&fe("Flow expects one 1 argument and cannot be used as decorator");var e=t.name||"<unnamed flow>";return function(){var n,r=arguments,o=++Sn,i=S(e+" - runid: "+o+" - init",t).apply(this,r),s=void 0,a=new Promise(function(t,r){var a=0;function c(t){var n;s=void 0;try{n=S(e+" - runid: "+o+" - yield "+a++,i.next).call(i,t)}catch(t){return r(t)}l(n)}function u(t){var n;s=void 0;try{n=S(e+" - runid: "+o+" - yield "+a++,i.throw).call(i,t)}catch(t){return r(t)}l(n)}function l(e){if(!e||"function"!=typeof e.then)return e.done?t(e.value):(s=Promise.resolve(e.value)).then(c,u);e.then(l,r)}n=r,c(void 0)});return a.cancel=S(e+" - runid: "+o+" - cancel",function(){try{s&&Pn(s);var t=i.return(),e=Promise.resolve(t.value);e.then(be,be),Pn(e),n(new Error("FLOW_CANCELLED"))}catch(t){n(t)}}),a}}function Pn(t){"function"==typeof t.cancel&&t.cancel()}var An={detectCycles:!0,exportMapsAsObjects:!0};function Cn(t,e,n,r){return r.detectCycles&&t.set(e,n),n}function Dn(t,e){return ut(t)?("boolean"==typeof e&&(e={detectCycles:e}),e||(e=An),!0===e.detectCycles&&(n=new Map),function t(e,n,r){if(!ut(e))return e;if(!0===n.detectCycles&&null!==e&&"object"==typeof e&&r.has(e))return r.get(e);if(ie(e)){var o=Cn(r,e,[],n),i=e.map(function(e){return t(e,n,r)});o.length=i.length;for(var s=0,a=i.length;s<a;s++)o[s]=i[s];return o}if(st(e)){for(var c in o=Cn(r,e,{},n),gn(e),e)o[c]=t(e[c],n,r);return o}if(Bt(e)){if(!1===n.exportMapsAsObjects){var u=Cn(r,e,new Map,n);return e.forEach(function(e,o){u.set(o,t(e,n,r))}),u}var l=Cn(r,e,{},n);return e.forEach(function(e,o){l[o]=t(e,n,r)}),l}return X(e)?t(e.get(),n,r):e}(t,e,n)):t;var n}function kn(t,e,n){var r;if(Bt(t)||ie(t)||X(t))r=Gt(t);else{if(!st(t))return fe(!1);if("string"!=typeof e)return fe(!1);r=Gt(t,e)}return void 0!==r.dehancer?fe(!1):(r.dehancer="function"==typeof e?e:n,function(){r.dehancer=void 0})}"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:m,extras:{getDebugName:Wt}});var Mn="$mobx"}.call(this,n(202),n(112))},function(t,e,n){const{DescribedServerError:r}=n(49);var o=0;function i(t,e,n){return function(...r){const o=e.concat(r);return o.length>=t?n.apply(this,o.slice(0,t)):i(t,o,n)}}t.exports.map=function(e,n,r){var o=[];return t.exports.forEach(e,function(){o.push(n.apply(this,arguments))},r),o},t.exports.mapObject=function(t,e,n=null){return Object.keys(t).reduce(function(r,o){return r[o]=e.call(n,t[o],o),r},{})},t.exports.forEach=function(t,e,n){if(null!=t)if(t.length===+t.length)for(var r=0;r<t.length;r++)e.call(n,t[r],r,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)},e.curry=function(t){return i(t.length,[],t)},e.curryN=function(t,e){return i(t,[],e)},t.exports.sequence=function(t,e,n){if(e&&"object"==typeof e&&(n=e,e=null),!(t instanceof Array))throw new Error("mendix/lang.sequence: sequence is not an array");var r,o,i,s=0,a=function(){r=!0,o&&i()};(i=function(){for(;s<t.length;){r=!1,o=!1;var i=t[s++];if("function"==typeof i)i.call(n,a);else{if(!n||"function"!=typeof n[i])throw new Error("mendix/lang.sequence: #"+s+" is not a function");n[i](a)}if(!r)return void(o=!0)}e&&e.call(n)})()},t.exports.collect=function(t,e,n){if(e&&"object"==typeof e&&(n=e,e=null),!(t instanceof Array))throw new Error("mendix/lang.collect: collection is not an array");for(var r=0,o=t.length+1,i=function(){0==--o&&e&&e.call(n)};r<t.length;){var s=t[r++];if("function"==typeof s)s.call(n,i);else{if(!n||"function"!=typeof n[s])throw new Error("mendix/lang.collect: #"+r+" is not a function");n[s](i)}}i()},t.exports.find=function(t,e,n){for(var r=0;r<t.length;r++)if(e.call(n,t[r],r,t))return t[r]},t.exports.findLast=function(t,e,n){for(var r=t.length-1;r>=0;r--)if(e.call(n,t[r],r,t))return t[r]},t.exports.findIndex=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return n;return-1},t.exports.flatten=function(t){const e=[];return t.forEach(t=>{e.push.apply(e,t)}),e},t.exports.toArray=function(t){return[].slice.call(t)},t.exports.objectToArray=function(t){var e=[];for(var n in t)e.push(n);return e},t.exports.arrayFromObject=function(t){return Object.keys(t).map(function(e){return[e,t[e]]})},t.exports.objectFromArray=function(t){return t.reduce(function(t,e){return t[e[0]]=e[1],t},{})},t.exports.groupBy=function(t,e){return t.map(t=>[e(t),t]).reduce((t,[e,n])=>(t[e]||(t[e]=[]),t[e].push(n),t),{})},t.exports.partition=function(t,e){for(var n=[],r=[],o=0;o<e.length;++o)t(e[o])?n.push(e[o]):r.push(e[o]);return[n,r]},t.exports.clone=function(t){return JSON.parse(JSON.stringify(t))},t.exports.delay=function(t,e,n){return setTimeout(function r(){e()?t():setTimeout(r,n||500)},n||500)},t.exports.runOrDelay=function(t,e,n){return n||(n=500),e()?t():setTimeout(function r(){e()?t():setTimeout(r,n)},n)},t.exports.waitUntilPredicateHolds=function(e,n,r){if(0===r.length||e())n();else{var o=r.shift();setTimeout(function(){t.exports.waitUntilPredicateHolds(e,n,r)},o)}},t.exports.arraySubtract=function(t,e){for(var n=0;n<e.length;n++)for(var r=t.length-1;0<=r;r--)t[r].toString()===e[n].toString()&&t.splice(r,1);return t},t.exports.objectIsEmpty=function(t){for(var e in t)return!1;return!0},t.exports.firstKey=function(t){for(var e in t)return e;return null},t.exports.inArray=function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},t.exports.unique=function(t){return t.filter(function(e,n){return t.indexOf(e)===n})},t.exports.startsWith=function(t,e){return 0===t.indexOf(e)},t.exports.endsWith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)},t.exports.trim=function(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},t.exports.capitalize=function(t){return t.length>0?t[0].toUpperCase()+t.slice(1):""},t.exports.getUniqueId=function(){return+new Date+"-"+o++},t.exports.getFileError=function(t){var e,n,o=null;return(e=t.getElementsByTagName("textarea")[0])&&(n=JSON.parse(e.value)).type&&"exception"===n.type&&((o=new r(n.description))._type="exception"),o},t.exports.registerInDojo=function(t,e){window.dojoDynamicRequire.cache[t]=function(){window.define([],function(){return e})}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(16),o=n(110),i=n(56),s=n(198),a=n(109),c=n(108),u=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,u=this._parents,f=this._unsubscribe,h=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,d=u?u.length:0;n;)n.remove(this),n=++p<d&&u[p]||null;if(i.isFunction(f))s.tryCatch(f).call(this)===a.errorObject&&(e=!0,t=t||(a.errorObject.e instanceof c.UnsubscriptionError?l(a.errorObject.e.errors):[a.errorObject.e]));if(r.isArray(h))for(p=-1,d=h.length;++p<d;){var b=h[p];if(o.isObject(b))if(s.tryCatch(b.unsubscribe).call(b)===a.errorObject){e=!0,t=t||[];var y=a.errorObject.e;y instanceof c.UnsubscriptionError?t=t.concat(l(y.errors)):t.push(y)}}if(e)throw new c.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function l(t){return t.reduce(function(t,e){return t.concat(e instanceof c.UnsubscriptionError?e.errors:e)},[])}e.Subscription=u},function(t,e,n){function r(t,e){switch(e){case"DateTime":return""!==t?new Date(t):void 0;case"String":return t;default:return""!==t?t:void 0}}function o(t){return void 0===t?"":t instanceof Date?t.getTime():t}n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o})},function(t,e,n){n.r(e),n.d(e,"retrieveByIds",function(){return s}),n.d(e,"retrieveByPath",function(){return a}),n.d(e,"retrieveByXPath",function(){return c}),n.d(e,"retrieveByQuery",function(){return u}),n.d(e,"executeMicroflow",function(){return l}),n.d(e,"executeAction",function(){return f}),n.d(e,"pollBackgroundJob",function(){return h}),n.d(e,"instantiate",function(){return p}),n.d(e,"validate",function(){return d}),n.d(e,"commit",function(){return b}),n.d(e,"rollback",function(){return y}),n.d(e,"delete",function(){return g}),n.d(e,"login",function(){return m}),n.d(e,"getSessionData",function(){return v}),n.d(e,"logout",function(){return w}),n.d(e,"keepalive",function(){return _}),n.d(e,"export",function(){return O}),n.d(e,"report",function(){return j}),n.d(e,"reportExportExcel",function(){return x}),n.d(e,"reportRetrieveParams",function(){return E}),n.d(e,"upload",function(){return S}),n.d(e,"DayOfWeek",function(){return r});var r,o=n(126),i=n(10);function s(t,e){return Object(i.b)(T(),{action:"retrieve_by_ids",params:{ids:t,schema:e}})}function a(t,e,n,r,o,s){return Object(i.b)(T(),{action:"retrieve_by_path",params:{id:t,path:e,entity:n,direction:r},changes:o,objects:s})}function c(t,e={},n=!1){return Object(i.b)(T(),{action:"retrieve_by_xpath",params:{xpath:t,schema:e,count:n}})}function u(t,e,n,r){return Object(i.b)(T(),{action:"retrieve_by_query",params:{queryId:t,constraint:n,context:e,options:r}})}function l(t,e,n,r,o,s){return Object(i.b)(T(),{action:"executemicroflow",params:{name:t,mfParams:e,validationGuids:n,asyncid:s},changes:r,objects:o})}function f(t,e,n,r,o){return Object(i.b)(T(),{action:"executeaction",params:Object.assign({},t,{asyncid:o}),changes:n,objects:r,context:e.getGuids()})}function h(t){return Object(i.b)(T(),{action:"poll_background_job",params:{asyncid:t}})}function p(t,e,n){return Object(i.b)(T(),{action:"instantiate",params:{objecttype:t},changes:e,objects:n})}function d(t,e){return Object(i.b)(T(),{action:"validate",params:{},changes:t,objects:e})}function b(t,e,n,r){return Object(i.b)(T(),{action:"commit",params:{guids:t},changes:n,objects:r,context:e.getGuids()})}function y(t,e,n){return Object(i.b)(T(),{action:"rollback",params:{guids:t},changes:e,objects:n})}function g(t,e,n){return Object(i.b)(T(),{action:"delete",params:{guids:t},changes:e,objects:n})}function m(t,e,n){return Object(i.b)(T(),{action:"login",params:{username:t,password:e,shouldgeneratetoken:n}})}function v(t){return Object(i.b)(T(),{action:"get_session_data",params:t})}function w(t){return Object(i.b)(T(),{action:"logout",params:t?{authtoken:t}:{}})}function _(){return Object(i.b)(T(),{action:"keepalive",params:{}})}async function O(t,e,n,r){await Object(i.b)(T(),{action:"export",params:Object.assign({},t,{asyncid:r}),changes:e,objects:n})}function j(t,e={},n=0,r){return Object(i.b)(T(),{action:"report",params:{reportid:t,offset:n,limit:r,params:e}})}function x(t,e={}){return Object(i.b)(T(),{action:"report_export_excel",params:{reportid:t,params:e}})}function E(t){return Object(i.b)(T(),{action:"report_retrieve_params",params:{reportid:t}})}function S(t,e,n,r,s,a){const c=mx.remoteUrl+"file?"+Object(o.stringify)(Object.assign({},n,{guid:t})),u=new FormData;return u.append("data",JSON.stringify({changes:s,objects:a})),e?u.append("blob",r,e):u.append("blob",r),Object(i.b)(c,u)}function T(){return mx.remoteUrl+"xas/"}!function(t){t[t.Sunday=0]="Sunday",t[t.Monday=1]="Monday",t[t.Tuesday=2]="Tuesday",t[t.Wednesday=3]="Wednesday",t[t.Thursday=4]="Thursday",t[t.Friday=5]="Friday",t[t.Saturday=6]="Saturday"}(r||(r={}))},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(56),i=n(111),s=n(13),a=n(71),c=n(55),u=n(72),l=function(t){function e(e,n,r){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=i.empty;break;case 1:if(!e){o.destination=i.empty;break}if("object"==typeof e){if(h(e)){var s=e[a.rxSubscriber]();o.syncErrorThrowable=s.syncErrorThrowable,o.destination=s,s.add(o)}else o.syncErrorThrowable=!0,o.destination=new f(o,e);break}default:o.syncErrorThrowable=!0,o.destination=new f(o,e,n,r)}return o}return r(e,t),e.prototype[a.rxSubscriber]=function(){return this},e.create=function(t,n,r){var o=new e(t,n,r);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(s.Subscription);e.Subscriber=l;var f=function(t){function e(e,n,r,s){var a,c=t.call(this)||this;c._parentSubscriber=e;var u=c;return o.isFunction(n)?a=n:n&&(a=n.next,r=n.error,s=n.complete,n!==i.empty&&(u=Object.create(n),o.isFunction(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(c))),c._context=u,c._next=a,c._error=r,c._complete=s,c}return r(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;c.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=c.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):u.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;u.hostReportError(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};c.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),c.config.useDeprecatedSynchronousErrorHandling)throw t;u.hostReportError(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!c.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return c.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(u.hostReportError(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l);function h(t){return t instanceof l||"syncErrorThrowable"in t&&t[a.rxSubscriber]}},function(t,e,n){n.d(e,"a",function(){return r});class r extends Error{constructor(t){super(t),Object.setPrototypeOf(this,r.prototype)}}},function(t,e,n){n.d(e,"c",function(){return o}),n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});const r=[];function o(t){r.push(t)}function i(){r.splice(0,r.length)}function s(t,e){return function t(n,o){if(n===r.length)return e(o);return r[n](o,e=>t(n+1,e))}(0,t)}},function(t,e,n){const r=n(5);var o=new r("1e20"),i=new r(2).pow(31).times(-1),s=new r(2).pow(31).minus(1),a=new r(2).pow(63).times(-1),c=new r(2).pow(63).minus(1),u=new r(2).pow(53);function l(t,e,n){return t.gte(e)&&t.lte(n)}var f={validation:{OK:0,NOT_INTEGER:1,RANGE_INTEGER:2,RANGE_LONG:3,RANGE_DECIMAL:4,RANGE_NUMBER:5},validate:function(t,e){if(/^(Integer|Long|Decimal|Float|Currency)$/.test(e)){if(""===t)return f.validation.OK;if(t instanceof r||(t=new r(t)),("Integer"===e||"Long"===e)&&function(t){return!t.mod(1).eq(0)}(t))return f.validation.NOT_INTEGER;if("Integer"===e&&!l(t,i,s))return f.validation.RANGE_INTEGER;if("Long"===e&&!l(t,a,c))return f.validation.RANGE_LONG;if("Decimal"===e&&t.abs().gte(o))return f.validation.RANGE_DECIMAL;if("Decimal"===e&&!t.mod(1e-8).eq(0))return f.validation.RANGE_DECIMAL;if(/^(Float|Currency)$/.test(e)&&t.abs().gt(u))return f.validation.RANGE_NUMBER}return f.validation.OK}};t.exports=f},function(t,e,n){n.d(e,"a",function(){return r});class r extends Error{constructor(t){super(),this.original=t,Object.setPrototypeOf(this,r.prototype)}}},function(t,e,n){n.d(e,"a",function(){return r});class r extends Error{constructor(t){super(t),Object.setPrototypeOf(this,r.prototype)}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(8);function o(t){return new r.Observable(function(e){return t.schedule(function(){return e.complete()})})}e.EMPTY=new r.Observable(function(t){return t.complete()}),e.empty=function(t){return t?o(t):e.EMPTY},e.emptyScheduled=o},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.isScheduler=function(t){return t&&"function"==typeof t.schedule}},function(t,e,n){n.d(e,"a",function(){return o});var r=n(28);class o extends r.a{constructor(t){super(t),Object.setPrototypeOf(this,o.prototype)}}},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){n.d(e,"a",function(){return r});class r extends Error{constructor(t,e){super(e),this.status=t,Object.setPrototypeOf(this,r.prototype)}}},function(t,e){t.exports=require("react-native-navigation")},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=n(95),i=n(96),s=n(170),a=n(169),c=n(32),u=n(168),l=n(167),f=n(166),h=n(100);e.from=function(t,e){if(!e)return t instanceof r.Observable?t:new r.Observable(h.subscribeTo(t));if(null!=t){if(s.isInteropObservable(t))return f.fromObservable(t,e);if(o.isPromise(t))return u.fromPromise(t,e);if(i.isArrayLike(t))return c.fromArray(t,e);if(a.isIterable(t)||"string"==typeof t)return l.fromIterable(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(17);e.map=function(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new i(t,e))}};var i=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}();e.MapOperator=i;var s=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return r(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.Subscriber)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=n(13),i=n(102);e.fromArray=function(t,e){return e?new r.Observable(function(n){var r=new o.Subscription,i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r}):new r.Observable(i.subscribeToArray(t))}},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(8),i=n(17),s=n(13),a=n(54),c=n(106),u=n(71),l=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r(e,t),e}(i.Subscriber);e.SubjectSubscriber=l;var f=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r(e,t),e.prototype[u.rxSubscriber]=function(){return new l(this)},e.prototype.lift=function(t){var e=new h(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(t.complete(),s.Subscription.EMPTY):(this.observers.push(t),new c.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new o.Observable;return t.source=this,t},e.create=function(t,e){return new h(t,e)},e}(o.Observable);e.Subject=f;var h=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.Subscription.EMPTY},e}(f);e.AnonymousSubject=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){t.exports=!n(57)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(48),o=n(122),i=n(83),s=Object.defineProperty;e.f=n(36)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){n.d(e,"a",function(){return r});class r{constructor(t,e){this._guid=t,this._fields=e}getGuid(){return this._guid}getAttributes(){return Object.keys(this._fields).map(t=>({name:t,reason:this._fields[t]}))}getFields(){return this.getAttributes()}static describe(t){const e=[];for(let n=0;void 0!==t[n];n++){const r=t[n].getFields();for(let t=0;void 0!==r[t];t++)e.push(r[t].reason)}return e.join("\n")}addAttribute(t,e){return!(t in this._fields)&&(this._fields[t]=e,!0)}addField(...t){return this.addAttribute(...t)}removeAttribute(t){return t in this._fields&&(delete this._fields[t],!0)}removeField(...t){return this.removeAttribute(...t)}getErrorReason(t){return this._fields[t]}getReasonByAttribute(...t){return this.getErrorReason(...t)}clone(){return new r(this._guid,Object.assign({},this._fields))}toString(){return Object.keys(this._fields).map(t=>`${t} ${this._fields[t]}`).join("; ")}}r.fromResponse=function(t){return t.datavalidation?t.datavalidation.map(({guid:t,errorFields:e})=>{const n={};return e.forEach(({name:t,message:e})=>{n[t]=e}),new r(t,n)}):[]}},function(t,e,n){function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(e,"__esModule",{value:!0}),e.getSymbolIterator=r,e.iterator=r(),e.$$iterator=e.iterator},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(172),o=n(100);e.subscribeToResult=function(t,e,n,i){var s=new r.InnerSubscriber(t,n,i);return o.subscribeTo(e)(s)}},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n(17).Subscriber);e.OuterSubscriber=o},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(104),i=function(t){function e(n,r){void 0===r&&(r=o.Scheduler.now);var i=t.call(this,n,function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return r(e,t),e.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,o):t.prototype.schedule.call(this,n,r,o)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(o.Scheduler);e.AsyncScheduler=i},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return r(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(n(191).Action);e.AsyncAction=o},function(t,e,n){var r=n(76)("wks"),o=n(47),i=n(24).Symbol,s="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=s&&i[t]||(s?i:o)("Symbol."+t))}).store=r},function(t,e,n){var r=n(223),o=n(78);t.exports=function(t){return r(o(t))}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(37);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){n.r(e),n.d(e,"DescribedServerError",function(){return o});var r=n(22);class o extends r.a{constructor(t){super(t),Object.setPrototypeOf(this,o.prototype)}}},function(t,e,n){n.r(e);const r=n(142);class o{constructor(){this.__labels=[],this.__labelMap={},this.__graph=[]}addEdge(t,e){const n=this._getOrCreateLabelIndex(t),r=this._getOrCreateLabelIndex(e),o=this.__graph[n];o.includes(r)||o.push(r)}neighborsOf(t){const e=this._getOrCreateLabelIndex(t);return this.__graph[e].map(this._indexToLabel,this)}reachableLabels(t){const e=t.map(this._getOrCreateLabelIndex,this);return r.reachability(this.__graph,e).map(this._indexToLabel,this)}_indexToLabel(t){return this.__labels[t]}_getOrCreateLabelIndex(t){let e=t in this.__labelMap?this.__labelMap[t]:-1;return-1===e&&(this.__labels.push(t),this.__graph.push([]),e=this.__labels.length-1,this.__labelMap[t]=e),e}}function i(t,e){return a(t,e).reachableLabels(e)}function s(t,e,n){const r=f(t);return l(null!=n?function(t,e){const n=[];return t.forEach(t=>{e.forEach(e=>{if(!t.has(e.association))return;const r=window.mx.meta.getAttributeOwner(t.getEntity(),e.association),o=t.getSelectorEntity(e.association);e.fromEntity===r&&u(t,e.association).forEach(e=>n.push({from:t.getGuid(),to:e})),e.fromEntity===o&&u(t,e.association).forEach(e=>n.push({from:e,to:t.getGuid()}))})}),n}(t,n):c(t)).reachableLabels(e).filter(t=>r[t])}function a(t,e){const n=f(t=t.filter(t=>!t.isPersistable()||t.hasChanges()||t.isNew()));return l(c(t).filter(({from:t,to:e})=>r(t)&&r(e)));function r(t){return e.includes(t)||t in n}}function c(t){const e=[];return t.forEach(t=>{t.getReferenceAttributes().filter(t=>!function(t){return"System.owner"===t||"System.changedBy"===t}(t)).forEach(n=>{u(t,n).forEach(n=>e.push({from:n,to:t.getGuid()},{from:t.getGuid(),to:n}))})}),e}function u(t,e){return t.getReferences(e).concat(t.getOriginalReferences(e))}function l(t){const e=new o;return t.forEach(({from:t,to:n})=>e.addEdge(t,n)),e}function f(t){const e={};return t.forEach(t=>{e[t.getGuid()]=t}),e}n.d(e,"findReachableGuidsToRetain",function(){return i}),n.d(e,"findReachableGuidsForRequest",function(){return s}),n.d(e,"buildRetainmentGraph",function(){return a})},function(t,e,n){n.d(e,"a",function(){return o});var r=6e4;function o(t){var e=new Date(t.getTime()),n=e.getTimezoneOffset();e.setSeconds(0,0);var o=e.getTime()%r;return n*r+o}},function(t,e){function n(t){this.fork=t}n.of=function(t){return new n(function(e,n){n(t)})},n.prototype.chain=function(t){var e=this;return new n(function(n,r){e.fork(n,function(e){t(e).fork(n,r)})})},n.prototype.orElse=function(t){var e=this;return new n(function(n,r){e.fork(function(e){t(e).fork(n,r)},r)})},n.prototype.ap=function(t){var e,r,o,i=this,s=2;return new n(function(n,a){function c(){0==--s&&a(e(r))}function u(t){void 0===o&&n(o=t)}i.fork(u,function(t){e=t,c()}),t.fork(u,function(t){r=t,c()})})},n.prototype.map=function(t){return this.chain(function(e){return n.of(t(e))})},n.rejected=n.prototype.rejected=function(t){return new n(function(e,n){e(t)})},n.parallel=function(t){return new n(function(e,n){var r,o=t.length,i=new Array(t.length);0!==t.length?t.forEach(function(t,s){t.fork(function(t){void 0===r&&(r=t,e(t))},function(t){return function(e){i[t]=e,void 0===r&&0==--o&&n(i)}}(s))}):n(i)})},n.sequence=function(t){return t.reduce(function(t,e){return t.chain(function(t){return e})},n.of(null))},t.exports=n},function(t,e){t.exports={LIKE_ESCAPE_CHAR:"~",QUOTE_CHAR:'"'}},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){var n=t.call(this,"object unsubscribed")||this;return n.name="ObjectUnsubscribedError",Object.setPrototypeOf(n,e.prototype),n}return r(e,t),e}(Error);e.ObjectUnsubscribedError=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=!1;e.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.isFunction=function(t){return"function"==typeof t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},,function(t,e,n){var r=n(9),o=n(0),i=n(22),s=n(4),a=n(14);class c extends Error{constructor(t){super(`Unable to get a member from an empty variable $${t}.`),this.variableName=t,Object.setPrototypeOf(this,c.prototype)}}n.d(e,"a",function(){return u});class u{constructor(t){this.variables=t,this.dependencies=[]}resolve(t,e){return void 0!==e?this.resolveAttribute(t,e):this.resolveVariable(t)}getDependencies(){return this.dependencies.slice()}resolveVariable(t){if(!(t in this.variables))throw new o.AssertionError;const e=this.variables[t]();if(e instanceof r.MxObject)return this.addDependency({guid:e.getGuid()}),e.getGuid();if(Object(s.d)(r.MxObject,e)){const t=e.map(t=>t.getGuid());return t.forEach(t=>this.addDependency({guid:t})),t}return e}resolveAttribute(t,e){if(!(t in this.variables))throw new o.AssertionError;const n=this.variables[t]();if(void 0===n)throw new c(t);if(!(n instanceof r.MxObject))throw new o.AssertionError;if(!n.has(e))throw new i.a(`Unable to get a member from variable $${t}, because you do not have sufficient permissions to "${n.getEntity()}.${e}".`);return this.addDependency({guid:n.getGuid()}),this.addDependency({guid:n.getGuid(),attr:e}),Object(a.b)(n.get(e),n.getAttributeType(e))}addDependency(t){this.dependencies.find(e=>e.guid===t.guid&&t.attr===e.attr)||this.dependencies.push(t)}}},function(t,e,n){var r=n(2);var o=n(6);n.d(e,"a",function(){return s});const i={beginOfCurrentMinute:function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(t,e);return n.setSeconds(0,0),n},endOfCurrentMinute:function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(t,e);return n.setSeconds(59,999),n},beginOfCurrentHour:function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(t,e);return n.setMinutes(0,0,0),n},endOfCurrentHour:function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(t,e);return n.setMinutes(59,59,999),n},beginOfCurrentDay:function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(t,e);return n.setHours(0,0,0,0),n},endOfCurrentDay:function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(t,e);return n.setHours(23,59,59,999),n},beginOfCurrentWeek:function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=e||{},i=n.locale,s=i&&i.options&&i.options.weekStartsOn,a=null==s?0:Object(o.a)(s),c=null==n.weekStartsOn?a:Object(o.a)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Object(r.a)(t,n),l=u.getDay(),f=(l<c?7:0)+l-c;return u.setDate(u.getDate()-f),u.setHours(0,0,0,0),u},endOfCurrentWeek:function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=e||{},i=n.locale,s=i&&i.options&&i.options.weekStartsOn,a=null==s?0:Object(o.a)(s),c=null==n.weekStartsOn?a:Object(o.a)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Object(r.a)(t,n),l=u.getDay(),f=6+(l<c?-7:0)-(l-c);return u.setDate(u.getDate()+f),u.setHours(23,59,59,999),u},beginOfCurrentMonth:function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(t,e);return n.setDate(1),n.setHours(0,0,0,0),n},endOfCurrentMonth:function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(t,e),o=n.getMonth();return n.setFullYear(n.getFullYear(),o+1,0),n.setHours(23,59,59,999),n},beginOfCurrentYear:function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(t,e),o=new Date(0);return o.setFullYear(n.getFullYear(),0,1),o.setHours(0,0,0,0),o},endOfCurrentYear:function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(t,e),o=n.getFullYear();return n.setFullYear(o+1,0,0),n.setHours(23,59,59,999),n}};function s(t){const e={currentUser:()=>mx.session.getUserId(),currentDateTime:t};return Object.keys(i).forEach(n=>{const r=i[n];e[n]=(()=>r(t(),{weekStartsOn:mx.session.getConfig("locale.firstDayOfWeek")})),e[n+"UTC"]=(()=>(function(t){const e=new Date(t.getTime());return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e})(r(function(t){const e=new Date(t.getTime());return e.setMinutes(e.getMinutes()+e.getTimezoneOffset()),e}(t()))))}),e}},function(t,e,n){t.exports=n(133)},function(t,e,n){n.d(e,"a",function(){return i});var r=n(5),o=n(4);const i={not:t=>!t,"=":(t,e)=>t instanceof r&&e instanceof r?t.eq(e):t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():"string"==typeof t||"string"==typeof e?(t||"")===(e||""):t instanceof Array&&e instanceof Array?t.length===e.length&&t.every(t=>e.indexOf(t)>-1):t instanceof Array&&void 0===e?0===t.length:void 0===t&&e instanceof Array?0===e.length:t===e,"!=":(t,e)=>!i["="](t,e),">"(t,e){if(t instanceof r&&e instanceof r)return t.gt(e);if(t instanceof Date&&e instanceof Date)return t.getTime()>e.getTime();if(void 0===t||void 0===e)throw new Error(s(">",t,e));return t>e},">=":(t,e)=>i["="](t,e)||i[">"](t,e),"<"(t,e){if(t instanceof r&&e instanceof r)return t.lt(e);if(t instanceof Date&&e instanceof Date)return t.getTime()<e.getTime();if(void 0===t||void 0===e)throw new Error(s("<",t,e));return t<e},"<=":(t,e)=>i["="](t,e)||i["<"](t,e),"+"(t,e){if(t instanceof r&&e instanceof r)return t.plus(e);if("string"==typeof t)return t+(void 0!==e?e.toString():"");if("string"==typeof e)return(void 0!==t?t.toString():"")+e;throw new Error(s("+",t,e))},"-"(t,e){if(1===arguments.length&&void 0!==t)return t.times(-1);if(void 0!==t&&void 0!==e)return t.minus(e);throw new Error(s("-",t,e))},"*"(t,e){if(void 0!==t&&void 0!==e)return t.times(e);throw new Error(s("*",t,e))},div(t,e){if(void 0!==t&&void 0!==e)return t.div(e);throw new Error(s("div",t,e))},mod(t,e){if(void 0!==t&&void 0!==e)return t.mod(e);throw new Error(s("mod",t,e))},":":(t,e)=>i.div(t,e),max(...t){if(t[0]instanceof r)return t.reduce((t,e)=>t.gt(e)?t:e);if(t[0]instanceof Date)return t.reduce((t,e)=>t.getTime()>e.getTime()?t:e);throw new Error(s("max",...t))},min(...t){if(t[0]instanceof r)return t.reduce((t,e)=>t.lt(e)?t:e);if(t[0]instanceof Date)return t.reduce((t,e)=>t.getTime()<e.getTime()?t:e);throw new Error(s("min",...t))},round(t,e){if(t instanceof r)return t.round(void 0===e?0:Number(e));throw new Error(s("round",t))},random:()=>new r(Math.random()),floor(t){if(t instanceof r){const e=t,n=e.mod(1);return n.eq(0)?e.eq(-0)?e.abs():e:e.minus(n).minus(e.lt(0)?1:0)}throw new Error(s("floor",t))},ceil(t){if(t instanceof r){const e=t,n=i.floor(e.times(-1));return n.eq(0)?n:n.times(-1)}throw new Error(s("ceil",t))},pow(t,e){if(t instanceof r&&e instanceof r)return t.pow(Number(e));throw new Error(s("pow",t))},abs(t){if(t instanceof r)return t.abs();throw new Error(s("abs",t))},parseInteger(t,e){if("string"==typeof t){if(/^-?\d+$/.test(t)){const e=r(t);return e.eq(-0)?e.abs():e}if(void 0===e)throw new Error(`Not parsable to Integer: ${t}`);return e}throw new Error(s("parseInteger",t))},parseDecimal(t,e){if("string"==typeof t){const n=mx.parser.parseValue(t,"Decimal");if(null===n&&void 0===e)throw new Error(`Not parsable to Decimal: ${t}`);return null===n?e:n}throw new Error(s("parseDecimal",t))},formatDecimal(t){if(t instanceof r)return mx.parser.formatValue(Number(t),"Decimal");throw new Error(s("formatDecimal",t))},isNew(t){if(void 0!==t)return mx.data.isNew(t);throw new Error(s("isNew",t))},isSynced(t){if(void 0!==t)return!mx.data.isDirty(t);throw new Error(s("isSynced",t))},toUpperCase:t=>a(t).toUpperCase(),toLowerCase:t=>a(t).toLowerCase(),trim:t=>a(t).trim(),contains:(t,e)=>a(t).indexOf(a(e))>-1,startsWith:(t,e)=>(t=a(t),e=a(e),t.substr(0,e.length)===e),endsWith:(t,e)=>(t=a(t),e=a(e),t.substr(t.length-e.length)===e),substring(t,e,n){if(t=a(t),n=n,void 0!==(e=e)&&e.gte(0)){if(2===arguments.length)return t.substr(Number(e));if(void 0!==n&&n.gte(0))return t.substr(Number(e),Number(n))}throw new Error(s("substring",t,e,n))},find(t,e,n){if(t=a(t),e=a(e),2===arguments.length)return new r(t.indexOf(e));if(void 0!==n)return new r(t.indexOf(e,Number(n)));throw new Error(s("find",t,e,n))},findLast(t,e,n){if(t=a(t),e=a(e),2===arguments.length)return new r(t.lastIndexOf(e));if(void 0!==n)return new r(t.lastIndexOf(e,Number(n)));throw new Error(s("findLast",t,e,n))},length:t=>new r(a(t).length),urlEncode:t=>encodeURIComponent(a(t)).replace("%20","+"),urlDecode:t=>decodeURIComponent(a(t).replace("+","%20")),isMatch(t,e){if(void 0!==e)return new RegExp(`^(${e})$`).test(a(t));throw new Error(s("isMatch",t,e))},replaceFirst(t,e,n){if(void 0!==e&&void 0!==n){const r=n.replace(/\$/g,"$$$$");return a(t).replace(new RegExp(e),r)}throw new Error(s("replaceFirst",t,e))},replaceAll(t,e,n){if(void 0!==e&&void 0!==n){const r=n.replace(/\$/g,"$$$$");return a(t).replace(new RegExp(e,"g"),r)}throw new Error(s("replaceAll",t,e))},_newList:()=>[],_toList(t){if(t instanceof Array)return t;if(Object(o.f)(t))return t.length>0?[t]:[];if(void 0===t)return[];throw new Error(s("_toList",t))},_addToList(t,e){if(t instanceof Array&&e instanceof Array)return t.concat(e.filter(e=>!t.includes(e)));if(t instanceof Array&&Object(o.f)(e))return t.includes(e)?t:t.concat([e]);if(t instanceof Array&&void 0===e)return t;if(void 0===t&&e instanceof Array)return e.slice(0);if(void 0===t&&Object(o.f)(e))return[e];if(void 0===t&&void 0===e)return[];throw new Error(s("_addToList",t,e))},_removeFromList(t,e){if(t instanceof Array&&e instanceof Array)return t.filter(t=>!e.includes(t));if(t instanceof Array&&Object(o.f)(e))return t.filter(t=>t!==e);if(t instanceof Array&&void 0===e)return t;if(void 0===t)return[];throw new Error(s("_removeFromList",t,e))}};function s(t,...e){return`Operator ${t} not supported in expression ${t}(${e.join(", ")})`}function a(t){return void 0===t?"":t}},function(t,e,n){n.d(e,"a",function(){return o});var r=n(5);class o{constructor(t,e){this.expressionFunctions=t,this.expressionTokens=e}evaluate(t,e){switch(t.type){case"function":if(!this.expressionFunctions[t.name])throw new Error(`Function ${t.name} is not known`);const n=t.parameters.map(t=>this.evaluate(t,e));return this.expressionFunctions[t.name].apply(null,n);case"literal":return"number"==typeof t.value?new r(t.value):null===t.value?void 0:t.value;case"variable":return void 0!==t.path?e.resolve(t.variable,t.path):e.resolve(t.variable);case"conditional":return this.evaluate(t.condition,e)?this.evaluate(t.then,e):this.evaluate(t.else,e);case"token":if(!this.expressionTokens[t.name])throw new Error(`Token ${t.name} is not known`);return this.expressionTokens[t.name]()}}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(8);e.Observable=r.Observable;var o=n(197);e.ConnectableObservable=o.ConnectableObservable;var i=n(195);e.GroupedObservable=i.GroupedObservable;var s=n(34);e.observable=s.observable;var a=n(33);e.Subject=a.Subject;var c=n(194);e.BehaviorSubject=c.BehaviorSubject;var u=n(193);e.ReplaySubject=u.ReplaySubject;var l=n(68);e.AsyncSubject=l.AsyncSubject;var f=n(187);e.asapScheduler=f.asap;var h=n(67);e.asyncScheduler=h.async;var p=n(105);e.queueScheduler=p.queue;var d=n(183);e.animationFrameScheduler=d.animationFrame;var b=n(180);e.VirtualTimeScheduler=b.VirtualTimeScheduler,e.VirtualAction=b.VirtualAction;var y=n(104);e.Scheduler=y.Scheduler;var g=n(13);e.Subscription=g.Subscription;var m=n(17);e.Subscriber=m.Subscriber;var v=n(103);e.Notification=v.Notification;var w=n(107);e.pipe=w.pipe;var _=n(70);e.noop=_.noop;var O=n(66);e.identity=O.identity;var j=n(179);e.isObservable=j.isObservable;var x=n(178);e.ArgumentOutOfRangeError=x.ArgumentOutOfRangeError;var E=n(177);e.EmptyError=E.EmptyError;var S=n(54);e.ObjectUnsubscribedError=S.ObjectUnsubscribedError;var T=n(108);e.UnsubscriptionError=T.UnsubscriptionError;var P=n(176);e.TimeoutError=P.TimeoutError;var A=n(175);e.bindCallback=A.bindCallback;var C=n(174);e.bindNodeCallback=C.bindNodeCallback;var D=n(173);e.combineLatest=D.combineLatest;var k=n(171);e.concat=k.concat;var M=n(93);e.defer=M.defer;var I=n(23);e.empty=I.empty;var R=n(163);e.forkJoin=R.forkJoin;var N=n(30);e.from=N.from;var V=n(162);e.fromEvent=V.fromEvent;var F=n(161);e.fromEventPattern=F.fromEventPattern;var $=n(160);e.generate=$.generate;var U=n(159);e.iif=U.iif;var B=n(158);e.interval=B.interval;var L=n(157);e.merge=L.merge;var G=n(91);e.never=G.never;var W=n(69);e.of=W.of;var q=n(156);e.onErrorResumeNext=q.onErrorResumeNext;var Y=n(155);e.pairs=Y.pairs;var H=n(154);e.race=H.race;var z=n(153);e.range=z.range;var J=n(101);e.throwError=J.throwError;var K=n(152);e.timer=K.timer;var X=n(151);e.using=X.using;var Q=n(150);e.zip=Q.zip;var Z=n(23);e.EMPTY=Z.EMPTY;var tt=n(91);e.NEVER=tt.NEVER;var et=n(55);e.config=et.config},function(t,e,n){const r=n(136),o=n(52),i=new r(o);i.rejected=function(t){return new i(function(e){return o.rejected(t)})},i.parallel=function(t){return new i(e=>new o((n,r)=>{if(0===t.length)return void r([]);const o=new Array(t.length);let i=t.length,s=!1;t.forEach((t,a)=>{t.run(e).fork(t=>{s||(s=!0,n(t))},t=>{o[a]=t,s||0!=--i||r(o)})})}))},i.sequence=function(t){return t.reduce((t,e)=>t.chain(t=>e.map(e=>t.concat([e]))),i.of([]))},t.exports=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.identity=function(t){return t}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(44),o=n(43);e.async=new o.AsyncScheduler(r.AsyncAction)},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(33),i=n(13),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return r(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),i.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),i.Subscription.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(o.Subject);e.AsyncSubject=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(25),o=n(32),i=n(23),s=n(188);e.of=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];switch(r.isScheduler(n)?t.pop():n=void 0,t.length){case 0:return i.empty(n);case 1:return n?o.fromArray(t,n):s.scalar(t[0]);default:return o.fromArray(t,n)}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.noop=function(){}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.rxSubscriber="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("rxSubscriber"):"@@rxSubscriber",e.$$rxSubscriber=e.rxSubscriber},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hostReportError=function(t){setTimeout(function(){throw t})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(116),o=n(73);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e){t.exports=!1},function(t,e,n){var r=n(27),o=n(24),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(75)?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(24),o=n(84),i=n(35),s=n(47)("src"),a=Function.toString,c=(""+a).split("toString");n(27).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var u="function"==typeof n;u&&(i(n,"name")||o(n,"name",e)),t[e]!==n&&(u&&(i(n,s)||o(n,s,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:a?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||a.call(this)})},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(37);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(38),o=n(82);t.exports=n(36)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(24),o=n(27),i=n(84),s=n(81),a=n(120),c=function(t,e,n){var u,l,f,h,p=t&c.F,d=t&c.G,b=t&c.S,y=t&c.P,g=t&c.B,m=d?r:b?r[e]||(r[e]={}):(r[e]||{}).prototype,v=d?o:o[e]||(o[e]={}),w=v.prototype||(v.prototype={});for(u in d&&(n=e),n)f=((l=!p&&m&&void 0!==m[u])?m:n)[u],h=g&&l?a(f,r):y&&"function"==typeof f?a(Function.call,f):f,m&&s(m,u,f,t&c.U),v[u]!=f&&i(v,u,h),y&&w[u]!=f&&(w[u]=f)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){n.r(e);var r=n(0),o=n(9),i=n(4);class s{constructor(t,e){this.currentForm=t,this.executeNanoflow=e,this.map={}}set(t,e){this.map[t]=e}get(t){if(!(t in this.map))throw new r.AssertionError;return this.map[t]}all(){return Object.keys(this.map)}mapGuidsToObjects(t){const e={};return this.all().map(t=>this.get(t)).map(t=>t instanceof o.MxObject?[t]:Array.isArray(t)?t:[]).reduce((t,e)=>t.concat(e),[]).forEach(t=>{e[t.getGuid()]=t}),t.map(t=>Object(i.b)(e[t]))}}n.d(e,"NanoflowEngine",function(){return a});class a{constructor(t){this.executors=t}execute(t,e,n){const r=new s(n,t=>this.executeWithScope(t,r));return e.forEach(({name:t,value:e})=>r.set(t,e)),this.executeWithScope(t,r)}async executeWithScope(t,e){let n=0;for(;n<t.length;){const o=t[n],i=this.executors.find(t=>t.instructionType===o.type);if(void 0===i)throw new r.AssertionError;const s=await i.execute(o,e);if(c(s)){if(-1===(n=t.findIndex(t=>t.label===s.goto)))throw new r.AssertionError}else{if(u(s))return s.result;n++}}throw new r.AssertionError}}function c(t){return void 0!==t&&"object"==typeof t&&"goto"in t}function u(t){return void 0!==t&&"object"==typeof t&&"result"in t}},function(t,e,n){n.r(e);var r=n(63),o=n(62),i=n(60),s=n(59);const a=new r.a(o.a,Object(i.a)(()=>new Date)),c=(t,e)=>{const n={};return e.all().forEach(t=>n[t]=(()=>e.get(t))),a.evaluate(t,new s.a(n))};var u=n(0);var l=n(9);var f=n(5),h=n(14);class p extends Error{constructor(t){super(t),Object.setPrototypeOf(this,p.prototype)}}function d(t){return new Promise((e,n)=>mx.data.commit({mxobjs:t,callback:e,error:n}))}function b(t){return new Promise((e,n)=>mx.data.rollback({mxobjs:t,callback:e,error:n}))}var y=n(7);var g=n(39);const m=Symbol("validations");n.d(e,"executors",function(){return v});const v=[new class{constructor(){this.instructionType="jump"}async execute(t,e){return{goto:t.target}}},new class{constructor(t){this.exprEvaluator=t,this.instructionType="switch"}async execute(t,e){const n=this.exprEvaluator(t.condition,e),r=void 0!==n?n.toString():"";if(!(r in t.targets))throw new u.AssertionError;return{goto:t.targets[r]}}}(c),new class{constructor(){this.instructionType="loop"}async execute(t,e){const n=e.get(t.listVar);if(!Array.isArray(n))throw new u.AssertionError;for(const r of n)if(e.set(t.iteratorVar,r),await e.executeNanoflow(t.body))break}},new class{constructor(t){this.evaluateExp=t,this.instructionType="return"}async execute(t,e){const n=this.evaluateExp(t.result,e);return void 0===n?{result:void 0}:Array.isArray(n)?{result:e.mapGuidsToObjects(n)}:"string"==typeof n?{result:e.mapGuidsToObjects([n])[0]}:{result:n}}}(c),new class{constructor(){this.instructionType="createObject"}async execute(t,e){const n=await new Promise((e,n)=>mx.data.create({entity:t.objectType,callback:e,error:n}));e.set(t.outputVar,n)}},new class{constructor(t){this.evaluateExp=t,this.instructionType="changeObject"}async execute(t,e){const n=e.get(t.inputVar);if(void 0===n)throw new p(`Cannot change $${t.inputVar} as it is empty`);if(!(n instanceof l.MxObject))throw new u.AssertionError;const r=this.evaluateExp(t.value,e);let o=Object(h.a)(r);o instanceof f&&(o=o.round(8)),n.set(t.member,o)}}(c),new class{constructor(){this.instructionType="commitObjects"}async execute(t,e){const n=e.get(t.inputVar);if(n instanceof l.MxObject)await d([n]);else{if(!Array.isArray(n))throw void 0===n?new p(`Cannot commit $${t.inputVar} as it is empty`):new u.AssertionError;await d(n)}}},new class{constructor(){this.instructionType="rollbackObjects"}async execute(t,e){const n=e.get(t.inputVar);if(n instanceof l.MxObject)await b([n]);else{if(!Array.isArray(n))throw void 0===n?new p(`Cannot rollback $${t.inputVar} as it is empty`):new u.AssertionError;await b(n)}}},new class{constructor(t){this.evaluateExp=t,this.instructionType="setVariable"}async execute(t,e){const n=this.evaluateExp(t.value,e);if(Array.isArray(n)){const r=e.mapGuidsToObjects(n);e.set(t.outputVar,r)}else e.set(t.outputVar,n)}}(c),new class{constructor(){this.instructionType="openForm"}async execute(t,e){const n=t.inputVar?e.get(t.inputVar):void 0;await mx.ui.openForm2(t.path,n?n.getGuid():void 0,t.title,e.currentForm,t.params)}},new class{constructor(){this.instructionType="closeForm"}async execute(t,e){await Object(y.a)(e.currentForm,"close")}},new class{constructor(t){this.evaluateExp=t,this.instructionType="showValidation"}async execute(t,e){const n=e.get(t.inputVar);if(void 0===n)throw new p(`Cannot refresh $${t.inputVar} as it is empty`);if(!(n instanceof l.MxObject))throw new u.AssertionError;const r=this.evaluateExp(t.text,e),o=void 0===r?"":r,i=function(t,e){const n=t[m]||(t[m]={});return n[e]||(n[e]={})}(e,n.getGuid());i[t.member]=o;const s=new g.a(n.getGuid(),i);mx.data.sendValidationUpdates([s])}}(c),new class{constructor(t){this.evaluateExp=t,this.instructionType="databaseRetrieve"}async execute(t,e){const{entity:n,limitExpr:r,offsetExpr:o,takeFirst:i,sort:s,outputVar:a}=t,c=r?this.evaluateExp(r,e):void 0,u=o?this.evaluateExp(o,e):void 0,l=await function(t,e){return new Promise((n,r)=>{mx.data.get({entity:t,filter:e,callback:n,error:r})})}(n,{offset:u?Number(u):void 0,amount:c?Number(c):void 0,sort:s});e.set(a,i?l[0]:l)}}(c),new class{constructor(){this.instructionType="associationRetrieve"}async execute(t,e){const{inputVar:n,association:r,entity:o,retrieveSingleObject:i,direction:s,outputVar:a}=t,c=e.get(n);if(void 0===c)return void e.set(a,void 0);if(!(c instanceof l.MxObject))throw new u.AssertionError;const f=await function(t,e,n,r){return new Promise((o,i)=>{mx.data.get({guid:t.getGuid(),path:e,entity:n,direction:r,callback:o,error:i})})}(c,r,o,s);e.set(a,i?f[0]:f)}},new class{constructor(t){this.evaluateExp=t,this.instructionType="writeLog"}async execute(t,e){const n=this.evaluateExp(t.message,e);mx.logger.log(t.level,n)}}(c)]},function(t,e,n){n.r(e),n.d(e,"MxContext",function(){return a});var r=n(9),o=n(12),i=n.n(o);let s=0;class a{constructor(t){this.id=this.ident=++s,this.trackId="",this.trackEntity="",this.trackObject=null,this.localParams={},this.constraintby=[],this._entityToGuid={},this._mxidToObject={},t&&(t.mxcontext&&this.dupFrom(t.mxcontext),t.classname&&t.mendixguid?this.setContext(t.classname,t.mendixguid):t.entity&&t.guid&&this.setContext(t.entity,t.guid))}hasTrackEntity(){return""!==this.trackEntity}hasTrackId(){return!!this.trackId}hasTrackObject(){return!!this.trackObject}getTrackEntity(){return this.trackEntity}getTrackId(){return this.trackId}getTrackObject(){return this.trackObject}setTrackObject(t){t&&this.setContext(t.getEntity(),t.getGuid()),this.trackObject=t}getObject(){return this.trackObject}setConstraints(t){null!=t&&""!==t&&0!==t.length&&(this.constraintby="string"==typeof t?t.split(","):t)}getConstraints(){for(var t=[],e=0;e<this.constraintby.length;e++)t.push(this.constraintby[e]);return t}hasBacktrack(){return 0!==this.constraintby.length}getEntities(){return Object.keys(this._entityToGuid).filter(t=>void 0!==t&&""!==this._entityToGuid[t])}setContext(t,e){if(1===arguments.length&&arguments[0]instanceof r.MxObject){var n=arguments[0];t=n.getEntity(),e=n.getGuid()}this.trackEntity=null==t?"":t,this.trackId=null==e?"":e,this.trackObject=null,this._entityToGuid[this.trackEntity]=this.trackId}unsetContext(t){if("string"!=typeof t)throw new Error("mendix/lib/MxContext.unsetContext: parameter entity is not of type String");delete this._entityToGuid[t]}getContext(t){if("string"!=typeof t)throw new Error("mendix/lib/MxContext.getContext: parameter entity is not of type String");if(t in this._entityToGuid)return this._entityToGuid[t];var e=null;return window.mx.meta.getEntity(t).getSubEntities().some(t=>t in this._entityToGuid&&(e=this._entityToGuid[t],!0)),e}hasContext(t){if("string"!=typeof t)throw new Error("mendix/lib/MxContext.hasContext: parameter entity is not of type String");return null!=this.getContext(t)}reset(){this._entityToGuid={},this._mxidToObject={},this.trackId=null,this.trackEntity="",this.trackObject=null}dupFrom(t){this.reset(),this.mixin(t)}mixin(t){if(t)t.getEntities().forEach(e=>this.setContext(e,t.getContext(e))),t.getWidgetIds().forEach(e=>this.setWidgetObject(e,t.getWidgetObject(e))),this.setParams(t.getParams()),this.setConstraints(t.getConstraints()),this.setContext(t.getTrackEntity(),t.getTrackId()),this.setTrackObject(t.getTrackObject());else{const t=this.getTrackEntity();t&&this.unsetContext(t),this.setContext(null,null)}}hasParam(t){return t in this.localParams}getParam(t){return this.hasParam(t)?this.localParams[t]:null}getParams(){return this.localParams}setParam(t,e){if(null==t)throw new Error("mendix/lib/MxContext["+this.ident+"].setParam key is null");this.localParams[t]=e}setParams(t){if("object"!=typeof t)throw new Error("mendix/lib/MxContext["+this.ident+"].setParams requires an Object.");for(var e in t)this.localParams[e]=t[e]}unsetParam(t){delete this.localParams[t]}resetParams(){this.localParams={}}isEmpty(){for(var t in this._entityToGuid)return!0;return!1}getGuids(){for(var t=this.getEntities(),e=this.getTrackId(),n=e?[e]:[],r=0,o=t.length;r<o;r++){var i=t[r];if("System.owner"!==i&&"System.changedBy"!==i){var s=this.getContext(i);s!==e&&n.push(s)}}return n}getWidgetIds(){return Object.keys(this._mxidToObject)}getWidgetObject(t){return this._mxidToObject[t]}setWidgetObject(t,e){this.setTrackObject(e),this._mxidToObject[t]=e}getWidgetObjectMap(){return i.a.clone(this._mxidToObject)}freeze(){this.setTrackObject=this.setConstraints=this.setContext=this.unsetContext=this.reset=this.dupFrom=this.setParam=this.setParams=this.unsetParam=this.setWidgetObject=this.resetParams=function(){return window.mx.logger.error("mendix/lib/MxContext["+this.ident+"].freeze: context is readonly"),!1}}}},function(t,e,n){t.exports=n(201)()},function(t,e,n){const r=n(52);var o={promiseFromTask:function(t){return new Promise(function(e,n){t.fork(n,e)})},callbackFromTask:function(t,e,n){t.fork(function(t){n&&n(t)},function(t){e&&e(t)})},taskFromPromise:function(t){return new r(function(e,n){t.then(n,e)})}};t.exports=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=n(70);e.NEVER=new r.Observable(o.noop),e.never=function(){return e.NEVER}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(16);e.isNumeric=function(t){return!r.isArray(t)&&t-parseFloat(t)+1>=0}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=n(30),i=n(23);e.defer=function(t){return new r.Observable(function(e){var n;try{n=t()}catch(t){return void e.error(t)}return(n?o.from(n):i.empty()).subscribe(e)})}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(164),o=n(66);e.mergeAll=function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),r.mergeMap(o.identity,t)}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.isPromise=function(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.isArrayLike=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(34);e.subscribeToObservable=function(t){return function(e){var n=t[r.observable]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(40);e.subscribeToIterable=function(t){return function(e){for(var n=t[r.iterator]();;){var o=n.next();if(o.done){e.complete();break}if(e.next(o.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(72);e.subscribeToPromise=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,r.hostReportError),e}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=n(102),i=n(99),s=n(98),a=n(97),c=n(96),u=n(95),l=n(110),f=n(40),h=n(34);e.subscribeTo=function(t){if(t instanceof r.Observable)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[h.observable])return a.subscribeToObservable(t);if(c.isArrayLike(t))return o.subscribeToArray(t);if(u.isPromise(t))return i.subscribeToPromise(t);if(t&&"function"==typeof t[f.iterator])return s.subscribeToIterable(t);var e=l.isObject(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(8);function o(t){var e=t.error;t.subscriber.error(e)}e.throwError=function(t,e){return e?new r.Observable(function(n){return e.schedule(o,0,{error:t,subscriber:n})}):new r.Observable(function(e){return e.error(t)})}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.subscribeToArray=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(23),o=n(69),i=n(101),s=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return o.of(this.value);case"E":return i.throwError(this.error);case"C":return r.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();e.Notification=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}();e.Scheduler=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(192),o=n(190);e.queue=new o.QueueScheduler(r.QueueAction)},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(n(13).Subscription);e.SubjectSubscription=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(70);function o(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:r.noop}e.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)},e.pipeFromArray=o},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(n){var r=t.call(this,n?n.length+" errors occurred during unsubscription:\n  "+n.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"")||this;return r.errors=n,r.name="UnsubscriptionError",Object.setPrototypeOf(r,e.prototype),r}return r(e,t),e}(Error);e.UnsubscriptionError=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.errorObject={e:{}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.isObject=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(55),o=n(72);e.empty={closed:!0,next:function(t){},error:function(t){if(r.config.useDeprecatedSynchronousErrorHandling)throw t;o.hostReportError(t)},complete:function(){}}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(116),o=n(73).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(76)("keys"),o=n(47);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(35),o=n(46),i=n(211)(!1),s=n(115)("IE_PROTO");t.exports=function(t,e){var n,a=o(t),c=0,u=[];for(n in a)n!=s&&r(a,n)&&u.push(n);for(;e.length>c;)r(a,n=e[c++])&&(~i(u,n)||u.push(n));return u}},function(t,e,n){e.f=n(45)},function(t,e,n){var r=n(77),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(80),o=n(82),i=n(46),s=n(83),a=n(35),c=n(122),u=Object.getOwnPropertyDescriptor;e.f=n(36)?u:function(t,e){if(t=i(t),e=s(e,!0),c)try{return u(t,e)}catch(t){}if(a(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(225);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(37),o=n(24).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){t.exports=!n(36)&&!n(57)(function(){return 7!=Object.defineProperty(n(121)("div"),"a",{get:function(){return 7}}).a})},,,function(t,e,n){const r=n(140),o=n(135),i=n(134),s=n(65),a=n(90);function c(){return window.openDatabase("MendixDatabase","1","Mendix Database",10485760)}function u(t,e){i.call(this),e=e||c,this._tableNames=t;const n=e();this._databasePromise=this._initialize(n)}u.prototype=Object.create(i.prototype),u.prototype._getDatabase=function(){return this._databasePromise},u.prototype._initialize=function(t){var e=r.createCreateTransaction(this._tableNames);return a.promiseFromTask(o.runWriteTransaction(t,e)).then(()=>t)},u.prototype._fetch=function(t){return function(e){var n=r.createFetchByGuidTransaction(t);return a.promiseFromTask(o.runReadTransaction(e,n))}},u.prototype._fetchSlice=function(t,e,n){return function(i){var s=r.createFetchSliceTransaction(t,e,n.offset,n.limit,n.sort);return a.promiseFromTask(o.runReadTransaction(i,s))}},u.prototype._rebuildDb=function(t){return s.ask().chain(function(e){var n=r.createRebuildTransaction(this._tableNames,t);return new s(function(t){return o.runWriteTransaction(e,n)})}.bind(this))},u.prototype._insertOrReplace=function(t){return function(e){var n=r.createInsertOrReplaceTransaction(t);return a.promiseFromTask(o.runWriteTransaction(e,n))}},u.prototype._cleanDatabase=function(){return t=>{var e=r.createCleanTransaction(this._tableNames);return a.promiseFromTask(o.runWriteTransaction(t,e))}},u.prototype._fetchDirty=function(){return s.ask().chain(function(t){var e=r.createFetchDirtyObjectsTransaction();return new s(function(n){return o.runWriteTransaction(t,e)})})},u.prototype._makeClean=function(t){return s.ask().chain(function(e){var n=r.createMakeCleanTransaction(t);return new s(function(t){return o.runWriteTransaction(e,n)})})},u.prototype._cleanupDirtyObjects=function(){return function(t){var e=r.createDirtyCleanupTransaction();return a.promiseFromTask(o.runWriteTransaction(t,e))}},t.exports=u},function(t,e,n){var r=n(145),o=n(144),i=n(143);function s(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}function a(t){var e=t.indexOf("?");return-1===e?"":t.slice(e+1)}function c(t,e){var n=function(t){var e;switch(t.arrayFormat){case"index":return function(t,n,r){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return function(t,n,r){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};default:return function(t,e,n){void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e=o({arrayFormat:"none"},e)),r=Object.create(null);return"string"!=typeof t?r:(t=t.trim().replace(/^[?#&]/,""))?(t.split("&").forEach(function(t){var e=t.replace(/\+/g," ").split("="),o=e.shift(),s=e.length>0?e.join("="):void 0;s=void 0===s?null:i(s),n(i(o),s,r)}),Object.keys(r).sort().reduce(function(t,e){var n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort(function(t,e){return Number(t)-Number(e)}).map(function(t){return e[t]}):e}(n):t[e]=n,t},Object.create(null))):r}e.extract=a,e.parse=c,e.stringify=function(t,e){!1===(e=o({encode:!0,strict:!0,arrayFormat:"none"},e)).sort&&(e.sort=function(){});var n=function(t){switch(t.arrayFormat){case"index":return function(e,n,r){return null===n?[s(e,t),"[",r,"]"].join(""):[s(e,t),"[",s(r,t),"]=",s(n,t)].join("")};case"bracket":return function(e,n){return null===n?s(e,t):[s(e,t),"[]=",s(n,t)].join("")};default:return function(e,n){return null===n?s(e,t):[s(e,t),"=",s(n,t)].join("")}}}(e);return t?Object.keys(t).sort(e.sort).map(function(r){var o=t[r];if(void 0===o)return"";if(null===o)return s(r,e);if(Array.isArray(o)){var i=[];return o.slice().forEach(function(t){void 0!==t&&i.push(n(r,t,i.length))}),i.join("&")}return s(r,e)+"="+s(o,e)}).filter(function(t){return t.length>0}).join("&"):""},e.parseUrl=function(t,e){return{url:t.split("?")[0]||"",query:c(a(t),e)}}},function(t,e){t.exports=require("react-native-sqlite-storage")},function(t,e,n){const{AssertionError:r}=n(0),o=n(12);var i="mendix.sys.Remote",s={text_message:function(t,e,n){var o=t.args,i=o.MessageContent,s=o.MessageType,a="true"===String(o.MessageBlock);if(null==i||null==s)throw new r("'Show Message' message content is null");(window.mx.ui[s.toLowerCase()]||window.mx.ui.info)(i,a);n&&n()},refresh_object_list:function(t,e,n){var r=t.args.ObjectIds;r?Promise.all(r.map(t=>window.mx.data.update2({guid:t}))).then(n):n&&n()},refresh_class:function(t,e,n){var r=t.args.classnames;null!=r?Promise.all(r.map(t=>window.mx.data.update2({entity:t}))).then(n):n&&n()},open_form:function({args:t},e,n){const{FormPath:r,FormTitle:o,FormGuid:i,FormTarget:s,FormWidth:a,FormHeight:c,FormResizable:u}=t;window.mx.ui.openForm2(r,i,o,e,{location:s,width:a,height:c,resizable:u}).then(n,window.mx.onError)},download_file:function(t,e,n){const{FileDocumentGuid:r,Target:o}=t.args;window.mx.data.get({guid:r,callback:t=>{t&&window.mx.ui.downloadFile({mxobject:t,target:o}),n&&n()}})},show_login:function(t,e,n){window.mx.ui.showLogin(),n&&n()},logout:function(t,e,n){window.mx.logout(),n&&n()},close:function(t,e,n){e.close(n)}};t.exports=function(){this.toString=function(){return i},this.execute=function(t,e,n,r){if(this.hasInstructions(t)){var i=t.instructions.filter(u),a=t.instructions.filter(function(t){return!u(t)}),c=(n?a:i.concat(a)).map(function(t){if("system"!==t.target||!(t.type in s))throw new Error("Unsupported instruction received from the server: "+JSON.stringify(t));return s[t.type].bind(null,t,e||{})});o.sequence(c,r)}else r&&r();function u(t){return"open_form"===t.type||"close"===t.type}},this.hasInstructions=function(t){return!(!t||null==t.instructions||!t.instructions.length)}}},function(t,e,n){const r=n(149);t.exports=function(){const t={},e={};this.startup=function(){window.mx.session.getConfig("metadata").forEach(function(e){const n=new r({json:e});t[n.getEntity()]=n})},this.getMap=function(){return t},this.getEntity=function(e){const n=t[e];return n||window.mx.logger.error("No permission to read or write entity "+e+", check security!"),n},this.getAttributeOwner=function(t,n){const r=t+"."+n,o=e[r];if(null!=o)return o;const i=this.getEntity(t);if(!i||!i.has(n))return null;const[s]=[t].concat(i.getSuperEntities()).filter(t=>this.getEntity(t).has(n)).slice(-1);return e[r]=s,s}}},function(t,e){t.exports=require("react-native-vector-icons")},function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),o=n(3),i=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(o),s=n(1),a=void 0;"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;var c=function(t,e){return t(e={exports:{}},e.exports),e.exports}(function(t,e){t.exports=function(){var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n=Object.defineProperty,r=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols,i=Object.getOwnPropertyDescriptor,s=Object.getPrototypeOf,a=s&&s(Object);return function c(u,l,f){if("string"!=typeof l){if(a){var h=s(l);h&&h!==a&&c(u,h,f)}var p=r(l);o&&(p=p.concat(o(l)));for(var d=0;d<p.length;++d){var b=p[d];if(!(t[b]||e[b]||f&&f[b])){var y=i(l,b);try{n(u,b,y)}catch(t){}}}return u}return u}}()}),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=(function(){function t(t){this.value=t}function e(e){var n,r;function o(n,r){try{var s=e[n](r),a=s.value;a instanceof t?Promise.resolve(a.value).then(function(t){o("next",t)},function(t){o("throw",t)}):i(s.done?"return":"normal",s.value)}catch(t){i("throw",t)}}function i(t,e){switch(t){case"return":n.resolve({value:e,done:!0});break;case"throw":n.reject(e);break;default:n.resolve({value:e,done:!1})}(n=n.next)?o(n.key,n.arg):r=null}this._invoke=function(t,e){return new Promise(function(i,s){var a={key:t,arg:e,resolve:i,reject:s,next:null};r?r=r.next=a:(n=r=a,o(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},p=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},d=function(){function t(){l(this,t),this.listeners=[]}return f(t,[{key:"on",value:function(t){var e=this;return this.listeners.push(t),function(){var n=e.listeners.indexOf(t);-1!==n&&e.listeners.splice(n,1)}}},{key:"emit",value:function(t){this.listeners.forEach(function(e){return e(t)})}}]),t}();function b(t){function e(e,n,o,i,s,a){for(var c=arguments.length,u=Array(c>6?c-6:0),l=6;l<c;l++)u[l-6]=arguments[l];return r.untracked(function(){if(i=i||"<<anonymous>>",a=a||o,null==n[o]){if(e){var r=null===n[o]?"null":"undefined";return new Error("The "+s+" `"+a+"` is marked as required in `"+i+"`, but its value is `"+r+"`.")}return null}return t.apply(void 0,[n,o,i,s,a].concat(u))})}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function y(t){var e=void 0===t?"undefined":u(t);return Array.isArray(t)?"array":t instanceof RegExp?"object":function(t,e){return"symbol"===t||"Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol}(e,t)?"symbol":e}function g(t,e){return b(function(n,o,i,s,a){return r.untracked(function(){if(t&&y(n[o])===e.toLowerCase())return null;var s=void 0;switch(e){case"Array":s=r.isObservableArray;break;case"Object":s=r.isObservableObject;break;case"Map":s=r.isObservableMap;break;default:throw new Error("Unexpected mobxType: "+e)}var c=n[o];if(!s(c)){var u=function(t){var e=y(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}(c),l=t?" or javascript `"+e.toLowerCase()+"`":"";return new Error("Invalid prop `"+a+"` of type `"+u+"` supplied to `"+i+"`, expected `mobx.Observable"+e+"`"+l+".")}return null})})}function m(t,e){return b(function(n,o,i,s,a){for(var c=arguments.length,u=Array(c>5?c-5:0),l=5;l<c;l++)u[l-5]=arguments[l];return r.untracked(function(){if("function"!=typeof e)return new Error("Property `"+a+"` of component `"+i+"` has invalid PropType notation.");var r=g(t,"Array")(n,o,i);if(r instanceof Error)return r;for(var c=n[o],l=0;l<c.length;l++)if((r=e.apply(void 0,[c,l,i,s,a+"["+l+"]"].concat(u)))instanceof Error)return r;return null})})}var v=g(!1,"Array"),w=m.bind(null,!1),_=g(!1,"Map"),O=g(!1,"Object"),j=g(!0,"Array"),x=m.bind(null,!0),E=g(!0,"Object"),S=Object.freeze({observableArray:v,observableArrayOf:w,observableMap:_,observableObject:O,arrayOrObservableArray:j,arrayOrObservableArrayOf:x,objectOrObservableObject:E});var T={mobxStores:E};Object.seal(T);var P={contextTypes:{get:function(){return T},set:function(t){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function A(t,e,n){var r,i,s="inject-"+(e.displayName||e.name||e.constructor&&e.constructor.name||"Unknown");n&&(s+="-with-"+n);var a=(i=r=function(n){function r(){var t,e,n;l(this,r);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return e=n=p(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(i))),n.storeRef=function(t){n.wrappedInstance=t},p(n,e)}return h(r,n),f(r,[{key:"render",value:function(){var n={};for(var r in this.props)this.props.hasOwnProperty(r)&&(n[r]=this.props[r]);var i=t(this.context.mobxStores||{},n,this.context)||{};for(var s in i)n[s]=i[s];return function(t){return!(t.prototype&&t.prototype.render)}(e)||(n.ref=this.storeRef),o.createElement(e,n)}}]),r}(o.Component),r.displayName=s,i);return c(a,e),a.wrappedComponent=e,Object.defineProperties(a,P),a}function C(){var t=void 0;if("function"==typeof arguments[0])return t=arguments[0],function(e){var n=A(t,e);return n.isMobxInjector=!1,(n=J(n)).isMobxInjector=!0,n};for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t=function(t){return function(e,n){return t.forEach(function(t){if(!(t in n)){if(!(t in e))throw new Error("MobX injector: Store '"+t+"' is not available! Make sure it is provided by some Provider");n[t]=e[t]}}),n}}(e),function(n){return A(t,n,e.join("-"))}}var D=r.$mobx||"$mobx",k=!1,M=!1,I=!1,R="undefined"!=typeof WeakMap?new WeakMap:void 0,N=new d;function V(t){return"function"==typeof Symbol?Symbol(t):"$mobxReactProp$"+t+Math.random()}var F=V("skipRender"),$=V("isForcingUpdate");function U(t,e,n){Object.hasOwnProperty(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writeable:!0,value:n})}function B(t){if(a)try{return a(t)}catch(t){return null}return null}function L(t){var e=B(t);e&&R&&R.set(e,t),N.emit({event:"render",renderTime:t.__$mobRenderEnd-t.__$mobRenderStart,totalTime:Date.now()-t.__$mobRenderStart,component:t,node:e})}function G(){if("undefined"==typeof WeakMap)throw new Error("[mobx-react] tracking components is not supported in this browser.");k||(k=!0)}var W=new d;function q(t,e){if(Y(t,e))return!0;if("object"!==(void 0===t?"undefined":u(t))||null===t||"object"!==(void 0===e?"undefined":u(e))||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!hasOwnProperty.call(e,n[o])||!Y(t[n[o]],e[n[o]]))return!1;return!0}function Y(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var H={componentWillUnmount:function(){if(!0!==M&&(this.render[D]&&this.render[D].dispose(),this.__$mobxIsUnmounted=!0,k)){var t=B(this);t&&R&&R.delete(t),N.emit({event:"destroy",component:this,node:t})}},componentDidMount:function(){k&&L(this)},componentDidUpdate:function(){k&&L(this)},shouldComponentUpdate:function(t,e){return M&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==e||!q(this.props,t)}};function z(t,e){var n=V(e+" value holder"),o=V(e+" atom holder");function i(){return this[o]||U(this,o,r.createAtom("reactive "+e)),this[o]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return i.call(this).reportObserved(),this[n]},set:function(t){this[$]||q(this[n],t)?U(this,n,t):(U(this,n,t),U(this,F,!0),i.call(this).reportChanged(),U(this,F,!1))}})}function J(t,e){if("string"==typeof t)throw new Error("Store names should be provided as array");if(Array.isArray(t))return I||(I=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),e?C.apply(null,t)(J(e)):function(e){return J(t,e)};var n=t;if(!0===n.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),n.__proto__===o.PureComponent&&console.warn("Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together"),!("function"!=typeof n||n.prototype&&n.prototype.render||n.isReactClass||o.Component.isPrototypeOf(n))){var i,s,a=J((s=i=function(t){function e(){return l(this,e),p(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),f(e,[{key:"render",value:function(){return n.call(this,this.props,this.context)}}]),e}(o.Component),i.displayName=n.displayName||n.name,i.contextTypes=n.contextTypes,i.propTypes=n.propTypes,i.defaultProps=n.defaultProps,s));return c(a,n),a}if(!n)throw new Error("Please pass a valid component to 'observer'");var u=n.prototype||n;!function(t){["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach(function(e){!function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t[e],o=H[e],i=r?!0===n?function(){o.apply(this,arguments),r.apply(this,arguments)}:function(){r.apply(this,arguments),o.apply(this,arguments)}:o;t[e]=i}(t,e)}),t.shouldComponentUpdate?t.shouldComponentUpdate!==H.shouldComponentUpdate&&console.warn("Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react."):t.shouldComponentUpdate=H.shouldComponentUpdate}(u),n.isMobXReactObserver=!0,z(u,"props"),z(u,"state");var d=u.render;return u.render=function(){return function(t){var e=this;if(!0===M)return t.call(this);function n(){var t=this;c=!1;var e=void 0,n=void 0;if(u.track(function(){k&&(t.__$mobRenderStart=Date.now());try{n=r._allowStateChanges(!1,a)}catch(t){e=t}k&&(t.__$mobRenderEnd=Date.now())}),e)throw W.emit(e),e;return n}var i=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",s=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalInstance&&this._reactInternalInstance._debugID||this._reactInternalFiber&&this._reactInternalFiber._debugID;U(this,F,!1),U(this,$,!1);var a=t.bind(this),c=!1,u=new r.Reaction(i+"#"+s+".render()",function(){if(!c&&(c=!0,"function"==typeof e.componentWillReact&&e.componentWillReact(),!0!==e.__$mobxIsUnmounted)){var t=!0;try{U(e,$,!0),e[F]||o.Component.prototype.forceUpdate.call(e),t=!1}finally{U(e,$,!1),t&&u.dispose()}}});return u.reactComponent=this,n[D]=u,this.render=n,n.call(this)}.call(this,d)},n}var K=J(function(t){var e=t.children,n=t.inject,r=t.render,o=e||r;if(void 0===o)return null;if(!n)return o();console.warn("<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead");var s=C(n)(o);return i.createElement(s,null)});K.displayName="Observer";var X,Q,Z=function(t,e,n,r,o){var i="children"===e?"render":"children";return"function"==typeof t[e]&&"function"==typeof t[i]?new Error("Invalid prop,do not use children and render in the same time in`"+n):"function"!=typeof t[e]&&"function"!=typeof t[i]?new Error("Invalid prop `"+o+"` of type `"+u(t[e])+"` supplied to `"+n+"`, expected `function`."):void 0};function tt(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function et(t){var e=this.constructor.getDerivedStateFromProps(t,this.state);null!==e&&void 0!==e&&this.setState(e)}function nt(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}K.propTypes={render:Z,children:Z},tt.__suppressDeprecationWarning=!0,et.__suppressDeprecationWarning=!0,nt.__suppressDeprecationWarning=!0;var rt={children:!0,key:!0,ref:!0},ot=(Q=X=function(t){function e(t,n){l(this,e);var r=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.state=t||{},r}return h(e,t),f(e,[{key:"render",value:function(){return o.Children.only(this.props.children)}},{key:"getChildContext",value:function(){var t={},e=this.context.mobxStores;if(e)for(var n in e)t[n]=e[n];for(var r in this.state)rt[r]||"suppressChangedStoreWarning"===r||(t[r]=this.props[r]);return{mobxStores:t}}}],[{key:"getDerivedStateFromProps",value:function(t,e){if(!t)return null;if(!e)return t;if(Object.keys(t).length!==Object.keys(e).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!t.suppressChangedStoreWarning)for(var n in t)rt[n]||e[n]===t[n]||console.warn("MobX Provider: Provided store '"+n+"' has changed. Please avoid replacing stores as the change might not propagate to all children");return t}}]),e}(o.Component),X.contextTypes={mobxStores:E},X.childContextTypes={mobxStores:E.isRequired},Q);if(function(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate)return t;var n=null,r=null,o=null;if("function"==typeof e.componentWillMount?n="componentWillMount":"function"==typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof e.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof e.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof e.componentWillUpdate?o="componentWillUpdate":"function"==typeof e.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==o){var i=t.displayName||t.name,s="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+s+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof t.getDerivedStateFromProps&&(e.componentWillMount=tt,e.componentWillReceiveProps=et),"function"==typeof e.getSnapshotBeforeUpdate){if("function"!=typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=nt;var a=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;a.call(this,t,e,r)}}}(ot),!o.Component)throw new Error("mobx-react requires React to be available");if(!r.spy)throw new Error("mobx-react requires mobx to be available");"function"==typeof s.unstable_batchedUpdates&&r.configure({reactionScheduler:s.unstable_batchedUpdates});if("object"===("undefined"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?"undefined":u(__MOBX_DEVTOOLS_GLOBAL_HOOK__))){var it={spy:r.spy,extras:{getDebugName:r.getDebugName}},st={renderReporter:N,componentByNodeRegistry:R,componentByNodeRegistery:R,trackComponents:G};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(st,it)}e.propTypes=S,e.PropTypes=S,e.onError=function(t){return W.on(t)},e.observer=J,e.Observer=K,e.renderReporter=N,e.componentByNodeRegistery=R,e.componentByNodeRegistry=R,e.trackComponents=G,e.useStaticRendering=function(t){M=t},e.Provider=ot,e.inject=C}).call(this,n(112))},function(t,e,n){n.r(e);n(227),n(222),n(217);var r=n(131),o=n(3),i=n(0),s=n(4);const a=Array(3).fill(null).map(()=>Math.floor(Math.random()*"abcdefghijklmnopqrst".length)).map(t=>"abcdefghijklmnopqrst"[t]).join("");let c=0;function u(t="id"){return`${t}_${a}_${c++}`}class l{initialize(t,e){}}class f extends l{constructor(){super(...arguments),this.id=u("property")}computeValue(t){return Object.assign({value:void 0,loaded:!0,id:this.id},this.compute(t))}handleAction(t,e){}}var h=n(89),p=n(11);class d{constructor(t){this.parentStore=t,this.id=u("Store"),this.stateMap={}}set(t){this.getBox(t.key,!1).set(Object.freeze(t))}get(t){return this.getBox(t,!0).get()}getAllVariableKeys(){return Object.keys(this.stateMap).map(t=>JSON.parse(t)).filter(t=>"Variable"===t.type)}getBox(t,e){const n=JSON.stringify(t);if(n in this.stateMap)return this.stateMap[n];if(e&&this.parentStore){const t=this.parentStore.findBox(n);if(t)return t}return this.stateMap[n]=p.observable.box(void 0,{name:`${this.id}[ ${n} ]`,deep:!1})}findBox(t){return t in this.stateMap?this.stateMap[t]:this.parentStore?this.parentStore.findBox(t):void 0}}const b=u("_private_store");class y extends o.Component{getChildContext(){return{[b]:this.props.store}}render(){return this.props.children||null}}function g(t){var e;return(e=class extends o.Component{render(){const e=Object.assign({$store:this.context[b]},this.props);return Object(o.createElement)(t,e,this.props.children)}}).contextTypes={[b]:Object(h.instanceOf)(d)},e}y.childContextTypes={[b]:Object(h.instanceOf)(d)};const m=new Map;function v(t){const e=m.get(t);if(void 0!==e)return e;const n=g(Object(r.observer)(class extends o.Component{constructor(t){super(t),this.propsSnapshot={};const e=[];Object.keys(t).filter(t=>"children"!==t&&"$"!==t[0]).forEach(n=>{this.propsSnapshot[n]=t[n],e.push(...function t(e){if(e instanceof l)return[e];if(Array.isArray(e))return e.map(e=>e instanceof l?[e]:w(e)?[]:t(e)).reduce((t,e)=>t.concat(e),[]);if(Object(s.e)(e)){const n=[];return Object.keys(e).forEach(r=>n.push(...t(e[r]))),n}return[]}(t[n]))}),this.dispatch=(n=>e.forEach(e=>e instanceof f&&e.handleAction(n,t.$store))),e.forEach(e=>e.initialize(t.$widgetId,t.$store))}componentWillReceiveProps(e){if(e.$widgetId!==this.props.$widgetId)throw new i.AssertionError(`Parent of widget '${this.props.$widgetId}' (${Object(s.c)(t)}) did not correctly assign keys.`)}render(){const e={$dispatch:this.dispatch};return Object.keys(this.propsSnapshot).forEach(t=>e[t]=function t(e,n){if(w(e))return e;if(e instanceof l)return e.computeValue(n);if(Array.isArray(e))return e.map(e=>t(e,n));if(Object(s.e)(e)){const r={};return Object.keys(e).forEach(o=>r[o]=t(e[o],n)),r}return e}(this.propsSnapshot[t],this.props.$store)),Object(o.createElement)(t,e,this.props.children)}}));return n.displayName=`pluginWidget(${Object(s.c)(t)})`,m.set(t,n),n}function w(t){const e=t;return e&&e.props&&e.props.$widgetId}var _=n(1),O=n(29);class j extends Error{constructor(t=""){super("Not implemented"+(""!==t?": "+t:"")),Object.setPrototypeOf(this,j.prototype)}}var x=n(130);const E=Object(x.createIconSet)({"glyphicon-asterisk":42,"glyphicon-plus":43,"glyphicon-euro":8364,"glyphicon-eur":8364,"glyphicon-minus":8722,"glyphicon-cloud":9729,"glyphicon-envelope":9993,"glyphicon-pencil":9999,"glyphicon-glass":57345,"glyphicon-music":57346,"glyphicon-search":57347,"glyphicon-heart":57349,"glyphicon-star":57350,"glyphicon-star-empty":57351,"glyphicon-user":57352,"glyphicon-film":57353,"glyphicon-th-large":57360,"glyphicon-th":57361,"glyphicon-th-list":57362,"glyphicon-ok":57363,"glyphicon-remove":57364,"glyphicon-zoom-in":57365,"glyphicon-zoom-out":57366,"glyphicon-off":57367,"glyphicon-signal":57368,"glyphicon-cog":57369,"glyphicon-trash":57376,"glyphicon-home":57377,"glyphicon-file":57378,"glyphicon-time":57379,"glyphicon-road":57380,"glyphicon-download-alt":57381,"glyphicon-download":57382,"glyphicon-upload":57383,"glyphicon-inbox":57384,"glyphicon-play-circle":57385,"glyphicon-repeat":57392,"glyphicon-refresh":57393,"glyphicon-list-alt":57394,"glyphicon-lock":57395,"glyphicon-flag":57396,"glyphicon-headphones":57397,"glyphicon-volume-off":57398,"glyphicon-volume-down":57399,"glyphicon-volume-up":57400,"glyphicon-qrcode":57401,"glyphicon-barcode":57408,"glyphicon-tag":57409,"glyphicon-tags":57410,"glyphicon-book":57411,"glyphicon-bookmark":57412,"glyphicon-print":57413,"glyphicon-camera":57414,"glyphicon-font":57415,"glyphicon-bold":57416,"glyphicon-italic":57417,"glyphicon-text-height":57424,"glyphicon-text-width":57425,"glyphicon-align-left":57426,"glyphicon-align-center":57427,"glyphicon-align-right":57428,"glyphicon-align-justify":57429,"glyphicon-list":57430,"glyphicon-indent-left":57431,"glyphicon-indent-right":57432,"glyphicon-facetime-video":57433,"glyphicon-picture":57440,"glyphicon-map-marker":57442,"glyphicon-adjust":57443,"glyphicon-tint":57444,"glyphicon-edit":57445,"glyphicon-share":57446,"glyphicon-check":57447,"glyphicon-move":57448,"glyphicon-step-backward":57449,"glyphicon-fast-backward":57456,"glyphicon-backward":57457,"glyphicon-play":57458,"glyphicon-pause":57459,"glyphicon-stop":57460,"glyphicon-forward":57461,"glyphicon-fast-forward":57462,"glyphicon-step-forward":57463,"glyphicon-eject":57464,"glyphicon-chevron-left":57465,"glyphicon-chevron-right":57472,"glyphicon-plus-sign":57473,"glyphicon-minus-sign":57474,"glyphicon-remove-sign":57475,"glyphicon-ok-sign":57476,"glyphicon-question-sign":57477,"glyphicon-info-sign":57478,"glyphicon-screenshot":57479,"glyphicon-remove-circle":57480,"glyphicon-ok-circle":57481,"glyphicon-ban-circle":57488,"glyphicon-arrow-left":57489,"glyphicon-arrow-right":57490,"glyphicon-arrow-up":57491,"glyphicon-arrow-down":57492,"glyphicon-share-alt":57493,"glyphicon-resize-full":57494,"glyphicon-resize-small":57495,"glyphicon-exclamation-sign":57601,"glyphicon-gift":57602,"glyphicon-leaf":57603,"glyphicon-fire":57604,"glyphicon-eye-open":57605,"glyphicon-eye-close":57606,"glyphicon-warning-sign":57607,"glyphicon-plane":57608,"glyphicon-calendar":57609,"glyphicon-random":57616,"glyphicon-comment":57617,"glyphicon-magnet":57618,"glyphicon-chevron-up":57619,"glyphicon-chevron-down":57620,"glyphicon-retweet":57621,"glyphicon-shopping-cart":57622,"glyphicon-folder-close":57623,"glyphicon-folder-open":57624,"glyphicon-resize-vertical":57625,"glyphicon-resize-horizontal":57632,"glyphicon-hdd":57633,"glyphicon-bullhorn":57634,"glyphicon-bell":57635,"glyphicon-certificate":57636,"glyphicon-thumbs-up":57637,"glyphicon-thumbs-down":57638,"glyphicon-hand-right":57639,"glyphicon-hand-left":57640,"glyphicon-hand-up":57641,"glyphicon-hand-down":57648,"glyphicon-circle-arrow-right":57649,"glyphicon-circle-arrow-left":57650,"glyphicon-circle-arrow-up":57651,"glyphicon-circle-arrow-down":57652,"glyphicon-globe":57653,"glyphicon-wrench":57654,"glyphicon-tasks":57655,"glyphicon-filter":57656,"glyphicon-briefcase":57657,"glyphicon-fullscreen":57664,"glyphicon-dashboard":57665,"glyphicon-paperclip":57666,"glyphicon-heart-empty":57667,"glyphicon-link":57668,"glyphicon-phone":57669,"glyphicon-pushpin":57670,"glyphicon-usd":57672,"glyphicon-gbp":57673,"glyphicon-sort":57680,"glyphicon-sort-by-alphabet":57681,"glyphicon-sort-by-alphabet-alt":57682,"glyphicon-sort-by-order":57683,"glyphicon-sort-by-order-alt":57684,"glyphicon-sort-by-attributes":57685,"glyphicon-sort-by-attributes-alt":57686,"glyphicon-unchecked":57687,"glyphicon-expand":57688,"glyphicon-collapse-down":57689,"glyphicon-collapse-up":57696,"glyphicon-log-in":57697,"glyphicon-flash":57698,"glyphicon-log-out":57699,"glyphicon-new-window":57700,"glyphicon-record":57701,"glyphicon-save":57702,"glyphicon-open":57703,"glyphicon-saved":57704,"glyphicon-import":57705,"glyphicon-export":57712,"glyphicon-send":57713,"glyphicon-floppy-disk":57714,"glyphicon-floppy-saved":57715,"glyphicon-floppy-remove":57716,"glyphicon-floppy-save":57717,"glyphicon-floppy-open":57718,"glyphicon-credit-card":57719,"glyphicon-transfer":57720,"glyphicon-cutlery":57721,"glyphicon-header":57728,"glyphicon-compressed":57729,"glyphicon-earphone":57730,"glyphicon-phone-alt":57731,"glyphicon-tower":57732,"glyphicon-stats":57733,"glyphicon-sd-video":57734,"glyphicon-hd-video":57735,"glyphicon-subtitles":57736,"glyphicon-sound-stereo":57737,"glyphicon-sound-dolby":57744,"glyphicon-sound-5-1":57745,"glyphicon-sound-6-1":57746,"glyphicon-sound-7-1":57747,"glyphicon-copyright-mark":57748,"glyphicon-registration-mark":57749,"glyphicon-cloud-download":57751,"glyphicon-cloud-upload":57752,"glyphicon-tree-conifer":57753,"glyphicon-tree-deciduous":57856,"glyphicon-cd":57857,"glyphicon-save-file":57858,"glyphicon-open-file":57859,"glyphicon-level-up":57860,"glyphicon-copy":57861,"glyphicon-paste":57862,"glyphicon-alert":57865,"glyphicon-equalizer":57872,"glyphicon-king":57873,"glyphicon-queen":57874,"glyphicon-pawn":57875,"glyphicon-bishop":57876,"glyphicon-knight":57877,"glyphicon-baby-formula":57878,"glyphicon-tent":9978,"glyphicon-blackboard":57880,"glyphicon-bed":57881,"glyphicon-apple":63743,"glyphicon-erase":57889,"glyphicon-hourglass":8987,"glyphicon-lamp":57891,"glyphicon-duplicate":57892,"glyphicon-piggy-bank":57893,"glyphicon-scissors":57894,"glyphicon-bitcoin":57895,"glyphicon-btc":57895,"glyphicon-xbt":57895,"glyphicon-yen":165,"glyphicon-jpy":165,"glyphicon-ruble":8381,"glyphicon-rub":8381,"glyphicon-scale":57904,"glyphicon-ice-lolly":57905,"glyphicon-ice-lolly-tasted":57906,"glyphicon-education":57907,"glyphicon-option-horizontal":57908,"glyphicon-option-vertical":57909,"glyphicon-menu-hamburger":57910,"glyphicon-modal-window":57911,"glyphicon-oil":57912,"glyphicon-grain":57913,"glyphicon-sunglasses":57920,"glyphicon-text-size":57921,"glyphicon-text-color":57922,"glyphicon-text-background":57923,"glyphicon-object-align-top":57924,"glyphicon-object-align-bottom":57925,"glyphicon-object-align-horizontal":57926,"glyphicon-object-align-left":57927,"glyphicon-object-align-vertical":57928,"glyphicon-object-align-right":57929,"glyphicon-triangle-right":57936,"glyphicon-triangle-left":57937,"glyphicon-triangle-bottom":57938,"glyphicon-triangle-top":57939,"glyphicon-console":57940,"glyphicon-superscript":57941,"glyphicon-subscript":57942,"glyphicon-menu-left":57943,"glyphicon-menu-right":57944,"glyphicon-menu-down":57945,"glyphicon-menu-up":57952},"GLYPHICONS Halflings","glyphicons-halflings-regular.ttf"),S=async t=>Promise.all(t.map(t=>(async t=>E.getImageSource(t,20,"black"))(t))).then(e=>t.reduce(T(e),{})),T=t=>(e,n,r)=>(e[n]=t[r],e);var P;!function(t){t[t.None=0]="None",t[t.Read=1]="Read",t[t.Write=2]="Write"}(P||(P={}));var A=n(14),C=n(64),D=function(t,e){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function k(t,e){function n(){this.constructor=t}D(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function M(t){return"function"==typeof t}var I=!1,R={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;I=t},get useDeprecatedSynchronousErrorHandling(){return I}};function N(t){setTimeout(function(){throw t})}var V={closed:!0,next:function(t){},error:function(t){if(R.useDeprecatedSynchronousErrorHandling)throw t;N(t)},complete:function(){}},F=Array.isArray||function(t){return t&&"number"==typeof t.length};function $(t){return null!=t&&"object"==typeof t}var U,B={e:{}};function L(){try{return U.apply(this,arguments)}catch(t){return B.e=t,B}}function G(t){return U=t,L}var W=function(t){function e(n){var r=t.call(this,n?n.length+" errors occurred during unsubscription:\n  "+n.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"")||this;return r.errors=n,r.name="UnsubscriptionError",Object.setPrototypeOf(r,e.prototype),r}return k(e,t),e}(Error),q=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,r=this._parents,o=this._unsubscribe,i=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s=-1,a=r?r.length:0;n;)n.remove(this),n=++s<a&&r[s]||null;if(M(o))G(o).call(this)===B&&(e=!0,t=t||(B.e instanceof W?Y(B.e.errors):[B.e]));if(F(i))for(s=-1,a=i.length;++s<a;){var c=i[s];if($(c))if(G(c.unsubscribe).call(c)===B){e=!0,t=t||[];var u=B.e;u instanceof W?t=t.concat(Y(u.errors)):t.push(u)}}if(e)throw new W(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function Y(t){return t.reduce(function(t,e){return t.concat(e instanceof W?e.errors:e)},[])}var H="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("rxSubscriber"):"@@rxSubscriber",z=function(t){function e(e,n,r){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=V;break;case 1:if(!e){o.destination=V;break}if("object"==typeof e){if(function(t){return t instanceof z||"syncErrorThrowable"in t&&t[H]}(e)){var i=e[H]();o.syncErrorThrowable=i.syncErrorThrowable,o.destination=i,i.add(o)}else o.syncErrorThrowable=!0,o.destination=new J(o,e);break}default:o.syncErrorThrowable=!0,o.destination=new J(o,e,n,r)}return o}return k(e,t),e.prototype[H]=function(){return this},e.create=function(t,n,r){var o=new e(t,n,r);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(q),J=function(t){function e(e,n,r,o){var i,s=t.call(this)||this;s._parentSubscriber=e;var a=s;return M(n)?i=n:n&&(i=n.next,r=n.error,o=n.complete,n!==V&&(M((a=Object.create(n)).unsubscribe)&&s.add(a.unsubscribe.bind(a)),a.unsubscribe=s.unsubscribe.bind(s))),s._context=a,s._next=i,s._error=r,s._complete=o,s}return k(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;R.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=R.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):N(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;N(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};R.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),R.useDeprecatedSynchronousErrorHandling)throw t;N(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!R.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return R.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(N(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(z);function K(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new X(t,e))}}var X=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Q(t,this.project,this.thisArg))},t}(),Q=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return k(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(z);function Z(t){return{loaded:!0,value:t}}function tt(t,e,n){let r;function o(){let t=!1;if(e(e=>{t=!0,r=e,a.reportChanged()}),!t)throw new i.AssertionError}function s(){n&&n()}const a=Object(p.createAtom)(t,o,s);return{current:()=>(a.reportObserved()||a.isBeingObserved||(o(),s()),r)}}class et{constructor(t){this.attributes={},this.references={},this.rawGuid=t.getGuid(),this.rawEntity=t.getEntity(),this.mxObject=function(t){return nt(`Object ${t.getGuid()}`,e=>e(t),{guid:t.getGuid()})}(t),t.getAttributes().forEach(e=>this.attributes[e]=function(t,e){return nt(`Attribute ${e} of ${t.getGuid()}`,n=>n(Object(A.b)(t.get(e),t.getAttributeType(e))),{guid:t.getGuid()},{guid:t.getGuid(),attr:e})}(t,e)),t.getAttributes().filter(e=>"ObjectReference"===t.getAttributeType(e)).forEach(e=>this.references[e]=function(t,e){return nt(`Association ${e} of ${t.getGuid()}`,n=>{const r=t.get(e);r?(n({loaded:!1}),mx.data.get({guid:r,callback:t=>{n(Z(et.from(t||void 0)))}})):n(Z(void 0))},{guid:t.getGuid()},{guid:t.getGuid(),attr:e})}(t,e))}guid(){return this.rawGuid}entity(){return this.rawEntity}old(){return this.mxObject.current()}getAccess(t){return this.mxObject.current().has(t)?this.mxObject.current().isReadonlyAttr(t)?P.Read:P.Write:P.None}get(t){if(this.getAccess(t)===P.None)throw new Error(`No access to attribute ${t}`);return this.attributes[t].current()}set(t,e){if(this.getAccess(t)!==P.Write)throw new Error(`No write access to attribute ${t}`);this.mxObject.current().set(t,Object(A.a)(e))}getByPath(t){const[e,,...n]=t.split("/");if(this.getAccess(e)===P.None)return Z(void 0);const r=this.references[e].current();return r.loaded&&void 0!==r.value&&0!==n.length?r.value.getByPath(n.join("/")):r}static from(t){if(void 0!==t)return t.__cached_mxObj2||(t.__cached_mxObj2=new et(t))}}function nt(t,e,...n){return function(t,e,...n){let r;return tt(t,t=>{let o=0;function i(){const n=++o;e(e=>{o===n&&t(e)})}i(),r=n.map(t=>Object.assign({},t,{callback:i})).map(t=>mx.data.subscribe(t))},()=>{Object(s.b)(r).forEach(t=>mx.data.unsubscribe(t)),r=void 0})}(t,e,...n.map(t=>Object.assign({},t,{tag:"PluginWidget"})))}function rt(t){return{type:"MxObject",scope:t}}function ot(t,e){return{key:rt(t),payload:{mxObject:e}}}const it="$pageParameter";function st(t){return{type:"WidgetValidation",widgetId:t}}function at(t){return{type:"Variable",variable:t}}function ct(t,e){return{key:at(t),payload:{value:e}}}class ut{constructor(t,e){this.componentId=t,this.title=e,this.store=new d,this.place="content",this.store.set(function(t){return{key:{type:"MxForm"},payload:{mxForm:t}}}(this))}setFormParameter(t){this.pageObject=t,this.store.set(function(t,e){return ot(t,et.from(e))}(it,t))}getComponentId(){return this.componentId}getTitle(){return this.title}getSubmitObjects(){return void 0!==this.pageObject?[this.pageObject]:[]}setSuspend(t){}close(t){O.Navigation.pop(this.componentId,{}).then(t,mx.onError)}publish(t,e){e()}}const lt={};let ft,ht,pt={};class dt{async openForm2(t,e,n,r,o){const i=n||lt[t].title;return await O.Navigation.push(r.getComponentId(),{component:{name:t,passProps:{title:i,formParameterGuid:e},options:{topBar:{visible:!0,title:{text:i}}}}}),Object(s.b)(ht)}reload(){throw new j("reload")}confirmation(t){t.handler()}showLogin(){throw new j("showLogin")}showProgress(){return 0}hideProgress(){}info(t,e){}error(t,e){}static registerPage(t,e,n){lt[t]=e,O.Navigation.registerComponent(t,()=>(function(t){return class extends o.Component{render(){const e=new ut(this.props.componentId,this.props.title);return ht=e,this.props.formParameterGuid&&mx.data.get({guid:this.props.formParameterGuid,callback:Object(p.action)(t=>{e.setFormParameter(t)}),error:mx.onError}),Object(o.createElement)(_.SafeAreaView,{style:{flex:1}},Object(o.createElement)(y,{store:e.store},t()))}}})(n))}static setTabBar(t,{bottomTabs:e,bottomTab:n}={}){const r=t.filter(t=>t.icon).map(t=>t.icon);pt=Object.assign({},pt,{bottomTabs:e,bottomTab:n}),ft=S(r).then(e=>{return{bottomTabs:{children:t.map((t,n)=>{const r=lt[t.pageId].title;return{stack:{children:[{component:{name:t.pageId,passProps:{title:r},options:{topBar:{visible:!0,title:{text:r}}}}}],options:{bottomTab:{text:t.title,icon:e[t.icon],testID:`bottomTab$item${n}`}}}}})}}})}static setHomePage(t){const e=lt[t].title;ft=Promise.resolve({stack:{children:[{component:{name:t,passProps:{title:e},options:{topBar:{visible:!0,title:{text:e}}}}}]}})}static async startApp(){if(!ft)throw new Error("Navigation not configured");return O.Navigation.setDefaultOptions(pt),ft.then(t=>O.Navigation.setRoot({root:t}))}}var bt=n(129),yt=n(128),gt=n(127),mt=n(19),vt=n(18),wt=n(22);class _t extends wt.a{constructor(t){super(t),Object.setPrototypeOf(this,_t.prototype)}}var Ot=n(39);const{MxObject:jt}=n(9),{MxContext:xt}=n(88),Et=n(12),St=n(147),Tt=n(141),Pt=n(50);function At(t,e){t=t||{};var n=this;const r=[];let o,s,a;const c=Et.curryN(3,y),u=Et.curry(g);function l(){const t=window.mx.session.getConfig("sync_config.fetch")||[];return s.downloadObjects(t)}function f(){const t=(window.mx.session.getConfig("sync_config.fetch")||[]).map(t=>t.store).filter(t=>window.mx.meta.getEntity(t).isA("System.FileDocument"));return s.downloadFiles(t)}async function h(){try{await s.upload()}catch(t){throw[vt.a,_t].some(e=>t instanceof e)||await s.cleanupDirtyObjects(),t}}function p(t){if("object"!=typeof t)throw new i.AssertionError("args is not an object");if("function"!=typeof t.callback)throw new i.AssertionError("callback is not a function");if(t.mxobj&&!(t.mxobj instanceof jt))throw new i.AssertionError("mxobj is not a MxObject");if(t.mxobjs&&!(t.mxobjs instanceof Array))throw new i.AssertionError("mxobjs is not an Array");if(!t.mxobj&&!t.mxobjs||t.mxobj&&t.mxobjs)throw new i.AssertionError("one of mxobj or mxobjs should be passed");return t.mxobj?[t.mxobj]:t.mxobjs}function d(){const n=e.getAllObjects(),o=Tt.fromArray(n.map(t=>t.getGuid())),i=o.difference(Tt.fromArray(function(){const t=window.mx.session.getUserId(),e=window.mx.session.getSessionObjectId(),o=[t,e],i=Et.unique([].concat(r.filter(t=>void 0!==t.guid).map(t=>t.guid))).concat(o);return Pt.findReachableGuidsToRetain(n,i)}())).values();t.logCleanupStatistics&&window.mx.logger.debug(function(){const t=Et.groupBy(i,t=>e.getObject(t).getEntity()),n=Et.arrayFromObject(t).map(([t,e])=>t+": "+e.join(", ")).join("\n");return`Garbage collecting ${i.length} of ${o.length()}\n${n}`}()),e.removeObjects(i)}function b(t,e){return function(){y(t,e)}}function y(t,e,...n){try{t&&t.apply(e,n)}catch(t){window.mx.onError(t)}}function g(t,e,n){t?t.call(e,n):window.mx.onError(n)}function m(t){return e.has(t.getGuid())}function v(t){return t.getGuid()}function w(t){return t.getEntity()}this.getBacktrack=function(t,e,r,o,s){if("function"!=typeof o&&(s=o,o=null),e&&0!==e.length){var a=null,c=[],l=0,f=!0,h=function(){var t=e[l++];t?function(t,e,r,o){var s=e.split("/"),a=function(t){var e,n=s.shift(),o=s.shift();if(null!=t&&null!=t.length&&0!==t.length){for(var i=[],a=0;a<t.length;a++)null!=t[a]&&i.push("id='"+t[a].getGuid()+"'");i.length?(e="["+o+"/"+n+"["+i.join(" or ")+"]]",1===s.length?r(e):(n=s.shift(),o=s.shift(),r("["+o+"/"+n+e+"]"))):r(null)}else r(null)};!function(){var e=s.shift(),c=s.shift();if(1!==s.length)null!=window.mx.meta.getEntity(e)?t.isA(e)?t.has(c)?""!==t.get(c)?n.get({guids:t.getReferences(c),callback:a,error:o}):r(null):g(o,null,new Error(`Reference ${c} not found in entity ${e}`)):g(o,null,new i.AssertionError(`Entity ${t.getEntity()} is not a ${e} or one of its subclasses`)):g(o,null,new Error(`Entity ${e} does not exist`));else{var u="["+c+"='"+t.getGuid()+"']";r(u)}}()}(a,t,function(t){t?c.push(t):f=!1,h()},u(o,s)):r.call(s,c.join(""),f)};t?n.get({guid:t,callback:function(t){t?(a=t,h()):r.call(s,"",!1)},error:u(o,s)}):r.call(s,"",!1)}else r.call(s,"",!0)},this.toString=function(){return"mendix.sys.Data"},this.startup=function(n){s=n,o=new St(n,e,function(t){return!function(t){return r.some(e=>e.guid!==t&&!e.val)}(t)});const i=null!=t.garbageCollectionInterval?Number(t.garbageCollectionInterval):1e4;0!==i&&(a=window.setInterval(d,i))},this.subscribe=function(t,e){const n=Object.assign({},t,{callback(...n){t.callback&&t.callback.call(e,...n)}});return r.push(n),()=>{const t=r.indexOf(n);-1!==t?r.splice(t,1):window.mx.logger.warn(`mx.data.unsubscribe: attempting to unsubscribe already unsubscribed subscription ${n}`)}},this.unsubscribe=function(t){if("function"!=typeof t)throw new i.AssertionError("Trying to unsubscribe using an invalid subscription handle");t()},this.update=function({entity:t,attr:e,guid:n,value:r,callback:o}){this.update2({entity:t,attr:e,guid:n,value:r}).then(o)},this.update2=function({topic:t,entity:e,attr:n,guid:o,value:s}){if(t){return a(r.filter(e=>e.topic===t),()=>[])}if(e){const t=function(t){const e=window.mx.meta.getEntity(t);if(!e)throw new Error(`No permission to read or write entity ${t}, check security!`);return[t].concat(e.getSuperEntities())}(e);return a(r.filter(e=>null!=e.entity&&t.includes(e.entity)),t=>[t.entity])}if(n){return a(r.filter(t=>!t.val&&t.guid===o&&t.attr===n),t=>[t.guid,t.attr,s])}if(o){return a(r.filter(t=>!t.val&&t.guid===o&&null==t.attr),t=>[t.guid])}return Promise.reject(new i.AssertionError("no 'entity' or 'guid' parameter found"));function a(t,e){const n=t.map(t=>new Promise(n=>{t.async?t.callback(...e(t),n):(t.callback(...e(t)),n())}));return Promise.all(n)}},this.sendValidationUpdates=function(t){const e=[];if(t.forEach(t=>{const n=t.clone(),o=t.getAttributes().map(t=>t.name);r.filter(({val:e,guid:n,attr:r})=>e&&null!=r&&n===t.getGuid()&&o.includes(r)).forEach(({attr:e,callback:r})=>{r(t.getErrorReason(e)),n.removeAttribute(e)}),r.filter(({val:e,guid:n,attr:r})=>e&&null==r&&n===t.getGuid()).forEach(({callback:e})=>{const r=t.clone();e([r]);const o=r.getAttributes().map(t=>t.name);n.getAttributes().forEach(({name:t})=>{o.includes(t)||n.removeAttribute(t)})}),n.getAttributes().length>0&&e.push(n)}),e.length){const t=Ot.a.describe(e);window.mx.ui.error(t,!1)}},this.updateInCache=function(t){return e.removeAllChanges([t.guid]),e.setMxObjects([t]),e.getObject(t.guid)},this.removeChanges=function(t){e.removeAllChanges([t])},this.action=function(t){o.action(t.params,t.context||new xt,t.origin,!!t.async,t.onValidation).then(t.callback,u(t.error,null))},this.callNanoflow=function({nanoflow:{nanoflow:t,paramsSpec:e},context:r,origin:i,callback:s,error:a}){const l=Object.keys(e).map(t=>({name:t,guid:r.getContext(e[t])||void 0}));(function(t){return new Promise((e,r)=>{n.get({guids:t,callback:e,error:r})})})(l.map(t=>t.guid).filter(t=>Boolean(t))).then(e=>{const n=l.map(({name:t,guid:n})=>({name:t,value:e.find(t=>t.getGuid()===n)}));return o.runNanoflow(t,n,i)}).then(c(s,null),u(a,null))},this.get=function(t,e){var r=t.xpath,s=t.path,a=t.guid,l="guids"in t||!a?""===t.guids?[]:t.guids:[a],f=t.entity,h=t.direction||"reverse",p=t.callback,d=t.error,b=!!t.count,m=t.filter,v=t.context||new xt,w=t.microflow;if("guid"in t&&null==a)y(p,e,null);else{if(!(r||l||w||f))throw new i.AssertionError("xpath, guid|guids and microflow arguments are undefined");if(s&&1!==l.length)throw new i.AssertionError("path can only be used with a single guid");if("function"!=typeof p)throw new i.AssertionError("callback is not a function");if(d&&"function"!=typeof d)throw new i.AssertionError("error is not a function");m&&m.limit&&(m.amount=m.limit,delete m.limit);var _=function(t,e,n){if(!e)return t;for(var r in n)r in e&&null!=e[r]&&(t[r]=e[r]);return t}({},m,a?{id:null}:{id:null,attributes:null,offset:null,sort:null,amount:null,distinct:null,references:null}),O=u(d,e);if(_.id&&l&&!a&&delete _.id,_.id&&(delete _.attributes,delete _.distinct),w){var j=l?"selection":r?"set":"none",x={actionname:w,applyto:j};"selection"===j?x.guids=l:"set"===j&&(x.xpath=r,_.sort&&(x.sort=_.sort)),n.action({params:x,context:v,callback:c(p,e),error:O})}else if(s&&l)o.getByPath(l[0],s,f,h).then(({mxobjs:t,count:n})=>{y(p,e,t,{count:n})},u(d,e));else if(l){if(0===l.length)return void y(p,e,a?null:[],{count:0});o.getByGuid(l,_).then(({mxobjs:t,count:n})=>{var r;if(a)if(_.id){if(void 0===(r=t.filter(t=>t.getGuid()===a)[0]))return void g(d,e,new Error("Returned objects do not contain requested one"))}else r=t[0]||null;else r=t;y(p,e,r,{count:n})},O)}else if(f)if(window.mx.isOffline()){const{amount:t,offset:n,sort:r}=_;o.getSlice(f,[],{limit:t,offset:n,sort:r},!1).then(([t,n])=>{y(p,e,t,{count:n})})}else{const{amount:t,offset:n,sort:r}=_;o.getByXPath(`//${f}`,{amount:t,offset:n,sort:r},b).then(({mxobjs:t,count:n})=>{y(p,e,t,{count:n})},O)}else o.getByXPath(r,_,b).then(({mxobjs:t,count:n,aggregates:r})=>{y(p,e,t,{count:n,aggregates:r})},O)}},this.getOffline=function(t,e,n,r,o){return this.getSlice(t,e,n,!1,r,o)},this.getSlice=function(t,e,n,r,i,s){o.getSlice(t,e,n,r).then(([t,e])=>{y(i,null,t,e)}).catch(u(s,null))},this.fetch=function(t,e,n,r,i){var s,a;"function"==typeof n&&(i=r,r=n),s=e?e instanceof Array?e.slice():e.split("/"):[],t&&t.isA(s[0])&&s.shift(),a=s.length%2==1?s.pop():"",o.fetch(t,s,a,n,r,u(i,null))},this.create=function(t,e){if("function"!=typeof t.callback)throw new i.AssertionError("callback is not a function");if(t.error&&"function"!=typeof t.error)throw new i.AssertionError("error is not a function");if("string"!=typeof t.entity)throw new i.AssertionError("entity is not a string");o.create(t.entity).then(function(r){t.context&&n.setObjectToContext(r,t.context);y(t.callback,e,r)},u(t.error,e))},this.remove=function(t){const e="guid"in t?[t.guid]:""===t.guids?[]:t.guids;if("guids"in t&&!(t.guids instanceof Array))throw new i.AssertionError("parameter guids set but not of type Array");if(t.error&&"function"!=typeof t.error)throw new i.AssertionError("parameter error set but not of type Function");if(t.callback&&"function"!=typeof t.callback)throw new i.AssertionError("parameter callback set but not of type Function");o.remove(e).then(b(t.callback),u(t.error,null))},this.validate=function(t,e,n){0!==t.length?o.validate(t.map(v)).then(b(e),u(n,null)):y(e)},this.commit=function(t,e){const r=b(t.callback,e),i=u(t.error,e),s=p(t);0===s.length&&t.callback?r():o.commit(s,t.context||new xt,t.store,t.onValidation).then(function(){const t=Et.unique(s.filter(m).map(w)).map(t=>({entity:t})),e=Et.unique(s.map(v)).map(t=>({guid:t})),o=t.concat(e);Promise.all(o.map(t=>n.update2(t))).then(r,i)},i)},this.rollback=function(t,e){const r=u(t.error,e),i=p(t);if(0===i.length)return void y(t.callback,e);const s=Et.unique(i.map(w)).map(t=>({entity:t}));o.rollback(i).then(function(){const o=Et.unique(i.filter(m).map(v)).map(t=>({guid:t})),a=s.concat(o);Promise.all(a.map(t=>n.update2(t))).then(c(t.callback,e),r)},r)},this.uploadOfflineObjectsAndFiles=function(t,e){h().then(b(t),u(e,null))},this.downloadOfflineObjectsAndFiles=function(t,e){l().then(()=>f()).then(b(t),u(e,null))},this.synchronizeOffline=function({fast:t},n,r){h().then(()=>t?null:e.clear()).then(()=>l()).then(()=>t?null:f()).then(b(n),u(r,null))},this.saveDocument=function(t,e,n,r,i,s){o.saveDocument(t,e,n,r).then(i,u(s,null))},this.generateExport=function(t){o.generateExport(t.params).then(b(t.callback),u(t.error,null))},this.generateReport=function(t,e,n,r,i,s){o.generateReport(t,e,n,r).then(i,u(s,null))},this.generateExcelReport=function(t,e,n,r){o.generateExcelReport(t,e).then(n,u(r,null))},this.getReportParameters=function(t,e,n){s.getReportParameters(t).then(e,u(n,null))},this.setObjectToContext=function(t,e){if("object"!=typeof t)throw new i.AssertionError("parameter mxObj is not of type Object");if("object"!=typeof e)throw new i.AssertionError("parameter context is not of type Object");for(var n=t.getAttributes(),r=0;r<n.length;r++)if(t.isReference(n[r])){var o=t.getSelectorEntity(n[r]);if("System.owner"===n[r]||"System.changedBy"===n[r])continue;e.hasContext(o)&&t.addReference(n[r],e.getContext(o));var s=window.mx.meta.getEntity(o);if(s&&s.hasSubEntities())for(var a=s.getSubEntities(),c=0;c<a.length;c++)e.hasContext(a[c])&&t.addReference(n[r],e.getContext(a[c]))}},this.getObjectFromContext=function(t,e){var n=t.getObject(),r=t.getTrackId();n?e(n):r?window.mx.data.get({guid:r,callback:function(t){t||window.mx.onError("Error while fetching object with guid "+r),e(t)},error:function(t){window.mx.onError(t),e(null)}},this):e(null)},this.isDirty=function(t){return s.isDirty(t)},this.isNew=function(t){return e.isNew(t)},this.makeChange=function(t,n,r){e.makeChange(t,n,r)},this.getChanges=function(t){return e.getChanges(t)},this.getCachedObject=function(t){return e.getObject(t)},this.dehydrateCache=function(){return e.dehydrate()},this.hydrateCache=function(t){return e.hydrate(t)},this.updateMxObjectSubscribers=function(t,e,n){this.update({guid:t,attr:e,value:n})},this.getDocumentUrl=function(t,e,n){return s.getDocumentUrl(t,e,n)},this.getImageUrl=function(t,e,n){s.getImageUrl(t).then(e,n)},this.clear=function(t){e.clear(),s.cleanup().then(t)},this.uninitialize=function(){a&&window.clearInterval(a)},this.getObjectsStatistics=function(){return e.getAllObjects().map(t=>({object:t,changes:e.getChanges(t.getGuid()),uncommitted:e.isNew(t.getGuid()),subscriptions:function(t){return r.filter(e=>e.guid===t)}(t.getGuid()).map(t=>t.tag)}))}}class Ct{constructor(t){this.url=t,this.reloadHandlers=[],this.connectHandlers=[]}isConnected(){return void 0!==this.socket&&this.socket.readyState===WebSocket.OPEN}onConnect(t){this.isConnected()?t():this.connectHandlers.push(t)}onReloadMessage(t){this.reloadHandlers.push(t)}sendLog(t,e){if(this.isConnected()){const n=6e4;for(let r=0;r<e.length;r+=n){const o=e.substr(r,n);Object(s.b)(this.socket).send(`log:${t}:${o}`)}}}connect(){try{this.socket=new WebSocket(this.url),this.socket.onopen=(()=>{this.connectHandlers.forEach(t=>t()),this.connectHandlers.splice(0)}),this.socket.onmessage=(t=>{if("MENDIX_RELOAD"!==t.data)throw new i.AssertionError(`Unexpected command received from the runtime: ${t.data}`);this.reloadHandlers.forEach(t=>t())}),this.socket.onclose=(()=>this.reconnect())}catch(t){this.reconnect()}}reconnect(){this.socket=void 0,setTimeout(()=>this.connect(),1e3)}}class Dt{constructor(t){this.connection=new Ct(t.replace(/^http/,"ws")+"reload/")}connect(){this.connection.connect()}addOnReload(t){this.connection.onReloadMessage(t)}log(t,...e){const n=e.map(t=>t instanceof Error?`${t.message} ${t.stack}`:"string"==typeof t?t:JSON.stringify(t));this.connection.onConnect(()=>this.connection.sendLog(t,n.join("\n")))}}class kt{constructor({handleErrors:t=!0,isQuiet:e=!1}={}){this.logHandlers=[],e||this.addHandler(this.createConsoleLogHandler()),t&&"function"==typeof window.addEventListener&&(window.addEventListener("error",t=>this.error(t.error)),window.addEventListener("unhandledrejection",t=>this.error(t.reason)))}addHandler(t){this.logHandlers.push(t)}trace(...t){this.log("trace",...t)}debug(...t){this.log("debug",...t)}info(...t){this.log("info",...t)}warn(...t){this.log("warning",...t)}error(...t){this.log("error",...t)}critical(...t){this.log("critical",...t)}log(t,...e){this.logHandlers.forEach(n=>n(t,...e))}createConsoleLogHandler(){const t={};return["debug","info","log","warn","error"].forEach(e=>{t[e]=console[e];const n=function(t){switch(t){case"warn":return"warning";case"log":return"debug";default:return t}}(e);console[e]=((...t)=>this.log(n,...t))}),(e,...n)=>{const r=function(t){switch(t){case"trace":return;case"critical":return"error";case"warning":return"warn";default:return t}}(e);void 0!==r&&t[r].call(console,...n)}}}const Mt=n(12),{MxObject:It}=n(9);function Rt(){this._objectCache={},this._newGuids={},this._changes={}}Rt.prototype.getAllObjects=function(){return Object.values(this._objectCache)},Rt.prototype.dehydrate=function(){return Mt.clone({data:this.getAllObjects(),newGuids:this._newGuids,changes:this._changes})},Rt.prototype.hydrate=function({data:t,newGuids:e,changes:n}){this._objectCache={},t.map(t=>It.fromJson(t)).forEach(t=>{this._objectCache[t.getGuid()]=t}),this._newGuids=Mt.clone(e),this._changes=Mt.clone(n)},Rt.prototype.getObject=function(t){return this._objectCache[t]||null},Rt.prototype.removeObjectKeepChanges=function(t){delete this._objectCache[t],delete this._newGuids[t]},Rt.prototype.setMxObjects=function(t){t.forEach(function(t){var e=t.guid,n=this._objectCache[e];n?n.resetFromJSON(t):this._objectCache[e]=new It({json:t,meta:window.mx.meta.getEntity(t.objectType)})},this)},Rt.prototype.has=function(t){return!!this.getObject(t)},Rt.prototype.isNew=function(t){return this.has(t)&&Boolean(this._newGuids[t])},Rt.prototype.clear=function(){this._objectCache={},this._newGuids={},this._changes={}},Rt.prototype.hasChanges=function(t){return t in this._changes},Rt.prototype.getChanges=function(t){return Mt.clone(this._changes[t]||{})},Rt.prototype.makeChange=function(t,e,n){this._changes[t]=this._changes[t]||{},this._changes[t][e]={value:n}},Rt.prototype.removeAllChanges=function(t){t.forEach(function(t){delete this._changes[t]},this)},Rt.prototype.removeChanges=function(t){Object.keys(t).forEach(e=>{const n=this._changes[e];n&&(t[e].forEach(t=>delete n[t]),0===Object.keys(n).length&&delete this._changes[e])})},Rt.prototype.onCreate=function(t){t.forEach(t=>{this._newGuids[t]=!0})},Rt.prototype.onCommit=function(t){t.forEach(t=>delete this._newGuids[t])},Rt.prototype.onDelete=function(t){for(const e of t)e in this._objectCache&&this._objectCache[e].markDeleted();this.removeObjects(t)},Rt.prototype.addChanges=function(t){for(const e in t){const n=t[e];null==this._changes[e]&&(this._changes[e]={});const r=this._changes[e];for(const t in n)r[t]=n[t]}},Rt.prototype.removeObjects=function(t){t.forEach(t=>{delete this._objectCache[t],delete this._newGuids[t],delete this._changes[t]})};var Nt=n(5),Vt=n(6),Ft=n(51),$t=n(2);var Ut={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Bt(t){return function(e){var n=e||{},r=n.width?String(n.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}var Lt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Gt(t){return function(e,n){var r=n||{},o=r.width?String(r.width):t.defaultWidth;return("formatting"===(r.context?String(r.context):"standalone")&&t.formattingValues?t.formattingValues[o]||t.formattingValues[t.defaultFormattingWidth]:t.values[o]||t.values[t.defaultWidth])[t.argumentCallback?t.argumentCallback(e):e]}}function Wt(t){return function(e,n){var r=String(e),o=(n||{}).width,i=o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth],s=r.match(i);if(!s)return null;var a,c=s[0],u=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth];return a="[object Array]"===Object.prototype.toString.call(u)?u.findIndex(function(t){return t.test(r)}):function(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}(u,function(t){return t.test(r)}),{value:a=t.valueCallback?t.valueCallback(a):a,rest:r.slice(c.length)}}}var qt={formatDistance:function(t,e,n){var r;return n=n||{},r="string"==typeof Ut[t]?Ut[t]:1===e?Ut[t].one:Ut[t].other.replace("{{count}}",e),n.addSuffix?n.comparison>0?"in "+r:r+" ago":r},formatLong:{date:Bt({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Bt({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Bt({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},formatRelative:function(t,e,n,r){return Lt[t]},localize:{ordinalNumber:function(t,e){var n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Gt({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Gt({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:Gt({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Gt({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Gt({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaulFormattingWidth:"wide"})},match:{ordinalNumber:function(t){return function(e){var n=String(e),r=n.match(t.matchPattern);if(!r)return null;var o=r[0],i=n.match(t.parsePattern);return i?{value:t.valueCallback?t.valueCallback(i[0]):i[0],rest:n.slice(o.length)}:null}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}}),era:Wt({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Wt({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Wt({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Wt({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Wt({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},Yt=864e5;function Ht(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object($t.a)(t,e),r=n.getUTCDay(),o=(r<1?7:0)+r-1;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}function zt(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object($t.a)(t,e),r=n.getUTCFullYear(),o=new Date(0);o.setUTCFullYear(r+1,0,4),o.setUTCHours(0,0,0,0);var i=Ht(o,e),s=new Date(0);s.setUTCFullYear(r,0,4),s.setUTCHours(0,0,0,0);var a=Ht(s,e);return n.getTime()>=i.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}var Jt=6048e5;function Kt(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object($t.a)(t,e),r=Ht(n,e).getTime()-function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=zt(t,e),r=new Date(0);return r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0),Ht(r,e)}(n,e).getTime();return Math.round(r/Jt)+1}function Xt(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=e||{},r=n.locale,o=r&&r.options&&r.options.weekStartsOn,i=null==o?0:Object(Vt.a)(o),s=null==n.weekStartsOn?i:Object(Vt.a)(n.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var a=Object($t.a)(t,n),c=a.getUTCDay(),u=(c<s?7:0)+c-s;return a.setUTCDate(a.getUTCDate()-u),a.setUTCHours(0,0,0,0),a}function Qt(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object($t.a)(t,e),r=n.getUTCFullYear(),o=e||{},i=o.locale,s=i&&i.options&&i.options.firstWeekContainsDate,a=null==s?1:Object(Vt.a)(s),c=null==o.firstWeekContainsDate?a:Object(Vt.a)(o.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=new Date(0);u.setUTCFullYear(r+1,0,c),u.setUTCHours(0,0,0,0);var l=Xt(u,e),f=new Date(0);f.setUTCFullYear(r,0,c),f.setUTCHours(0,0,0,0);var h=Xt(f,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}var Zt=6048e5;function te(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object($t.a)(t,e),r=Xt(n,e).getTime()-function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=e||{},r=n.locale,o=r&&r.options&&r.options.firstWeekContainsDate,i=null==o?1:Object(Vt.a)(o),s=null==n.firstWeekContainsDate?i:Object(Vt.a)(n.firstWeekContainsDate),a=Qt(t,e),c=new Date(0);return c.setUTCFullYear(a,0,s),c.setUTCHours(0,0,0,0),Xt(c,e)}(n,e).getTime();return Math.round(r/Zt)+1}var ee="midnight",ne="noon",re="morning",oe="afternoon",ie="evening",se="night";function ae(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}function ce(t,e){var n=e||"",r=t>0?"-":"+",o=Math.abs(t);return r+ae(Math.floor(o/60),2)+n+ae(o%60,2)}function ue(t,e){return t%60==0?(t>0?"-":"+")+ae(Math.abs(t)/60,2):ce(t,e)}function le(t,e){var n=t>0?"-":"+",r=Math.abs(t),o=Math.floor(r/60),i=r%60;if(0===i)return n+String(o);var s=e||"";return n+String(o)+s+ae(i,2)}var fe={G:function(t,e,n){var r=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n,r){var o=t.getUTCFullYear(),i=o>0?o:1-o;return"yy"===e?ae(i%100,2):"yo"===e?n.ordinalNumber(i,{unit:"year"}):ae(i,e.length)},Y:function(t,e,n,r){var o=Qt(t,r),i=o>0?o:1-o;return"YY"===e?ae(i%100,2):"Yo"===e?n.ordinalNumber(i,{unit:"year"}):ae(i,e.length)},R:function(t,e,n,r){return ae(zt(t,r),e.length)},u:function(t,e,n,r){return ae(t.getUTCFullYear(),e.length)},Q:function(t,e,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(o);case"QQ":return ae(o,2);case"Qo":return n.ordinalNumber(o,{unit:"quarter"});case"QQQ":return n.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,e,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(o);case"qq":return ae(o,2);case"qo":return n.ordinalNumber(o,{unit:"quarter"});case"qqq":return n.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,e,n,r){var o=t.getUTCMonth();switch(e){case"M":return String(o+1);case"MM":return ae(o+1,2);case"Mo":return n.ordinalNumber(o+1,{unit:"month"});case"MMM":return n.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(o,{width:"wide",context:"formatting"})}},L:function(t,e,n,r){var o=t.getUTCMonth();switch(e){case"L":return String(o+1);case"LL":return ae(o+1,2);case"Lo":return n.ordinalNumber(o+1,{unit:"month"});case"LLL":return n.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(o,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){var o=te(t,r);return"wo"===e?n.ordinalNumber(o,{unit:"week"}):ae(o,e.length)},I:function(t,e,n,r){var o=Kt(t,r);return"Io"===e?n.ordinalNumber(o,{unit:"week"}):ae(o,e.length)},d:function(t,e,n,r){var o=t.getUTCDate();return"do"===e?n.ordinalNumber(o,{unit:"date"}):ae(o,e.length)},D:function(t,e,n,r){var o=function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object($t.a)(t,e),r=n.getTime();n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0);var o=r-n.getTime();return Math.floor(o/Yt)+1}(t,r);return"Do"===e?n.ordinalNumber(o,{unit:"dayOfYear"}):ae(o,e.length)},E:function(t,e,n,r){var o=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(o,{width:"short",context:"formatting"});case"EEEE":default:return n.day(o,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){var o=t.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return ae(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){var o=t.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return ae(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,n,r){var o=t.getUTCDay(),i=0===o?7:o;switch(e){case"i":return String(i);case"ii":return ae(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(o,{width:"short",context:"formatting"});case"iiii":default:return n.day(o,{width:"wide",context:"formatting"})}},a:function(t,e,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){var r,o=t.getUTCHours();switch(r=12===o?ne:0===o?ee:o/12>=1?"pm":"am",e){case"b":case"bb":case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){var r,o=t.getUTCHours();switch(r=o>=17?ie:o>=12?oe:o>=4?re:se,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n,r){var o=t.getUTCHours()%12;return 0===o&&(o=12),"ho"===e?n.ordinalNumber(o,{unit:"hour"}):ae(o,e.length)},H:function(t,e,n,r){var o=t.getUTCHours();return"Ho"===e?n.ordinalNumber(o,{unit:"hour"}):ae(o,e.length)},K:function(t,e,n,r){var o=t.getUTCHours()%12;return"Ko"===e?n.ordinalNumber(o,{unit:"hour"}):ae(o,e.length)},k:function(t,e,n,r){var o=t.getUTCHours();return 0===o&&(o=24),"ko"===e?n.ordinalNumber(o,{unit:"hour"}):ae(o,e.length)},m:function(t,e,n,r){var o=t.getUTCMinutes();return"mo"===e?n.ordinalNumber(o,{unit:"minute"}):ae(o,e.length)},s:function(t,e,n,r){var o=t.getUTCSeconds();return"so"===e?n.ordinalNumber(o,{unit:"second"}):ae(o,e.length)},S:function(t,e,n,r){var o=e.length,i=t.getUTCMilliseconds();return ae(Math.floor(i*Math.pow(10,o-3)),o)},X:function(t,e,n,r){var o=(r._originalDate||t).getTimezoneOffset();if(0===o)return"Z";switch(e){case"X":return ue(o);case"XXXX":case"XX":return ce(o);case"XXXXX":case"XXX":default:return ce(o,":")}},x:function(t,e,n,r){var o=(r._originalDate||t).getTimezoneOffset();switch(e){case"x":return ue(o);case"xxxx":case"xx":return ce(o);case"xxxxx":case"xxx":default:return ce(o,":")}},O:function(t,e,n,r){var o=(r._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+le(o,":");case"OOOO":default:return"GMT"+ce(o,":")}},z:function(t,e,n,r){var o=(r._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+le(o,":");case"zzzz":default:return"GMT"+ce(o,":")}},t:function(t,e,n,r){var o=r._originalDate||t;return ae(Math.floor(o.getTime()/1e3),e.length)},T:function(t,e,n,r){return ae((r._originalDate||t).getTime(),e.length)}};function he(t,e,n){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function pe(t,e,n){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}var de={p:pe,P:function(t,e,n){var r,o=t.match(/(P+)(p+)?/),i=o[1],s=o[2];if(!s)return he(t,e);switch(i){case"P":r=e.dateTime({width:"short"});break;case"PP":r=e.dateTime({width:"medium"});break;case"PPP":r=e.dateTime({width:"long"});break;case"PPPP":default:r=e.dateTime({width:"full"})}return r.replace("{{date}}",he(i,e)).replace("{{time}}",pe(s,e))}};function be(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");return function(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object($t.a)(t,n).getTime(),o=Object(Vt.a)(e);return new Date(r+o)}(t,-Object(Vt.a)(e),n)}var ye=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ge=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,me=/^'(.*?)'?$/,ve=/''/g;function we(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=String(e),o=n||{},i=o.locale||qt,s=i.options&&i.options.firstWeekContainsDate,a=null==s?1:Object(Vt.a)(s),c=null==o.firstWeekContainsDate?a:Object(Vt.a)(o.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=i.options&&i.options.weekStartsOn,l=null==u?0:Object(Vt.a)(u),f=null==o.weekStartsOn?l:Object(Vt.a)(o.weekStartsOn);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!i.localize)throw new RangeError("locale must contain localize property");if(!i.formatLong)throw new RangeError("locale must contain formatLong property");var h=Object($t.a)(t,o);if(!function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object($t.a)(t,e);return!isNaN(n)}(h,o))return"Invalid Date";var p=be(h,Object(Ft.a)(h),o),d={firstWeekContainsDate:c,weekStartsOn:f,locale:i,_originalDate:h};return r.match(ge).map(function(t){var e=t[0];return"p"===e||"P"===e?(0,de[e])(t,i.formatLong,d):t}).join("").match(ye).map(function(t){if("''"===t)return"'";var e=t[0];if("'"===e)return function(t){return t.match(me)[1].replace(ve,"'")}(t);var n=fe[e];return n?n(p,t,i.localize,d):t}).join("")}var _e,Oe,je,xe,Ee,Se=n(20);!function(t){t.Month="months",t.DayOfWeek="days"}(_e||(_e={})),function(t){t.Long="wide",t.Short="abbr",t.Narrow="narrow"}(Oe||(Oe={})),function(t){t.Date="date",t.Time="time",t.DateTime="datetime"}(je||(je={})),function(t){t.Short="short",t.Medium="medium",t.Long="long",t.Full="full"}(xe||(xe={})),function(t){t.Gregorian="gregorian",t.ThaiBuddhist="thai-buddhist"}(Ee||(Ee={}));class Te{constructor(t,e,n,r){this.year=t,this.monthOfYear=e,this.dayOfMonth=n,this.chronology=r}isSameDate(t){return this.chronology===t.chronology&&this.getYear()===t.getYear()&&this.getMonthOfYear()===t.getMonthOfYear()&&this.getDayOfMonth()===t.getDayOfMonth()}getChronology(){return this.chronology}getYear(){return this.year}getMonthOfYear(){return this.monthOfYear}getDayOfMonth(){return this.dayOfMonth}getDayOfWeek(){return this.chronology.getDayOfWeek(this)}lengthOfYearInMonths(){return this.chronology.lengthOfYearInMonths(this.year)}plusYears(t){return this.chronology.plusYears(this,t)}plusMonths(t){return this.chronology.plusMonths(this,t)}plusDays(t){return this.chronology.plusDays(this,t)}minusYears(t){return this.chronology.minusYears(this,t)}minusMonths(t){return this.chronology.minusMonths(this,t)}minusDays(t){return this.chronology.minusDays(this,t)}withDayOfMonth(t){return this.chronology.withDayOfMonth(this,t)}withMonthOfYear(t){return this.chronology.withMonthOfYear(this,t)}withYear(t){return this.chronology.withYear(this,t)}toJsDate(){return this.chronology.toJsDate(this)}toString(){const t=Pe(this.monthOfYear,2),e=Pe(this.dayOfMonth,2),n=Ae[this.getDayOfWeek()],r=this.getChronology().getCalendarSystem();return`${this.year}-${t}-${e} ${n} (${r})`}}function Pe(t,e){const n=t.toString();return new Array(e-n.length+1).join("0")+n}const Ae=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];class Ce{constructor(t=0,e=0,n=0,r=0){this.hour=t,this.minute=e,this.second=n,this.millisecond=r}getHour(){return this.hour}getMinute(){return this.minute}getSecond(){return this.second}getMillisecond(){return this.millisecond}isSameTime(t){return this.hour===t.hour&&this.minute===t.minute&&this.second===t.second&&this.millisecond===t.millisecond}toString(){return De(this.hour,2)+":"+De(this.minute,2)+":"+De(this.second,2)+"."+De(this.millisecond,3)}}function De(t,e){const n=t.toString();return new Array(e-n.length+1).join("0")+n}class ke{constructor(t){this.calendarSystem=t}getCalendarSystem(){return this.calendarSystem}convertInput(t){if(t.getChronology()!==this)throw new Error(`Incompatible chronology: LocalDate should be ${this.getCalendarSystem()} but was ${t.getChronology().getCalendarSystem()}`);return{localDate:t instanceof Te?t:t.getDate(),localTime:t instanceof Te?new Ce:t.getTime()}}static getInstance(){return this.instance}}function Me(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object($t.a)(t,e),r=n.getFullYear(),o=n.getMonth(),i=new Date(0);return i.setFullYear(r,o+1,0),i.setHours(0,0,0,0),i.getDate()}function Ie(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object($t.a)(t,n),o=Object(Vt.a)(e),i=r.getMonth()+o,s=new Date(0);s.setFullYear(r.getFullYear(),i,1),s.setHours(0,0,0,0);var a=Me(s,n);return r.setMonth(i,Math.min(a,r.getDate())),r}function Re(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");return Ie(t,12*Object(Vt.a)(e),n)}function Ne(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object($t.a)(t,n),o=Object(Vt.a)(e);return r.setDate(r.getDate()+o),r}class Ve{constructor(t,e=new Ce){this.date=t,this.time=e}getDate(){return this.date}getTime(){return this.time}withDate(t){return new Ve(t,this.time)}withTime(t){return new Ve(this.date,t)}toJsDate(){return this.date.getChronology().toJsDate(this)}isSameDateTime(t){return this.date.isSameDate(t.date)&&this.time.isSameTime(t.time)}getChronology(){return this.date.getChronology()}toString(){return this.date.toString()+" "+this.time.toString()}}class Fe extends ke{constructor(t=Ee.Gregorian,e=0){super(t),this.yearOffset=e}getDayOfWeek(t){return function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Object($t.a)(t,e).getDay()}(this.toJsDate(t))}lengthOfMonthInDays(t,e){return Me(new Date(t,e-1,1))}lengthOfYearInMonths(t){return 12}plusYears(t,e){return $e(this.fromJsDate(Re(this.toJsDate(t),e)),t)}minusYears(t,e){return $e(this.fromJsDate(function(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");return Re(t,-Object(Vt.a)(e),n)}(this.toJsDate(t),e)),t)}plusMonths(t,e){return $e(this.fromJsDate(Ie(this.toJsDate(t),e)),t)}minusMonths(t,e){return $e(this.fromJsDate(function(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");return Ie(t,-Object(Vt.a)(e),n)}(this.toJsDate(t),e)),t)}plusDays(t,e){return $e(this.fromJsDate(Ne(this.toJsDate(t),e)),t)}minusDays(t,e){return $e(this.fromJsDate(function(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");return Ne(t,-Object(Vt.a)(e),n)}(this.toJsDate(t),e)),t)}withDayOfMonth(t,e){return $e(this.fromJsDate(function(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object($t.a)(t,n),o=Object(Vt.a)(e);return r.setDate(o),r}(this.toJsDate(t),e)),t)}withMonthOfYear(t,e){return $e(this.fromJsDate(function(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object($t.a)(t,n),o=Object(Vt.a)(e),i=r.getFullYear(),s=r.getDate(),a=new Date(0);a.setFullYear(i,o,15),a.setHours(0,0,0,0);var c=Me(a,n);return r.setMonth(o,Math.min(s,c)),r}(this.toJsDate(t),e-1)),t)}withYear(t,e){return $e(this.fromJsDate(function(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object($t.a)(t,n),o=Object(Vt.a)(e);return isNaN(r)?new Date(NaN):(r.setFullYear(o),r)}(this.toJsDate(t),e)),t)}fromJsDate(t){const e=new Te(t.getFullYear()+this.yearOffset,t.getMonth()+1,t.getDate(),this),n=new Ce(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());return new Ve(e,n)}toJsDate(t){const{localDate:e,localTime:n}=this.convertInput(t);return new Date(e.getYear()-this.yearOffset,e.getMonthOfYear()-1,e.getDayOfMonth(),n.getHour(),n.getMinute(),n.getSecond(),n.getMillisecond())}}function $e(t,e){return e instanceof Te?t.getDate():t}Fe.instance=new Fe;class Ue extends Fe{}Ue.instance=new Ue(Ee.ThaiBuddhist,543);var Be=n(15);const Le={[Se.validation.NOT_INTEGER]:"invalid_number",[Se.validation.RANGE_INTEGER]:"range_integer",[Se.validation.RANGE_LONG]:"range_long",[Se.validation.RANGE_DECIMAL]:"range_decimal",[Se.validation.RANGE_NUMBER]:"range_number"},Ge="[No translation]";function We(t,e,...n){if(!mx.session.isValid())return Ge;return(mx.session.getConfig("uiconfig.translations")[`${t}.${e}`]||Ge).replace(/\{(\d+)\}/g,(t,e)=>n.length>=e?n[e-1]:t)}class qe{formatValue(t,e,n){if(""===t||null===t)return"";switch(e){case"Decimal":case"Float":case"Currency":case"Integer":case"Long":if(!(t instanceof Nt))throw new Error(`Value '${t}' cannot be formatted as a numeric value.`);return function(t,e){const n=t.lt(0);let[r,o=""]=t.toFixed().split(".");n&&(r=r.slice(1));void 0!==e&&(o=o.padEnd(e,"0"));return(n?"-":"")+r+(o?"."+o:"")}(t,"Decimal"===e||"Float"===e?void 0:"Currency"===e?2:0);case"DateTime":if("number"!=typeof t)throw new Error(`Value '${t}' cannot be formatted as Date.`);return we(new Date(t),"DD-MM-YYYY");case"Boolean":if("boolean"!=typeof t)throw new Error(`Value '${t}' cannot be formatted as boolean.`);return We("mxui.common",t.toString());default:if("string"!=typeof t)throw new Error(`Value '${t}' cannot be formatted as ${e}.`);return t}}parseValue(t,e,n){if(""===t)return"";switch(e.toLowerCase()){case"float":case"currency":case"integer":case"long":case"decimal":return function(t,e){let n;try{n=new Nt(t)}catch(t){return null}return e&&e>=0?n.round(e):n}(t,n.places);case"enum":return t;case"boolean":return t===We("mxui.common","true");default:return t}}getDateFormatPlaceholder(t){return""}getI18nBundle(){}getDecimalSeparator(){return""}}var Ye=n(9),He=n(26);var ze=n(10);const Je=t=>{if(null===t||"object"!=typeof t)return t;const e=Array.isArray(t)?[]:{};return Object.keys(t).forEach(n=>e[n]=Je(t[n])),e};var Ke=n(7);function Xe(t){if(t.startsWith("data:"))return t;/^\w+:\/\//.test(t)||(t=function(t){return t.startsWith("data:")?t:mx.appUrl+t}(t));const e=mx.session.getConfig("cachebust");return t.startsWith(mx.appUrl)&&!t.endsWith(e)&&(t+=(/\?/.test(t)?"&":"?")+e),t}class Qe{constructor(t,e,n){this.sessionStore=t,this.tokenStore=e,this.config=n,this.clientMetadata={}}isValid(){return void 0!==this.sessionData}getConfig(t){if(void 0===this.sessionData)throw new Error("Session is not available");if(!t)return Je(this.sessionData);const e=t.split(".");let n=this.sessionData;for(let t=0;t<e.length&&n;t++)n=n[e[t]];return Je(n)}getUserObject(){return this.userObject||(this.userObject=Ye.MxObject.fromJson(this.getConfig("user"))),this.userObject}isGuest(){return this.getUserObject().get("IsAnonymous")}getSessionObjectId(){return this.getConfig("sessionObjectId")}getUserId(){return this.getUserObject().getGuid()}getUserRoleNames(){return this.getConfig("roles")}hasSomeRole(t){if(void 0===t)return!0;const e=this.getUserRoleNames();return t.some(t=>e.indexOf(t)>-1)}getMicroflowInfo(t){return this.clientMetadata[t]}async login(t){const e=await Object(Be.login)(t.username,t.password,this.config.shouldGenerateToken);e.authtoken&&await this.tokenStore.set(e.authtoken)}destroySession(t){t()}async logout(){try{const t=await this.tokenStore.get();await Object(Be.logout)(t)}catch(t){if(!(t instanceof vt.a))throw t}finally{await this.tokenStore.remove(),await this.sessionStore.remove()}}async startup(t){const e=await this.tokenStore.get();this.sessionParams=e?Object.assign({authtoken:e},t):t;const{sessionData:n,fromCache:r}=await this.loadSessionData();return this.sessionData=n,n.sync_config&&await this.sessionStore.set(JSON.stringify(n)),e?Object(mt.c)(function(t){const e=["get_session_data","login","logout"];let n,r=0;return async(o,i)=>{const a=r;try{return await i(o)}catch(c){const u=Object(s.e)(o.body)?o.body.action:void 0;if(!(c instanceof He.a)||void 0!==u&&e.includes(u))throw c;if(a!==r)return i(o);if(n)return await n,i(o);n=t();try{await n}finally{n=void 0}return++r,i(o)}}}(this.restoreSessionOnUnauthorized.bind(this))):Object(mt.c)(function(t){return async(e,n)=>{try{return await n(e)}catch(n){const r=Object(s.e)(e.body)&&e.body.action;if(n instanceof He.a&&"login"!==r)return await t(n);throw n}}}(this.failOnUnauthorized.bind(this))),!n.sync_config&&n.keepalive&&setInterval(Be.keepalive,n.keepalive),Object(mt.c)(function(t){return(e,n)=>{const r={url:e.url,init:Object.assign({},e.init,{headers:new Headers(e.init.headers)}),body:e.body};return r.init.headers.append("X-Csrf-Token",t()),n(r)}}(()=>Object(s.b)(this.sessionData).csrftoken)),await this.loadClientMetadata(),!r}onUnauthorized(t){return t}async loadSessionData(){const t=await this.sessionStore.get(),e=void 0!==t?JSON.parse(t):void 0;if(e&&e.cachebust===this.config.currentCacheBust)return{fromCache:!0,sessionData:e};try{return{fromCache:!1,sessionData:await Object(Be.getSessionData)(Object(s.b)(this.sessionParams))}}catch(t){if(401===t.status)throw await this.sessionStore.remove(),await this.tokenStore.remove(),t;if(460!==t.status&&e)return{fromCache:!0,sessionData:e};throw t}}async loadClientMetadata(){const t=await Object(ze.a)(Xe("metamodel.json"),"json");Object.keys(t).forEach(e=>{const n=t[e];this.clientMetadata[e]={parameters:n.p},n.a&&(this.clientMetadata[e].followedAssociations=n.a.map(([t,e])=>({association:t,fromEntity:e})))})}async restoreSessionOnUnauthorized(){try{const{csrftoken:t}=await Object(Be.getSessionData)(Object(s.b)(this.sessionParams));Object(s.b)(this.sessionData).csrftoken=t,Object(s.b)(this.sessionData).sync_config&&await this.sessionStore.set(JSON.stringify(this.sessionData))}catch(t){if(!(t instanceof He.a))throw t;await this.failOnUnauthorized(t)}}async failOnUnauthorized(t){return await this.sessionStore.remove(),await this.tokenStore.remove(),this.onUnauthorized(t.status),Object(Ke.b)()}}var Ze=n(125);function tn(t,...e){return new Promise((n,r)=>{const o=e.concat([n,r]);t(...o)})}class en{constructor(t){this._config=t,this._storageDirPromise=null}readFile(t){return this._openFile(t).then(t=>(function(t){return tn(t.file.bind(t)).then(on).then(t=>new Blob([t]))})(t))}storeFile(t,e){return this._openFile(e,!0).then(e=>(function(t,e){return tn(t.createWriter.bind(t)).then(t=>(function(t,e){return new Promise((n,r)=>{e.onwrite=n,e.onerror=r,e.write(t)})})(e,t))})(e,t))}async moveFile(t,e){const n=await this._openFile(t),[r,o]=nn(e),i=await this._openDir(r);await function(t,e,n){return new Promise((r,o)=>{t.moveTo(e,n,r,o)})}(n,i,o)}downloadFile(t,e){return this._config.downloadFileFn?tn(this._config.downloadFileFn,t,e):Object(ze.a)(t,"blob").then(t=>this.storeFile(t,e))}async removeDir(t){try{const e=await this._openDir(t);await function(t){return tn(t.removeRecursively.bind(t))}(e)}catch(t){if(1!==t.code)throw t}}async _openFile(t,e=!1){const[n,r]=nn(t);return function(t,e,n=!1){return tn(t.getFile.bind(t),e,{create:n})}(await this._openDir(n,e),r,e)}async _openDir(t,e=!1){const n=t.split("/").filter(t=>""!==t);let r=await this._getStorageDir();for(let t=0;t<n.length;++t)r=await rn(r,n[t],e);return r}_getStorageDir(){return this._config.getStorageDirFn?tn(this._config.getStorageDirFn):(null===this._storageDirPromise&&(this._storageDirPromise=tn(window.webkitRequestFileSystem,window.TEMPORARY,1048576).then(t=>t.root)),this._storageDirPromise)}}function nn(t){return t.split(/\/([^/]+)$/)}function rn(t,e,n=!1){return tn(t.getDirectory.bind(t),e,{create:n})}function on(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=(t=>e(t.target.result)),r.onerror=(t=>n(t.target.error)),r.readAsArrayBuffer(t)})}const sn=n(12),an="files/documents/",cn="files/thumbnails/";function un(t){return t.replace(/:/g,"_")}const ln="GUID:",fn=new RegExp("^"+ln);function hn(t){return!fn.test(t)}function pn(t){return"guid"===t||"$"===t[0]}function dn(t,e){return t.$readonlyAttrs.includes(e)}function bn(t){const e=Object.keys(t).filter(t=>!pn(t)).reduce((e,n)=>(e[n]={value:t[n]},dn(t,n)&&(e[n].readonly=!0),e),{});return{guid:t.guid,objectType:t.$objectType,attributes:e}}function yn(t){const e={guid:t.guid,$objectType:t.objectType,$readonlyAttrs:[]};for(const n in t.attributes)e[n]=t.attributes[n].value,t.attributes[n].readonly&&e.$readonlyAttrs.push(n);return e}class gn{getByGuid(t,e){return Promise.reject(new j("getByGuid"))}getByPath(t,e,n,r){return Promise.reject(new j("getByPath"))}getByXPath(t,e,n){return Promise.reject(new j("getByXPath"))}getSlice(t,e,n){return Promise.reject(new j("getSlice"))}action(t,e,n,r,o){return Promise.reject(new j("action"))}create(t){return Promise.reject(new j("create"))}commit(t,e,n,r){return Promise.reject(new j("commit"))}rollback(t){return Promise.reject(new j("rollback"))}remove(t){return Promise.reject(new j("remove"))}validate(t){return Promise.reject(new j("validate"))}saveDocument(t,e,n,r){return Promise.reject(new j("saveDocument"))}generateExport(t){return Promise.reject(new j("generateExport"))}generateReport(t,e,n,r){return Promise.reject(new j("generateReport"))}generateExcelReport(t,e){return Promise.reject(new j("generateExcelReport"))}getReportParameters(t){return Promise.reject(new j("getReportParameters"))}getDocumentUrl(t,e,n){throw new j("getDocumentUrl")}getImageUrl(t){return Promise.reject(new j("getImageUrl"))}upload(){return Promise.reject(new j("upload"))}downloadObjects(t){return Promise.reject(new j("downloadObjects"))}downloadFiles(t){return Promise.reject(new j("downloadFiles"))}cleanupDirtyObjects(){return Promise.reject(new j("cleanupDirtyObjects"))}isDirty(t){throw new j("isDirty")}cleanup(){return Promise.reject(new j("cleanup"))}}const mn=n(12),vn={String:null,Integer:"0",Long:"0",Decimal:"0",Float:"0",Currency:"0",Enum:null,HashString:null,ObjectReference:null,DateTime:null,Boolean:!1,AutoNumber:"0",Binary:null};class wn extends gn{constructor(t,e,n,r,o){super(),t=t||{},this._store=n,this._getDocumentUrl=t.getDocumentUrlFn||On,this._objectCache=e,this._fileBackend=r,this._synchronizer=o,this._dirtyGuids=[]}async initialize(){const t=await this._store.fetchDirty();this._dirtyGuids=t.map(t=>t.guid)}getByGuid(t,e){return Promise.all(t.map(this._getByGuid,this)).then(t=>{return{mxobjects:t.filter(t=>null!=t).map(bn)}})}async getByPath(t,e,n,r){if("reverse"===r){const r=this._objectCache.getAllObjects().filter(n=>n.getReferences(e).includes(t)).map(t=>t.jsonData),{mxobjects:o}=await this.getSlice(n,[{attribute:e,operator:"equals",value:t}]),i=o.map(t=>Ye.MxObject.fromJson(t)).filter(n=>n.getReferences(e).includes(t)).filter(t=>!r.some(e=>e.guid===t.getGuid())).map(t=>t.jsonData);return{mxobjects:r.concat(i)}}{let n=this._objectCache.getObject(t);if(!n){const{mxobjects:[e]}=await this.getByGuid([t]);e&&(n=Ye.MxObject.fromJson(e))}if(!n)return{mxobjects:[]};const r=n.getReferences(e),o=r.map(t=>this._objectCache.getObject(t)).filter(t=>null!==t).map(t=>t.jsonData),i=r.filter(t=>!this._objectCache.has(t)),{mxobjects:s}=await this.getByGuid(i);return{mxobjects:s.concat(o)}}}getSlice(t,e,n){const r=window.mx.meta.getEntity(t),o=(e||[]).map(t=>(t.attribute&&r.isReference(t.attribute)&&(t.value=this._synchronizer.getInternalGuid(t.value)),t));return this._store.getSlice(t,o,n).then(([t,e])=>{return{mxobjects:t.map(this._synchronizer.makeObjectExternal,this._synchronizer).map(bn),count:e}})}create(t){const e=ln+sn.getUniqueId();return this._objectCache.onCreate([e]),this._objectCache.setMxObjects([function(t,e){const n={guid:t,objectType:e,attributes:{}},r=window.mx.meta.getEntity(e);return r.getAttributes().forEach(t=>{n.attributes[t]={value:vn[r.getAttributeType(t)]}}),n}(e,t)]),Promise.resolve({actionResult:e})}async commit(t,e){const n=mn.objectFromArray(t.map(t=>[t,mn.clone(this._objectCache.getChanges(t))])),[r,o]=mn.partition(t=>this._objectCache.has(t),t),i=r.map(t=>this._objectCache.getObject(t)).map(_n),s=(await Promise.all(o.map(this._getByGuid,this))).concat(i).map(function(t){return Object.assign({},t,mn.mapObject(n[t.guid],t=>t.value))});return await this._store.insertOrReplace(s.map(this._synchronizer.makeObjectInternal,this._synchronizer)),this._dirtyGuids.push(...t),this._objectCache.onCommit(t),this._objectCache.setMxObjects(s.map(t=>bn(Object.assign(t,{$dirty:!0})))),this._objectCache.removeChanges(function(t){const e={};return Object.keys(t).forEach(n=>{e[n]=Object.keys(t[n])}),e}(n)),{}}rollback(t){this._objectCache.removeAllChanges(t);const e=t.filter(t=>this._objectCache.isNew(t));return this._objectCache.removeObjects(e),Promise.resolve({})}validate(t){return Promise.resolve({})}saveDocument(t,e,n,r){if(r.size/1048576>n.maxFileSize)return Promise.reject(new wt.a("File too large"));const o=un(this._synchronizer.getInternalGuid(t));return this._fileBackend.storeFile(r,an+o).then(()=>(this._objectCache.makeChange(t,"HasContents",!0),this.commit([t],null)))}getDocumentUrl(t,e,n){return this._getDocumentUrl(un(this._synchronizer.getInternalGuid(t)),e,n)}getImageUrl(t){return Promise.resolve(t)}upload(){return this._synchronizer.upload()}async downloadObjects(t){await this._synchronizer.downloadObjects(t),this._dirtyGuids=[]}downloadFiles(t){return this._synchronizer.downloadFiles(t)}cleanupDirtyObjects(){return this._store.cleanupDirtyObjects()}isDirty(t){return this._dirtyGuids.includes(t)}async cleanup(){await this._store.cleanDatabase(),await this._fileBackend.removeDir(an),await this._fileBackend.removeDir(cn),this._dirtyGuids=[]}_getByGuid(t){return this._store.getByGuid(this._synchronizer.getInternalGuid(t)).then(t=>this._synchronizer.makeObjectExternal(t))}}function _n(t){return yn(t.jsonData)}function On(t,e,n){var r=n?"thumbnails":"documents";return"filesystem:"+window.mx.appUrl+"temporary/files/"+r+"/"+t+"?"+ +new Date}var jn=n(88);const xn=n(12);class En{constructor(t,e,n,r){this._store=t,this._runtimeApi=e,this._fileBackend=n,this._objectCache=r,this._internalToExternal={}}async upload(){const t=this._runtimeApi,e=this._fileBackend,n=await this._store.fetchDirty();!function(t){const e=t.map(t=>t.guid),n=xn.unique(t.map(t=>l(t).map(([t,e])=>e)).reduce((t,e)=>t.concat(e),[])).filter(t=>!hn(t)).filter(t=>!e.includes(t));if(n.length>0){const e=xn.unique(t.map(t=>l(t).filter(([t,e])=>n.includes(e)).map(([e,n])=>`object of type ${t.$objectType} (reference ${e})`)).reduce((t,e)=>t.concat(e),[])).join(", "),r=`Sync has failed due to a modeling error. Your database contains objects that reference uncommitted objects:\n${e}.`;throw new _t(r)}}(n);const[r,o]=xn.partition(t=>hn(t.guid),n),i=await Promise.all(o.map(function(e){return t.instantiate(e.$objectType).then(t=>{const n=t.objects.find(e=>e.guid===t.actionResult);return{internalObj:e,remoteJson:n}})})),s=xn.objectFromArray(i.map(({internalObj:t,remoteJson:e})=>[t.guid,e.guid])),a=i.map(({remoteJson:t})=>t),c=r.map(t=>t.guid).concat(i.map(({remoteJson:t})=>t.guid)),u=xn.objectFromArray(n.map(t=>(function(t,e){const n=window.mx.meta.getEntity(t.$objectType),r=Object.keys(t).filter(function(e){return!pn(e)&&n.isSyncable(e)&&!dn(t,e)}).map(r=>{const o=t[r],i=n.isObjectReference(r)&&null!=o&&!hn(o)?e[o]:o;return[r,{value:i}]});return[hn(t.guid)?t.guid:e[t.guid],xn.objectFromArray(r)]})(t,s)));return await t.commit(c,new jn.MxContext,u,a),await this._store.makeClean(n),await Promise.all(n.filter(t=>window.mx.meta.getEntity(t.$objectType).isA("System.FileDocument")).filter(t=>t.HasContents).map(n=>(async function(n,r){const o=an+un(n.guid),i=an+un(r);o!==i&&await e.moveFile(o,i);const s=await e.readFile(i);await t.upload(r,n.Name,{},s,{},[])})(n,hn(n.guid)?n.guid:s[n.guid]))),xn.arrayFromObject(s).forEach(([t,e])=>this._mapInternalGuid(t,e)),{};function l(t){const e=window.mx.meta.getEntity(t.$objectType);return xn.arrayFromObject(t).filter(([t,n])=>"guid"===t||!pn(t)&&e.isReference(t))}}async downloadObjects(t){const e=this._runtimeApi,n=xn.flatten(await Promise.all(t.map(t=>(function(t,n){return e.retrieveByXPath(n).then(e=>e.mxobjects.map(yn).map(e=>Object.assign({},e,{$objectType:t})))})(t.store,t.xpath))));await this._store.rebuildDatabase(n);const r=n.map(this.makeObjectExternal,this).filter(t=>this._objectCache.has(t.guid));return this._objectCache.setMxObjects(r.map(bn)),{}}async downloadFiles(t){const e=this._store,n=this._fileBackend,r=xn.flatten(await Promise.all(t.map(t=>(function(t){return e.getSlice(t,[{attribute:"HasContents",operator:"equals",value:"true"}]).then(([t,e])=>t)})(t)))),o=r.map(t=>s(t,!1)),i=r.filter(t=>window.mx.meta.getEntity(t.$objectType).isA("System.Image")).map(t=>s(t,!0));return await Promise.all(o.concat(i)),{};function s(t,e){const r=function(t,e,n){return mx.remoteUrl+function(t,e,n){let r="file?"+["guid="+t,"changedDate="+e].join("&");return n&&(r+="&thumb=true"),r}(t,e,n)}(t.guid,t.changedDate,e),o=(e?cn:an)+un(t.guid);return n.downloadFile(r,o)}}getExternalGuid(t){return this._internalToExternal[t]||t}getInternalGuid(t){for(const e in this._internalToExternal)if(this._internalToExternal[e]===t)return e;return t}makeObjectExternal(t){return Sn(t,this.getExternalGuid.bind(this))}makeObjectInternal(t){return Sn(t,this.getInternalGuid.bind(this))}_mapInternalGuid(t,e){this._internalToExternal[e]=t}}function Sn(t,e){if(null===t)return null;const n=window.mx.meta.getEntity(t.$objectType);return xn.mapObject(t,(t,r)=>{return("guid"===r||!pn(r)&&n.isReference(r))&&null!=t?e(t):t})}function Tn(t){return(e,n)=>{const r=n(e),o=new Promise((n,r)=>{setTimeout(()=>r(new vt.a(`Request ${function(t){return(t.init.method||"get").toUpperCase()+" "+t.url+(Object(s.e)(t.body)&&t.body.action?`(${t.body.action})`:"")}(e)} timed out after ${t} ms.`)),t)});return Promise.race([r,o])}}var Pn=n(61);async function An(t,e,n){Object(mt.b)(),Object(mt.c)(Tn(3e3));const r=new Rt,o=new Qe(Cn("session"),Cn("token"),{currentCacheBust:e,shouldGenerateToken:!0}),i=new bt,s=new At({garbageCollectionInterval:1e4,logCleanupStatistics:!1},r),a=new qe,c=new kt;window.mx={version:"{{mendix-version}}",appUrl:"resources://",homeUrl:"not-supported",remoteUrl:t,remote:new yt,ui:new dt,onError:t=>_.NativeModules.NativeErrorHandler.handle(t.message,Object(Pn.parse)(t.stack)),isOffline:()=>!0,logger:c,session:o,meta:i,data:s,parser:a},function(t){Object(mt.c)((e,n)=>{if(!e.url.startsWith(window.mx.appUrl))return n(e);let r;if((r=-1===e.url.indexOf("?")?e.url.substring(window.mx.appUrl.length):e.url.substring(window.mx.appUrl.length,e.url.indexOf("?")))in t){const e=t[r]();return Promise.resolve(new Response(JSON.stringify(e),{status:200,statusText:"OK"}))}return Promise.reject(new Error(`Failed to locate resource ${r}`))})}(n);const u=await o.startup({hybrid:!0,offline:!0,profile:"hybridPhoneOffline",timezoneoffset:(new Date).getTimezoneOffset()});if(o.getConfig("isDevModeEnabled")){const e=new Dt(t);e.connect(),e.addOnReload(_.NativeModules.NativeReloadHandler.reload),c.addHandler((t,...n)=>{e.log(t,...n)})}i.startup();const l=await async function(t,{createStoreFn:e,getStorageDirFn:n,downloadFileFn:r,getDocumentUrlFn:o}){const i=new Ze(window.mx.session.getConfig("sync_config.schema"),e),s=new en({downloadFileFn:r,getStorageDirFn:n}),a=new En(i,Be,s,t),c=new wn({getDocumentUrlFn:o},t,i,s,a);return await c.initialize(),c}(r,{createStoreFn:()=>gt.openDatabase("MendixDatabase","1","Mendix Database",-1)});s.startup(l),u&&(await tn(s.uploadOfflineObjectsAndFiles.bind(s)),await tn(s.downloadOfflineObjectsAndFiles.bind(s)))}function Cn(t){return{get:()=>new Promise((e,n)=>_.AsyncStorage.getItem(t,(t,r)=>{t?n(t):e(r)})),set:e=>new Promise((n,r)=>_.AsyncStorage.setItem(t,e,t=>{t?r(t):n()})),remove:()=>new Promise((e,n)=>_.AsyncStorage.removeItem(t,t=>{t?n(t):e()}))}}async function Dn({cacheBust:t,resourcesMap:e}){try{const n=_.NativeModules.MxConfiguration.RUNTIME_URL;await An(n,t,e),await dt.startApp()}catch(t){_.NativeModules.NativeErrorHandler.handle(t.message,Object(Pn.parse)(t.stack))}}function kn(t){const e={testID:t.name,style:t.style};return t.caption.loaded?Object(o.createElement)(_.Text,e,t.caption.value):null}function Mn(t,e){return{type:"CHANGE_VALUE",payload:{property:t,value:e}}}function In(t){return{type:"EXECUTE",payload:{property:t.id}}}function Rn(t){if(!t.caption.loaded||void 0===t.caption.value)return null;t.style.unshift(Nn);const e="android"===_.Platform.OS?_.TouchableNativeFeedback:_.TouchableOpacity,n="android"===_.Platform.OS?t.caption.value.toUpperCase():t.caption.value;return Object(o.createElement)(e,{testID:t.name,onPress:()=>t.$dispatch(In(t.onClick))},Object(o.createElement)(_.View,{style:t.style.map(t=>t&&t.button)},Object(o.createElement)(_.Text,{style:t.style.map(t=>t&&t.text)},n)))}const Nn=_.StyleSheet.create({button:_.Platform.select({android:{elevation:4,backgroundColor:"#2196F3",borderRadius:2}}),text:_.Platform.select({ios:{color:"#007AFF",textAlign:"center",padding:8,fontSize:18},android:{color:"white",textAlign:"center",padding:8,fontWeight:"500"}}),buttonDisabled:_.Platform.select({android:{elevation:0,backgroundColor:"#dfdfdf"}}),textDisabled:_.Platform.select({ios:{color:"#cdcdcd"},android:{color:"#a1a1a1"}})}),Vn=Symbol("mxObject");function Fn(t,e,n,r,o){return{offset:n,totalCount:e,items:t.map(t=>et.from(t)).map(t=>(function(t,e){return{id:t.guid(),[Vn]:{obj:t,scope:e}}})(t,o)),version:r}}const $n=g(class extends o.Component{constructor(t){super(t),this.store=new d(t.$store),this.setMxObject(t.scope)}componentWillReceiveProps(t){if(this.props.$store!==t.$store)throw new Error("Unexpected change of parent scope.");this.setMxObject(t.scope)}render(){return Object(o.createElement)(y,{store:this.store},this.props.children)}setMxObject(t){const{obj:e,scope:n}=function(t){const e=t[Vn];if(void 0===e)throw new Error("Arbitrary object is used as a ListItem. This is not allowed.");return e}(t);this.store.set(ot(n,e))}});function Un(t){const e="android"===_.Platform.OS?_.TouchableNativeFeedback:_.TouchableOpacity,n={testID:t.name,refreshing:!t.items.loaded,style:t.style,data:t.items.loaded&&t.items.value?t.items.value.items:[],keyExtractor:t=>t.id,renderItem:({item:n,index:r})=>Object(o.createElement)($n,{scope:n},Object(o.createElement)(e,{testID:`${t.name}$item${r}`,onPress:()=>t.$dispatch(In(t.onItemClick))},Object(o.createElement)(_.View,null,t.itemTemplate()))),onEndReached:()=>{const e=Object(s.b)(t.amount.value).plus(t.pageSize);t.$dispatch(Mn(t.amount.id,e))}};return Object(o.createElement)(_.FlatList,n)}function Bn(t){const e={testID:t.name,style:t.style};return Object(o.createElement)(_.View,e,t.content)}function Ln(t){const e={testID:t.name,style:t.style,source:t.source};return Object(o.createElement)(_.Image,e)}var Gn=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n};const Wn=t=>{const{error:e}=t,n=Gn(t,["error"]);return void 0!==e&&""!==e.message?Object(o.createElement)(_.Text,n,e.message):null};class qn extends o.Component{constructor(t){super(t),this.boundOnValueChange=this.onValueChange.bind(this),this.boundRenderOption=this.renderOption.bind(this),this.state={currentValue:this.getValue(t.inputValue),modalVisible:!1}}getValue(t){if(t.loaded)return void 0!==t.errors&&void 0!==this.state?this.state.currentValue:t.value}getCaption(t){return this.props.inputValue.loaded?void 0===t||""===t?this.props.emptyOptionCaption.loaded&&this.props.emptyOptionCaption.value||"":this.props.inputValue.formatter.format(t):""}componentWillReceiveProps(t){this.setState({currentValue:this.getValue(t.inputValue)})}onValueChange(t){const e=this.props.inputValue;this.setState({currentValue:t},()=>{e.loaded&&!e.readOnly&&(this.props.$dispatch(Mn(e.id,t||void 0)),this.dispatchAction("onChange"))})}setModalVisible(t){this.setState({modalVisible:t})}render(){const t=null!==this.props.label&&this.props.label.loaded?Object(o.createElement)(_.Text,{key:"label",testID:`${this.props.name}$label`,style:this.props.style.map(t=>t&&t.label)},this.props.label.value):null,e=this.props.inputValue.errors&&this.props.inputValue.errors[0];return[t,"android"===_.Platform.OS?this.renderPicker():this.renderIOS(),Object(o.createElement)(Wn,{key:"error",testID:`${this.props.name}$alert`,error:e})]}renderPicker(){return Object(o.createElement)(_.Picker,{selectedValue:this.state.currentValue,testID:this.props.name,style:this.props.style.map(t=>t&&t.dropDown),itemStyle:this.props.style.map(t=>t&&t.item),onValueChange:this.boundOnValueChange,enabled:!this.props.inputValue.readOnly,key:"picker"},this.renderOptions())}renderIOS(){return[Object(o.createElement)(_.Button,{onPress:()=>this.setModalVisible(!0),key:"button",disabled:this.props.inputValue.readOnly||!this.props.inputValue.loaded,title:this.getCaption(this.state.currentValue),testID:`${this.props.name}$openButton`}),Object(o.createElement)(_.Modal,{animationType:"fade",key:"modal",transparent:!0,visible:this.state.modalVisible},Object(o.createElement)(_.TouchableWithoutFeedback,{accessible:!1,onPress:()=>this.setModalVisible(!this.state.modalVisible)},Object(o.createElement)(_.View,{style:Yn.backdropWrapper},Object(o.createElement)(_.View,{style:Yn.container},Object(o.createElement)(_.View,{style:Yn.topWrapper},Object(o.createElement)(_.Button,{testID:`${this.props.name}$closeButton`,title:We("mxui.widget.native","Dropdown.closeIOSPicker"),onPress:()=>this.setModalVisible(!this.state.modalVisible)})),this.renderPicker()))))]}renderOptions(){if(!this.props.inputValue.loaded)return[];const t=this.props.inputValue.universe||[],e=this.state.currentValue,n=e&&-1===t.indexOf(e)?[e]:[];return["",...t,...n].map(this.boundRenderOption)}renderOption(t,e){return Object(o.createElement)(_.Picker.Item,{label:this.getCaption(t),value:t,key:t,testID:`dropDownItem${e}`})}dispatchAction(t){const e=this.props[t];this.props.inputValue.loaded&&e&&this.props.$dispatch(In(e))}}const Yn=_.StyleSheet.create({backdropWrapper:{backgroundColor:"rgba(0, 0, 0, 0.3)",flex:1,flexDirection:"row",alignItems:"flex-end"},container:{backgroundColor:"#FFFFFF",flex:1},topWrapper:{alignItems:"flex-end"}});class Hn extends o.Component{constructor(t){super(t),this.onChange=(t=>{this.props.value.loaded&&!this.props.value.readOnly&&(this.props.$dispatch(Mn(this.props.value.id,t)),this.props.onChange&&this.props.$dispatch(In(this.props.onChange)))})}render(){const t=this.props.value.errors,e=t&&t[0];return[this.props.caption?Object(o.createElement)(_.Text,{testID:`${this.props.name}$label`,key:"label"},this.props.caption.value):null,this.createInput(),Object(o.createElement)(Wn,{key:"alert",testID:`${this.props.name}$alert`,error:e})]}createInput(){return Object(o.createElement)(_.Switch,{testID:this.props.name,style:this.props.style,onValueChange:this.onChange,value:this.props.value.value||!1,disabled:this.props.value.readOnly,key:"input"})}}const zn={default:{android:"default",iOS:"default"},"number-pad":{android:"numeric",iOS:"number-pad"},"decimal-pad":{android:"numeric",iOS:"decimal-pad"},"phone-pad":{android:"phone-pad",iOS:"phone-pad"},url:{android:"default",iOS:"url"},"email-address":{android:"email-address",iOS:"email-address"}};class Jn extends o.Component{constructor(t){super(t),this.state=this.getInitialState(this.props),this.onChangeTextHandler=this.onChangeText.bind(this),this.onFocusHandler=this.onFocus.bind(this),this.onBlurHandler=this.onBlur.bind(this)}getInitialState(t){const e=this.getValue(t.inputValue,!1);return{currentValue:e,focused:!1,oldValue:e}}getValue(t,e){if(!t.loaded||void 0===t.value)return{displayValue:"",internalValue:{valid:!0}};if(t.errors&&void 0!==this.state)return this.state.currentValue;const n=t.formatter,r=e?Object.assign({},n.defaultConfig,{groupDigits:!1}):void 0;return{displayValue:n.format(t.value,r),internalValue:{valid:!0,value:t.value}}}componentWillReceiveProps(t){this.setState({currentValue:this.getValue(t.inputValue,this.state.focused)})}onChangeText(t){this.setDisplayValue(t,this.state.focused?void 0:()=>{this.hasChanged()&&this.dispatchChange()})}onFocus(){this.setState({oldValue:this.state.currentValue,focused:!0}),this.dispatchAction("onEnter")}onBlur(){const t=this.hasChanged(),e=t?this.reformat(this.state.currentValue):this.getValue(this.props.inputValue,!1);this.setState({currentValue:e,oldValue:e,focused:!1},()=>{t&&this.dispatchChange(),this.dispatchAction("onLeave")})}setDisplayValue(t,e){this.setState({currentValue:{displayValue:t,internalValue:this.props.inputValue.formatter.parse(t)}},e)}reformat(t){const{internalValue:e}=t;return e.valid?{internalValue:e,displayValue:this.props.inputValue.formatter.format(e.value)}:t}hasChanged(){const{currentValue:t,oldValue:e}=this.state;if(t.internalValue.valid!==e.internalValue.valid)return!0;if(t.internalValue.valid&&e.internalValue.valid){const n=this.props.inputValue.formatter;return n.format(t.internalValue.value)!==n.format(e.internalValue.value)}return t.displayValue!==e.displayValue}dispatchChange(){const t=this.props.inputValue,e=this.state.currentValue;t.loaded&&!t.readOnly&&(this.props.$dispatch(Mn(t.id,e.internalValue.valid?e.internalValue.value:e.displayValue)),this.dispatchAction("onChange"))}render(){const t=this.props.style.map(t=>t&&t.validationMessageStyles),e=this.props.style.map(t=>t&&t.inputErrorStyles),n=this.props.style.map(t=>t&&t.inputStyles),r=this.props.style.map(t=>t&&t.labelStyles),i=this.props.inputValue.errors&&this.props.inputValue.errors[0];return[this.props.label?Object(o.createElement)(_.Text,{testID:`${this.props.name}$label`,key:"label",style:r},this.props.label.value):null,Object(o.createElement)(_.TextInput,{key:"input",testID:this.props.name,style:i?[n,e]:n,editable:!this.props.inputValue.readOnly,onChangeText:this.onChangeTextHandler,onFocus:this.onFocusHandler,onBlur:this.onBlurHandler,maxLength:this.props.maxLength||void 0,placeholder:this.props.placeholder.value||void 0,secureTextEntry:this.props.isPassword,value:this.state.currentValue.displayValue,keyboardType:Jn.getPlatformKeyboardType(this.props.keyboardType),clearButtonMode:"always"}),Object(o.createElement)(Wn,{key:"alert",testID:`${this.props.name}$alert`,style:t,error:i})]}dispatchAction(t){const e=this.props[t];this.props.inputValue.loaded&&e&&this.props.$dispatch(In(e))}static getPlatformKeyboardType(t){const e=zn[t];return"android"===_.Platform.OS?e.android:e.iOS}}const Kn=t=>Object(o.createElement)(_.ScrollView,{style:[t.style]},t.content);var Xn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Qn(){}function Zn(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:Qn}var tr=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=function(t,e,n){if(t){if(t instanceof z)return t;if(t[H])return t[H]()}return t||e||n?new z(t,e,n):new z(V)}(t,e,n);if(r?r.call(o,this.source):o.add(this.source||R.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),R.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){R.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=er(e))(function(e,r){var o;o=n.subscribe(function(e){try{t(e)}catch(t){r(t),o&&o.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[Xn]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Zn(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=er(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function er(t){if(t||(t=R.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function nr(t){return t&&"function"==typeof t.schedule}var rr=function(t){function e(e,n,r){var o=t.call(this)||this;return o.parent=e,o.outerValue=n,o.outerIndex=r,o.index=0,o}return k(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(z),or=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}},ir=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,N),e}};var sr=function(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),ar=function(t){return function(e){for(var n=t[sr]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}},cr=function(t){return function(e){var n=t[Xn]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},ur=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function lr(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var fr=function(t){if(t instanceof tr)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[Xn])return cr(t);if(ur(t))return or(t);if(lr(t))return ir(t);if(t&&"function"==typeof t[sr])return ar(t);var e=$(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function hr(t,e,n,r){var o=new rr(t,n,r);return fr(e)(o)}var pr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return k(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(z);function dr(t,e){return new tr(e?function(n){var r=new q,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r}:or(t))}function br(t,e){if(!e)return t instanceof tr?t:new tr(fr(t));if(null!=t){if(function(t){return t&&"function"==typeof t[Xn]}(t))return function(t,e){return new tr(e?function(n){var r=new q;return r.add(e.schedule(function(){var o=t[Xn]();r.add(o.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r}:cr(t))}(t,e);if(lr(t))return function(t,e){return new tr(e?function(n){var r=new q;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r}:ir(t))}(t,e);if(ur(t))return dr(t,e);if(function(t){return t&&"function"==typeof t[sr]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new tr(e?function(n){var r,o=new q;return o.add(function(){r&&"function"==typeof r.return&&r.return()}),o.add(e.schedule(function(){r=t[sr](),o.add(e.schedule(function(){if(!n.closed){var t,e;try{var o=r.next();t=o.value,e=o.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}}))})),o}:ar(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function yr(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(yr(function(n,r){return br(t(n,r)).pipe(K(function(t,o){return e(n,t,r,o)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new gr(t,n))})}var gr=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new mr(t,this.project,this.concurrent))},t}(),mr=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=t.call(this,e)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return k(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(hr(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(pr);function vr(t){return t}function wr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,o=t[t.length-1];return nr(o)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof o&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof tr?t[0]:function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),yr(vr,t)}(n)(dr(t,r))}var _r=new tr(function(t){return t.complete()});function Or(t){return t?function(t){return new tr(function(e){return t.schedule(function(){return e.complete()})})}(t):_r}function jr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];switch(nr(n)?t.pop():n=void 0,t.length){case 0:return Or(n);case 1:return n?dr(t,n):function(t){var e=new tr(function(e){e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}(t[0]);default:return dr(t,n)}}function xr(t,e){return function(n){return n.lift(new Er(t,e))}}var Er=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Sr(t,this.predicate,this.thisArg))},t}(),Sr=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return k(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(z),Tr=function(t){function e(){var n=t.call(this,"object unsubscribed")||this;return n.name="ObjectUnsubscribedError",Object.setPrototypeOf(n,e.prototype),n}return k(e,t),e}(Error),Pr=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return k(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(q),Ar=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return k(e,t),e}(z),Cr=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return k(e,t),e.prototype[H]=function(){return new Ar(this)},e.prototype.lift=function(t){var e=new Dr(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new Tr;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new Tr;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Tr;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new Tr;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new Tr;return this.hasError?(t.error(this.thrownError),q.EMPTY):this.isStopped?(t.complete(),q.EMPTY):(this.observers.push(t),new Pr(this,t))},e.prototype.asObservable=function(){var t=new tr;return t.source=this,t},e.create=function(t,e){return new Dr(t,e)},e}(tr),Dr=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return k(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):q.EMPTY},e}(Cr),kr=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return k(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return k(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return k(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(q))),Mr=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),Ir=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return k(e,t),e}(function(t){function e(n,r){void 0===r&&(r=Mr.now);var o=t.call(this,n,function(){return e.delegate&&e.delegate!==o?e.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return k(e,t),e.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,o):t.prototype.schedule.call(this,n,r,o)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(Mr)))(kr);function Rr(t){var e=t.error;t.subscriber.error(e)}var Nr=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return jr(this.value);case"E":return function(t,e){return new tr(e?function(n){return e.schedule(Rr,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}(this.error);case"C":return Or()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();var Vr=function(t){function e(e,n,r){void 0===r&&(r=0);var o=t.call(this,e)||this;return o.scheduler=n,o.delay=r,o}return k(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new Fr(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(Nr.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(Nr.createError(t))},e.prototype._complete=function(){this.scheduleMessage(Nr.createComplete())},e}(z),Fr=function(){return function(t,e){this.notification=t,this.destination=e}}(),$r=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var o=t.call(this)||this;return o.scheduler=r,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=e<1?1:e,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return k(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new Ur(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=r.length;if(this.closed)throw new Tr;if(this.isStopped||this.hasError?e=q.EMPTY:(this.observers.push(t),e=new Pr(this,t)),o&&t.add(t=new Vr(t,o)),n)for(var s=0;s<i&&!t.closed;s++)t.next(r[s]);else for(s=0;s<i&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||Ir).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,o=r.length,i=0;i<o&&!(t-r[i].time<n);)i++;return o>e&&(i=Math.max(i,o-e)),i>0&&r.splice(0,i),r},e}(Cr),Ur=function(){return function(t,e){this.time=t,this.value=e}}();function Br(t,e,n){return function(r){return r.lift(function(t,e,n){var r,o,i=0,s=!1,a=!1;return function(c){i++,r&&!s||(s=!1,r=new $r(t,e,n),o=c.subscribe({next:function(t){r.next(t)},error:function(t){s=!0,r.error(t)},complete:function(){a=!0,r.complete()}}));var u=r.subscribe(this);return function(){i--,u.unsubscribe(),o&&0===i&&a&&o.unsubscribe()}}}(t,e,n))}}var Lr=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new Gr(t,this.observables,this.project))},t}(),Gr=function(t){function e(e,n,r){var o=t.call(this,e)||this;o.observables=n,o.project=r,o.toRespond=[];var i=n.length;o.values=new Array(i);for(var s=0;s<i;s++)o.toRespond.push(s);for(s=0;s<i;s++){var a=n[s];o.add(hr(o,a,a,s))}return o}return k(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.values[n]=e;var i=this.toRespond;if(i.length>0){var s=i.indexOf(n);-1!==s&&i.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(pr);function Wr(t,e){const n=void 0!==e?Object(p.computed)(t,e):Object(p.computed)(t);return new tr(t=>(t.next(n.get()),{unsubscribe:n.observe(e=>t.next(e.newValue))})).pipe(Br(1))}function qr(t){return new tr(e=>{const n=mx.data.subscribe(Object.assign({},t,{callback:t=>e.next(t)}));return()=>mx.data.unsubscribe(n)})}function Yr(t,e){let n;return tt(t,t=>{n=e.subscribe(t,mx.onError)},()=>n.unsubscribe())}function Hr(t){return e=>t.pipe(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n;"function"==typeof t[t.length-1]&&(n=t.pop());var r=t;return e.lift(new Lr(r,n))}}(e),K(([t,e])=>e))}function zr(t){return function(e){return e.lift(new Jr(t))}}var Jr=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new Kr(t,this.value))},t}(),Kr=function(t){function e(e,n){var r=t.call(this,e)||this;return r.value=n,r}return k(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(z);class Xr extends f{constructor(t,e){super(),this.baseConfig=t,this.description=e}initialize(t,e){this.page$=Wr(()=>{return{offset:Qr(this.baseConfig.offsetVariable,0,e),amount:Qr(this.baseConfig.amountVariable,this.baseConfig.defaultAmount||Number.POSITIVE_INFINITY,e)}},{equals:p.comparer.structural});let n=!1;this.pageChange$=this.page$.pipe(xr(function(){const t=n;return n=!1,!t}),Br(1),zr(void 0)),this.entityUpdate$=qr({entity:this.baseConfig.entity}),this.value=Yr(this.description,this.compute$(t,e)),Object(p.reaction)(()=>this.value.current(),t=>{if(this.baseConfig.totalCountVariable){const n=Qr(this.baseConfig.totalCountVariable,0,e),r=t.loaded?t.value.totalCount:void 0;n!==r&&e.set(ct(this.baseConfig.totalCountVariable,void 0!==r?Nt(r):void 0))}if(this.baseConfig.offsetVariable&&t.loaded){Qr(this.baseConfig.offsetVariable,0,e)!==t.value.offset&&(e.set(ct(this.baseConfig.offsetVariable,Nt(t.value.offset))),n=!0)}})}compute(t){return this.value.current()}}function Qr(t,e,n){if(void 0===t)return e;const r=n.get(at(t));if(r&&r.payload.value){const t=parseFloat(r.payload.value.toString());if(isNaN(t))throw new i.AssertionError;return t}return e}class Zr extends Xr{constructor(t){super(t,`Datasource offline query for ${t.entity}`),this.config=t}compute$(t,e){let n=-1;return wr(this.page$.pipe(Hr(this.pageChange$),K(t=>({page:t,forceReload:!1}))),this.page$.pipe(Hr(this.entityUpdate$),K(t=>({page:t,forceReload:!0})))).pipe(function(t,e){return n=>new tr(r=>{let o,i=e,s=!1,a=!1;return n.subscribe({next(e){if(a)return;let n;o&&(o.unsubscribe(),o=void 0);try{n=t(i,e)}catch(t){return r.error(t),void(a=!0)}o=n.subscribe({next(t){i=t,r.next(t)},error(t){r.error(t),a=!0},complete(){o=void 0,s&&r.complete()}})},error(t){r.error(t),o&&(o.unsubscribe(),o=void 0)},complete(){s=!0,o&&!o.closed||r.complete()}})})}((e,{page:r,forceReload:o})=>{return(o||!e.loaded?this.fetch$(r,++n,t):this.fetchIncrementally$(e.value,r,t)).pipe(function(t,e){return yr(t,e,1)}(e=>e.loaded&&0===e.value.items.length&&r.offset>0&&r.amount>0?(r={offset:0,amount:r.amount},this.fetch$(r,e.value.version,t).pipe(xr(t=>t.loaded))):jr(e)))},{loaded:!1}))}fetchIncrementally$(t,e,n){const r={offset:t.offset,amount:t.items.length};if(function(t,e){return e.offset>=t.offset&&e.offset+e.amount<=t.offset+t.amount}(r,e))return jr(Z({totalCount:t.totalCount,offset:Math.max(t.offset,e.offset),version:t.version,items:t.items.slice(e.offset-t.offset,e.offset-t.offset+e.amount)}));if(function(t,e){return e.offset===t.offset&&e.amount>t.amount||e.offset+e.amount===t.offset+t.amount&&e.offset<t.offset}(r,e)){const o=function(t,e){return{offset:t.offset===e.offset?e.offset+e.amount:t.offset,amount:t.amount-e.amount}}(e,r);return this.fetch$(o,t.version,n).pipe(K(function(t){return e=>e.loaded?Z(t(e.value)):{loaded:!1}}(n=>({totalCount:n.totalCount,offset:e.offset,version:n.version,items:e.offset<r.offset?n.items.concat(t.items):t.items.concat(n.items)}))),xr(t=>t.loaded))}return this.fetch$(e,t.version,n)}fetch$({offset:t,amount:e},n,r){const o=this.config.sort?{sort:this.config.sort.map(t=>[t.attributePath,t.sortDirection])}:{},i=e!==Number.POSITIVE_INFINITY?{limit:e}:{};return function(t){return Object(C.concat)(Object(C.of)({loaded:!1}),Object(C.from)(t).pipe(K(Z)))}(new Promise((e,s)=>mx.data.getSlice(this.config.entity,[],Object.assign({offset:t},i,o),!0,(o,i)=>e(Fn(o,i,t,n,r)),s)))}}var to={};var eo=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new no(t,this.resultSelector))},t}(),no=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return k(e,t),e.prototype._next=function(t){this.values.push(to),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(hr(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,o){var i=this.values,s=i[n],a=this.toRespond?s===to?--this.toRespond:this.toRespond:0;i[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(pr),ro=new tr(Qn);function oo(t,e){return"function"==typeof e?function(n){return n.pipe(oo(function(n,r){return br(t(n,r)).pipe(K(function(t,o){return e(n,t,r,o)}))}))}:function(e){return e.lift(new io(t))}}var io=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new so(t,this.project))},t}(),so=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return k(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe(),this.add(this.innerSubscription=hr(this,t,e,n))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e}(pr);var ao=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new co(t,this.total))},t}(),co=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return k(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(z);var uo,lo=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new fo(t),r=e.subscribe(n);return r.add(hr(n,this.notifier)),r},t}(),fo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasValue=!1,e}return k(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,n,r,o){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(pr),ho=n(63),po=n(62),bo=n(60),yo=n(59);!function(t){t[t.Unknown=0]="Unknown",t[t.Validation=1]="Validation",t[t.WidgetNotFound=2]="WidgetNotFound"}(uo||(uo={}));class go{constructor(t){this.defaultConfig=t,this.defaultLegacyProps=mo(t)}getLegacyProps(t){return t?mo(t):this.defaultLegacyProps}format(t,e){return!t||isNaN(t.getTime())?"":mx.parser.formatValue(t.getTime(),"DateTime",this.getLegacyProps(e))}parse(t,e){const n=mx.parser.parseValue(t,"DateTime",this.getLegacyProps(e));return null===n||n&&isNaN(n.getTime())?{valid:!1}:{valid:!0,value:""!==n?n:void 0}}getFormatPlaceholder(){return mx.parser.getDateFormatPlaceholder(this.defaultConfig)}}function mo(t){return"custom"===t.type?{selector:"date",datePattern:t.pattern}:{selector:t.type}}class vo{constructor(t){this.universe=t}format(t,e){const n=this.universe.find(e=>e.key===t);return n?n.caption:t?t.toString():""}parse(t,e){throw new Error("Enumeration values cannot be parsed")}getFormatPlaceholder(){}}class wo{constructor(t,e){this.attributeType=t,this.defaultConfig=e,this.defaultLegacyProps=_o(e)}getLegacyProps(t){return t?_o(t):this.defaultLegacyProps}format(t,e){return t?mx.parser.formatValue(t,this.attributeType,this.getLegacyProps(e)):""}parse(t,e){const n=mx.parser.parseValue(t,this.attributeType,this.getLegacyProps(e));return null===n?{valid:!1}:{valid:!0,value:""!==n?n:void 0}}getFormatPlaceholder(){}}function _o(t){return{groups:t.groupDigits,places:t.decimalPrecision}}var Oo=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const jo=new ho.a(po.a,Object(bo.a)(()=>new Date)),xo={format:t=>"",parse:t=>{throw new Error("Cannot parse values for unresolved attribute")},getFormatPlaceholder:()=>void 0};class Eo extends f{constructor(t){super(),this.config=t,this.lastSetValueValidation=p.observable.box(void 0),this.currentWidgetError=p.observable.box(void 0)}initialize(t,e){const n=Wr(()=>{const t=this.getMxObject(e);return t.loaded&&void 0!==t.value?t.value:void 0}),r=n.pipe(oo(t=>Wr(()=>{if(void 0!==t&&t.getAccess(this.config.attribute)!==P.None)return{obj:t,value:t.get(this.config.attribute)}},{equals:p.comparer.structural})),function(t){return function(e){return e.lift(new ao(t))}}(1)),o=Wr(()=>this.lastSetValueValidation.get()),i=Wr(()=>this.currentWidgetError.get()),s=r.pipe(K(t=>void 0!==t?this.validateValue(t.value,t.obj):void 0)),a=Wr(()=>e.get({type:"ValidationRequest"})),c=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return nr(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&F(t[0])&&(t=t[0]),dr(t,r).lift(new eo(n))}(i,o,s).pipe(K(t=>t.find(t=>void 0!==t)),function(t){return function(e){return e.lift(new lo(t))}}(a)),u=r.pipe(zr(void 0)),l=wr(i,n.pipe(oo(t=>t?qr({val:!0,guid:t.guid(),attr:this.config.attribute}):ro)),o,u,c).pipe(K(t=>void 0!==t?{type:uo.Validation,message:t}:void 0)),f=(this.config.path?this.config.path+"/":"")+this.config.attribute;this.metaObject=mx.meta.getEntity(this.config.entity),this.formatter=this.createFormatter(),this.universe=this.createUniverse(),this.validation=Yr(`Validation for ${this.config.friendlyId} (${f})`,l),Object(p.reaction)(()=>this.validation.current(),n=>e.set(function(t,e){return{key:st(t),payload:{error:e}}}(t,n)))}computeValue(t){return Object.assign({id:this.id,loaded:!0,value:void 0,universe:this.universe,readOnly:!0,formatter:this.formatter},this.compute(t))}compute(t){const e=this.getMxObject(t);if(!e.loaded)return{loaded:!1};if(void 0===e.value)return{value:void 0};if(e.value.getAccess(this.config.attribute)===P.None)return{value:void 0};const n=e.value.get(this.config.attribute),r=this.validation.current();return{value:n,readOnly:this.getReadOnly(t,e.value),errors:r?[r]:void 0}}handleAction(t,e){if("SET_VALIDATION_MESSAGE"===t.type&&t.payload.property===this.id)return void this.currentWidgetError.set(t.payload.message);if("CLEAR_VALIDATION_MESSAGE"===t.type&&t.payload.property===this.id)return void this.currentWidgetError.set(void 0);if("CHANGE_VALUE"!==t.type||t.payload.property!==this.id)return;const n=this.getMxObject(e);if(!n.loaded||void 0===n.value)throw new Error(`Widget ${this.config.friendlyId} is attempting to change the value of attribute (${this.config.attribute}) of object that is not loaded yet.`);if(this.getReadOnly(e,n.value))throw new Error(`Widget ${this.config.friendlyId} is attempting to change the value of attribute "${this.config.attribute}" which is not writable.`);const[r,o]=this.tryParseValue(t.payload.value);if(o)return void this.lastSetValueValidation.set(o);const i=this.validateValue(r,n.value);i?this.lastSetValueValidation.set(i):(this.lastSetValueValidation.set(void 0),n.value.set(this.config.attribute,r))}getMxObject(t){const e=t.get(rt(this.config.scope));if(void 0===e)return{loaded:!1};if(void 0===e.payload.mxObject)return{loaded:!0,value:void 0};const n=e.payload.mxObject;return this.config.path?n.getByPath(this.config.path):{loaded:!0,value:n}}getReadOnly(t,e){const n=e.getAccess(this.config.attribute)!==P.Write,r=t.get({type:"SubtreeReadOnly"}),o=void 0!==r&&r.payload.readOnly;return this.config.readOnly||n||o}tryParseValue(t){const e=this.config.attribute,n=this.metaObject.getAttributeType(e);if(!So(t,n)&&"string"==typeof t){const r=this.formatter.parse(t);if(!r.valid)return[void 0,function(t,e,n){switch(t){case"Enum":case"Boolean":return We("mendix.lib.Validations","invalid_attribute",`${e}`,n);case"DateTime":return We("mendix.lib.Validations","invalid_date");case"Currency":return We("mendix.lib.Validations","invalid_currency");case"Float":case"Integer":case"Long":case"Decimal":return We("mendix.lib.Validations","invalid_number");default:throw new Error(`Attribute type ${t} is not supported.`)}}(n,t,e)];t=r.value}if(!this.isValidValue(t,n)){const r=void 0!==t?`'${t.toString()}' of type ${typeof t}`:"undefined";throw new Error(`Value ${r} is not assignable to the attribute '${e}' of type ${n}.`)}return[t,void 0]}isValidValue(t,e){if(!So(t,e))return!1;switch(e){case"DateTime":return void 0===t||!isNaN(t.getTime());case"Enum":return void 0===t||this.universe.includes(t);default:return!0}}validateValue(t,e){const n=function(t,e){const n=Se.validate(t,e);if(n!==Se.validation.OK)return We("mendix.lib.Validations",Le[n])}(Object(A.a)(t),this.metaObject.getAttributeType(this.config.attribute));if(n)return n;const r=new yo.a({currentObject:()=>e.old(),value:()=>t}),o=(this.config.validations||[]).find(t=>!jo.evaluate(t.expression,r));return o?o.message?o.message:We("mendix.lib.Validations","required_field"):void 0}createFormatter(){const t=this.metaObject.getAttributeType(this.config.attribute);if(!t)return xo;switch(t){case"Enum":return new vo(this.metaObject.getEnumMap(this.config.attribute));case"DateTime":return new go(this.config.dateFormat||{type:"date"});case"Float":case"Currency":case"Integer":case"Long":case"Decimal":return new wo(t,this.config.numberFormat||{groupDigits:!1});default:return function(t){return{format:e=>void 0!==e?mx.parser.formatValue(Object(A.a)(e),t):"",parse:e=>{const n=mx.parser.parseValue(e,t);return null!==n?{valid:!0,value:Object(A.b)(n,t)}:{valid:!1}},getFormatPlaceholder:()=>void 0}}(t)}}createUniverse(){switch(this.metaObject.getAttributeType(this.config.attribute)){case"Enum":return this.metaObject.getEnumMap(this.config.attribute).map(t=>t.key);case"Boolean":return[!0,!1];default:return}}}function So(t,e){switch(e){case"String":return"string"==typeof t;case"Enum":return"string"==typeof t||void 0===t;case"Boolean":return"boolean"==typeof t;case"DateTime":return t instanceof Date||void 0===t;case"Float":case"Currency":case"Integer":case"Long":case"Decimal":return t instanceof Nt||void 0===t;default:throw new Error(`Attribute type ${e} is not supported.`)}}Eo.PROPERTY_TYPE="AttributeProperty",Oo([p.action],Eo.prototype,"handleAction",null);var To=n(21);var Po=n(87);const Ao=new(n(86).NanoflowEngine)(Po.executors);async function Co(t,{currentForm:e}){await async function(t){t.setSuspend(!0);try{await Object(Ke.a)(t,"publish","rollback"),await function(t){return new Promise((e,n)=>{mx.data.rollback({mxobjs:t,callback:e,error:n})})}(t.getSubmitObjects())}finally{t.setSuspend(!1)}}(e),t.closePage&&await Object(Ke.a)(e,"close")}async function Do(t,e,n){let r;if(n)if("object"in n)r=[n.object];else{if(!("objects"in n))throw new i.AssertionError;r=n.objects}else r=void 0;if(e.abortOnClientValidations&&await Object(Ke.a)(e.currentForm,"publish","validate"),e.abortOnServerValidations&&await Object(Ke.a)(mx.data,"validate",e.currentForm.getSubmitObjects()),r){const t=await Promise.all(r.map(o));return"objects"in n?t:t[0]}return o();async function o(n){const r=n&&t.specializations&&t.specializations[n.getEntity()]||t;return mx.ui.openForm2(r.name,n&&n.getGuid(),r.title,e.currentForm,Object.assign({},r,{formParams:e.formParams}))}}async function ko(t,e){const n="addressAttribute"in t?await Object(Ke.a)(Object(s.b)(e),"fetch",t.addressAttribute):t.address,r=function(t,e){switch(t){case"email":return`mailto:${escape(e)}`;case"call":return`tel:${escape(e)}`;case"text":return`sms:${escape(e)}`;default:return e}}(t.schema,n);window.open(r,"web"===t.schema?"_blank":"_self")}async function Mo(t){const e=mx.ui.showProgress(void 0,!0);try{await async function(t){try{await Object(Ke.a)(mx.data,"synchronizeOffline",{fast:t})}catch(t){if(t instanceof _t)throw t;t instanceof vt.a?mx.ui.info(We("mxui.sys.UI","sync_error"),!0):mx.ui.error(We("mxui.sys.UI","non_connection_sync_error"),!0)}}(t.fast),t.reload&&await Object(Ke.a)(mx.ui,"reload")}finally{mx.ui.hideProgress(e)}}async function Io(t,{currentForm:e}){await Object(Ke.a)(e,"publish","validate"),await async function(t){t.setSuspend(!0);try{await Object(Ke.a)(t,"publish","submit"),await Object(Ke.a)(t,"publish","commit"),await function(t){return new Promise((e,n)=>{mx.data.commit({mxobjs:t,callback:()=>{e()},error:n})})}(t.getSubmitObjects())}finally{t.setSuspend(!1)}}(e),t.syncAutomatically&&await Mo({fast:!0,reload:!1}),t.closePage&&await Object(Ke.a)(e,"close")}function Ro(t,e,n,r,o){function a(t){o?o(t):t instanceof To.a||mx.onError(t)}mx.session.hasSomeRole(t.config.allowedRoles)?function(){switch(t.type){case"callMicroflow":return async function(t,e,n){const r=t.confirmation;if(r&&!await new Promise(t=>mx.ui.confirmation({cancel:r.cancel,proceed:r.proceed,content:r.question,handler:()=>t(!0),onCancel:()=>t(!1)})))return;if(e.beforeExecuteAction&&e.beforeExecuteAction(),e.abortOnClientValidations)switch(t.validate){case"node":if(!e.widgetIsValid)throw new To.a({});break;case"view":await Object(Ke.a)(e.currentForm,"publish","validate")}const o=t.progress?mx.ui.showProgress(t.progress.message,t.progress.modal):void 0;try{await Object(Ke.a)(e.currentForm,"publish","submit");const r={};Object.keys(n).forEach(t=>{const e=n[t];r[t]="objects"in e?{guids:e.objects.map(t=>t.getGuid())}:"object"in e?{guid:e.object.getGuid()}:e});const i=e.abortOnServerValidations?e.currentForm.getSubmitObjects().map(t=>t.getGuid()):[];await mx.onlineData.executeMicroflow(t.name,r,e.currentForm,i,Boolean(t.async))}finally{void 0!==o&&mx.ui.hideProgress(o)}}(t.config,e,n);case"callNanoflow":return async function(t,e,n){e.beforeExecuteAction&&e.beforeExecuteAction(),e.abortOnClientValidations&&await Object(Ke.a)(e.currentForm,"publish","validate"),await Object(Ke.a)(e.currentForm,"publish","submit");const r=Object.keys(n).map(t=>{const e=n[t];return{name:t,value:"object"in e?e.object:Object(s.a)()}});await Ao.execute(t.nanoflow,r,e.currentForm)}(t.config,e,n);case"cancelChanges":return Co(t.config,e);case"closePage":return Object(Ke.a)(e.currentForm,"close");case"doNothing":return Promise.resolve();case"openLink":const r="$object"in n?"object"in n.$object?n.$object.object:Object(s.a)():void 0;return ko(t.config,r);case"openPage":return Do(t.config,e,n.$pageParameter).then(()=>void 0);case"saveChanges":return Io(t.config,e);case"signOut":return async function(){mx.session.isGuest()||(mx.ui.showProgress(void 0,!0),mx.logout())}();case"synchronize":return Mo({fast:!1,reload:!0});case"deleteObject":return async function(t,{currentForm:e},n){let r;if("object"in n)r=[n.object];else{if(!("objects"in n))throw new i.AssertionError;r=n.objects}const o=We(r.length>1?"mxui.widget.DataGrid":"mxui.sys.UI","confirm_delete",r.length.toString());await new Promise(t=>mx.ui.confirmation({content:o,handler:()=>{t(!0)},onCancel:()=>{t(!1)}}))&&(await mx.onlineData.delete(r),t.closePage&&await Object(Ke.a)(e,"close"))}(t.config,e,n.$object);case"createObject":const o="$object"in n?"object"in n.$object?n.$object.object:Object(s.a)():void 0;return async function(t,e,n){if("association"in t&&void 0===n)throw new i.AssertionError;const r=mx.ui.showProgress("",!1);try{const o=await new Promise((e,n)=>mx.data.create({entity:t.entity,callback:e,error:n}));t.association&&o.addReference(t.association,n.getGuid()),await Do(t.pageSettings,e,{object:o})}finally{mx.ui.hideProgress(r)}}(t.config,e,o);default:throw new i.AssertionError}}().then(r,a):mx.session.isGuest()?mx.ui.showLogin():a(new wt.a("Unable to execute action because you do not have sufficient permissions."))}class No extends f{constructor(t){super(),this.config=t,this.actionsInProgress=p.observable.box(0)}initialize(t){this.widgetId=t}compute(t){return{value:{canExecute:this.canExecute(t),inProgress:this.actionsInProgress.get()>0}}}handleAction(t,e){if("EXECUTE"===t.type&&this.id===t.payload.property&&this.canExecute(e)){const t={};Object.keys(this.config.action.argMap).forEach(n=>{const r=e.get(rt(this.config.action.argMap[n]));void 0!==r&&void 0!==r.payload.mxObject&&(t[n]={object:r.payload.mxObject.old()})});const n=e.get(st(this.widgetId));this.actionsInProgress.set(this.actionsInProgress.get()+1),Ro(this.config.action,{abortOnClientValidations:!0,abortOnServerValidations:this.config.abortOnServerValidation,widgetIsValid:!n||void 0===n.payload.error,currentForm:Object(s.b)(e.get({type:"MxForm"})).payload.mxForm},t,()=>{this.actionsInProgress.set(this.actionsInProgress.get()-1)},t=>{this.actionsInProgress.set(this.actionsInProgress.get()-1),t instanceof To.a||mx.onError(t)})}}canExecute(t){return Object.keys(this.config.action.argMap).every(e=>{const n=t.get(rt(this.config.action.argMap[e]));return void 0!==n&&void 0!==n.payload.mxObject})}}function Vo(t,e){const n=t.parameters||{},r=t.formats||{};try{return Z(t.elements.map(t=>{if("string"==typeof t)return t;if(void 0===e)throw new Fo;return function(t,e,n){const{attribute:r,entityPath:o}=Object(s.g)(t);let i;if(void 0!==o){const t=e.getByPath(o);if(!t.loaded)throw new Fo;if(void 0===t.value)return"";i=t.value}else i=e;if(i.getAccess(r)===P.None)return"";const a=mx.meta.getEntity(i.entity()),c=a.getAttributeType(r),u=Object(A.a)(i.get(r));return"Enum"===c?a.getEnumCaption(r,u):mx.parser.formatValue(u,c,function(t,e){if(!e)return;if(function(t){switch(t){case"Currency":case"Decimal":case"Float":case"Integer":case"Long":return!0;default:return!1}}(t)){const t=e;return{groups:t.groupDigits,places:t.decimalPrecision}}if("DateTime"===t){const t=e;return"custom"===t.type?{selector:"date",datePattern:t.pattern}:{selector:t.type}}return}(c,n))}(n[t],e,r[t])}).join(""))}catch(t){if(t instanceof Fo)return{loaded:!1};throw t}}No.PROPERTY_TYPE="ActionProperty";class Fo extends Error{constructor(){super(),Object.setPrototypeOf(this,Fo.prototype)}}class $o extends f{constructor(t){super(),this.config=t}compute(t){const e=t.get(rt(this.config.scope)),n=e?e.payload.mxObject:void 0;return Vo(this.config.template,n)}}$o.PROPERTY_TYPE="DynamicTextProperty";var Uo=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};class Bo extends f{constructor(t){super(),this.config=t}initialize(t,e){const{variable:n,initialValue:r}=this.config;void 0===e.get(at(n))&&void 0!==r&&e.set(ct(n,"number"==typeof r?Nt(r):r))}compute(t){const e=t.get(at(this.config.variable)),n=void 0!==e?e.payload.value:void 0;return{loaded:void 0!==n,value:n}}handleAction(t,e){"CHANGE_VALUE"===t.type&&t.payload.property===this.id&&e.set(ct(this.config.variable,t.payload.value))}}Bo.PROPERTY_TYPE="WidgetVariableProperty",Uo([p.action],Bo.prototype,"handleAction",null),n.d(e,"asPluginWidget",function(){return v}),n.d(e,"NativeUI",function(){return dt}),n.d(e,"startApp",function(){return Dn}),n.d(e,"Text",function(){return kn}),n.d(e,"Button",function(){return Rn}),n.d(e,"NativeList",function(){return Un}),n.d(e,"Container",function(){return Bn}),n.d(e,"Image",function(){return Ln}),n.d(e,"DropDown",function(){return qn}),n.d(e,"CheckBox",function(){return Hn}),n.d(e,"TextBox",function(){return Jn}),n.d(e,"ScrollContainer",function(){return Kn}),n.d(e,"OfflineObjectListProperty",function(){return Zr}),n.d(e,"AttributeProperty",function(){return Eo}),n.d(e,"ActionProperty",function(){return No}),n.d(e,"DynamicTextProperty",function(){return $o}),n.d(e,"WidgetVariableProperty",function(){return Bo})},function(t,e){var n={parse:function(t){for(var e,n,r=/^\s*at (?:(?:(?:Anonymous function)?|((?:\[object object\])?\S+(?: \[as \S+\])?)) )?\(?((?:file|http|https):.*?):(\d+)(?::(\d+))?\)?\s*$/i,o=/^(?:\s*([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i,i=/^\s*at (?:((?:\[object object\])?\S+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i,s=t.split("\n"),a=[],c=0,u=s.length;c<u;++c){if(e=o.exec(s[c]))n={file:e[3],methodName:e[1]||"<unknown>",lineNumber:+e[4],column:e[5]?+e[5]:null};else if(e=r.exec(s[c]))n={file:e[2],methodName:e[1]||"<unknown>",lineNumber:+e[3],column:e[4]?+e[4]:null};else{if(!(e=i.exec(s[c])))continue;n={file:e[2],methodName:e[1]||"<unknown>",lineNumber:+e[3],column:e[4]?+e[4]:null}}a.push(n)}return a}};t.exports=n},function(t,e,n){const r=n(90),o=n(65);function i(){}i.prototype.getSlice=function(t,e,n={}){return this._getDatabase().then(this._fetchSlice(t,e,n))},i.prototype.getByGuid=function(t){return this._getDatabase().then(this._fetch(t))},i.prototype.insertOrReplace=function(t){return this._getDatabase().then(this._insertOrReplace(t))},i.prototype.cleanDatabase=function(){return this._getDatabase().then(this._cleanDatabase())},i.prototype.rebuildDatabase=function(t){return this._getDatabase().then(e=>r.promiseFromTask(this._rebuildDb(t).run(e)))},i.prototype.fetchDirty=function(){return this._getDatabase().then(t=>r.promiseFromTask(this._fetchDirty().run(t)))},i.prototype.makeClean=function(t){return this._getDatabase().then(e=>r.promiseFromTask(this._makeClean(t).run(e)))},i.prototype.cleanupDirtyObjects=function(){return this._getDatabase().then(this._cleanupDirtyObjects())},i.prototype._getDatabase=function(){return Promise.reject(new Error("not implemented"))},i.prototype._initialize=function(){return Promise.reject(new Error("not implemented"))},i.prototype._fetch=function(t){return function(t){return Promise.reject(new Error("not implemented"))}},i.prototype._fetchSlice=function(t,e,n){return function(t){return Promise.reject(new Error("not implemented"))}},i.prototype._insertOrReplace=function(t){return function(t){return Promise.reject(new Error("not implemented"))}},i.prototype._cleanDatabase=function(){return function(t){return Promise.reject(new Error("not implemented"))}},i.prototype._rebuildDb=function(t){return o.rejected(new Error("not implemented"))},i.prototype._fetchDirty=function(){return o.rejected(new Error("not implemented"))},i.prototype._makeClean=function(){return o.rejected(new Error("not implemented"))},i.prototype._cleanupDirtyObjects=function(){return function(t){return Promise.reject(new Error("not implemented"))}},t.exports=i},function(t,e,n){const r=n(52);function o(t){return function(e,n){return new r(function(r,o){var i,s=2;e[t](function(t){n.run(t).fork(r,function(t){i=t,0==--s&&o(i)})},r,function(){0==--s&&o(i)})})}}t.exports={runReadTransaction:o("readTransaction"),runWriteTransaction:o("transaction")}},function(t,e){t.exports=function(t){function e(t){this.run=t}return e.prototype.chain=function(t){return new e(function(e){return this.run(e).chain(function(n){return t(n).run(e)})}.bind(this))},e.prototype.ap=function(t){return new e(function(e){return this.run(e).ap(t.run(e))}.bind(this))},e.prototype.map=function(t){return this.chain(function(n){return e.of(t(n))})},e.of=function(n){return new e(function(e){return t.of(n)})},e.ask=function(){return new e(t.of)},e}},function(t,e,n){const r=n(53);function o(t,e){if(!(this instanceof o))return new o;this._tableName=e&&e.tableName||t&&t._tableName||null,this._columnNames=e&&e.columnNames||t&&t._columnNames||[]}function i(t){var e=r.QUOTE_CHAR;return e+t+e}o.prototype.into=function(t){return new o(this,{tableName:t})},o.prototype.column=function(t){return new o(this,{columnNames:this._columnNames.concat(t)})},o.prototype.insert=function(){var t="";return t+="INSERT INTO "+i(this._tableName),t+=this._buildSql()},o.prototype.insertOrReplace=function(){var t="";return t+="INSERT OR REPLACE INTO "+i(this._tableName),t+=this._buildSql()},o.prototype._buildSql=function(){var t="";return this._columnNames.length>0&&(t+=" (",t+=this._columnNames.map(i).join(", "),t+=")"),t+=" VALUES (",t+="?"+new Array(this._columnNames.length).join(", ?"),t+=")"},t.exports=o},function(t,e,n){const r=n(53);function o(t,e){this._tableName=e&&e.tableName||t&&t._tableName||null,this._columns=e&&e.columns||t&&t._columns||[]}function i(t){var e=r.QUOTE_CHAR;return e+t+e}o.prototype.table=function(t){return new o(this,{tableName:t})},o.prototype.column=function(t,e){return new o(this,{columns:this._columns.concat({columnName:t,columnType:e,isPrimary:!1})})},o.prototype.primaryKeyColumn=function(t,e){return new o(this,{columns:this._columns.concat({columnName:t,columnType:e,isPrimary:!0})})},o.prototype.createIfNotExists=function(){var t="";return t+="CREATE TABLE IF NOT EXISTS "+i(this._tableName),t+=this._buildSql()},o.prototype._buildSql=function(){var t="";return this._columns.length>0&&(t+=" (",t+=this._columns.map(function(t){return[i(t.columnName),t.columnType,"text"===t.columnType?" COLLATE NOCASE ":"",t.isPrimary?"PRIMARY KEY ":""].join(" ").slice(0,-1)},this).join(", "),t+=")"),t},t.exports=o},function(t,e,n){n.r(e),n.d(e,"SqlSelectBuilder",function(){return o}),n.d(e,"constraintBuilder",function(){return c});const r=n(53);class o{constructor(t,e){this._select=e&&e.select||t&&t._select||null,this._from=e&&e.from||t&&t._from||null,this._join=e&&e.join||t&&t._join||null,this._constraints=e&&e.constraints||t&&t._constraints||[],this._orderBy=e&&e.orderBy||t&&t._orderBy||[],this._limit=e&&e.limit||t&&t._limit||null,this._offset=e&&e.offset||t&&t._offset||null}from(t){return new o(this,{from:t})}join(t,e,n){return new o(this,{join:{tableName:t,joinOnColumn:e,selectedColumns:n}})}where(t){return new o(this,{constraints:this._constraints.concat(t)})}order(t,e){return new o(this,{orderBy:this._orderBy.concat([[t,e]])})}limit(t){return new o(this,{limit:t})}offset(t){return new o(this,{offset:t})}selectDistinct(t){return Array.isArray(t)&&(t=t.join(", ")),`SELECT DISTINCT ${t} ${this._buildSql()}`}selectCount(t){return`SELECT COUNT(*) AS ${t}`+this._buildSql()}select(){let t=`SELECT ${this._from}.*`;return this._join&&this._join.selectedColumns.forEach(e=>{t+=`, ${this._join.tableName}.[${e}] as "${this._join.tableName}.${e}"`}),t+this._buildSql()}_buildSql(){let t=` FROM ${this._from} AS ${this._from}`;return this._join&&(t+=` JOIN ${this._join.tableName} AS ${this._join.tableName} USING (${this._join.joinOnColumn})`),this._constraints.length>0&&(t+=" WHERE "+this._constraints.map(t=>t.build(this._from)).join(" AND ")),this._orderBy.length>0&&(t+=" ORDER BY "+this._orderBy.map(t=>`${this._from}.[${t[0]}] ${t[1]}`).join(", ")),this._limit&&(t+=" LIMIT "+this._limit),this._offset&&(t+=" OFFSET "+this._offset),t}}const i={equals:u("="),lessThan:u("<"),lessThanOrEquals:u("<="),greaterThan:u(">"),greaterThanOrEquals:u(">="),contains:function(t){let e="";return e+=t,e+=" LIKE '%' || ? || '%'",e+=" ESCAPE '"+r.LIKE_ESCAPE_CHAR+"'"}};class s{constructor(t,e,n){this._column=t,this._operator=e,this._negate=!!n}build(t){const e=i[this._operator],n=this._column.indexOf(".")>-1?this._column:`${t}.[${this._column}]`;return(this._negate?"NOT ":"")+e(n)}}class a{constructor(t,e){this.group=t,this.constraints=e||[]}add(t){this.constraints.push(t)}build(t){return"("+this.constraints.map(e=>e.build(t)).join(` ${this.group} `)+")"}}const c={and:t=>new a("and",t),or:t=>new a("or",t),equals:(t,e)=>new s(t,"equals",e),isNull:(t,e)=>new class{constructor(t,e){this._column=t,this._negate=!!e}build(t){return(this._column.indexOf(".")>-1?this._column:`${t}.[${this._column}]`)+" IS "+(this._negate?"NOT ":"")+"NULL"}}(t,e),lessThan:(t,e)=>new s(t,"lessThan",e),lessThanOrEquals:(t,e)=>new s(t,"lessThanOrEquals",e),greaterThan:(t,e)=>new s(t,"greaterThan",e),greaterThanOrEquals:(t,e)=>new s(t,"greaterThanOrEquals",e),contains:(t,e)=>new s(t,"contains",e)};function u(t){return function(e){return e+" "+t+" ?"}}},function(t,e,n){const r=n(53),{SqlSelectBuilder:o,constraintBuilder:i}=n(139),s=n(138),a=n(137),c=n(65),u=n(52),l=n(5),f="_guidToTable",h={String:"text",Integer:"text",Long:"text",Decimal:"text",Float:"text",Currency:"text",Enum:"text",HashString:"text",ObjectReference:"text",DateTime:"integer",Boolean:"integer",AutoNumber:"integer",Binary:"blob"},p={String:O,Integer:_,Long:_,Decimal:_,Float:_,Currency:_,Enum:O,HashString:O,ObjectReference:O,DateTime:function(t){return null!=t?Number(t):null},Boolean:Number,AutoNumber:O,Binary:O},d={String:O,Integer:O,Long:O,Decimal:O,Float:O,Currency:O,Enum:O,HashString:O,ObjectReference:O,DateTime:j,Boolean:Boolean,AutoNumber:O,Binary:O},b={String:j,Integer:j,Long:j,Decimal:j,Float:j,Currency:j,Enum:j,HashString:j,ObjectReference:j,DateTime:function(t){return t?Number(t):null},Boolean:function(t){return"false"!==t},AutoNumber:j,Binary:j};var y={createCreateTransaction:g,createCleanTransaction:function(t){var e=[f].concat(t).map(E).map(t=>`DELETE FROM '${t}'`).map(t=>A(t,[]));return c.parallel(e).map(t=>void 0)},createFetchByGuidTransaction:function(t){return A((new o).from(f).where(i.equals("guid")).select(),[t]).chain(function(e){if(0===e.rows.length)return c.of(null);if(1!==e.rows.length)return c.rejected(new Error("db consistency error"));const n=e.rows.item(0),r=n.tableName,s=Boolean(n.dirty),a=n.readonlyAttrs;return A((new o).from(E(r)).where(i.equals("guid")).select(),[t]).chain(function(t){return 0===t.rows.length?c.rejected(new Error("entity not found")):1!==t.rows.length?c.rejected(new Error("db consistency error")):c.of(T(window.mx.meta.getEntity(r),s,a,t.rows.item(0)))})})},createFetchSliceTransaction:function(t,e,n,s,a){e=e||[],a=a||[];const u=window.mx.meta.getEntity(t),l=function(t,e){const n=[];return{builder:(new o).where(e.map(function e(o){if(o.constraints)return i[o.operator](o.constraints.map(e).filter(t=>null!==t));if(null==o.value)switch(o.operator){case"contains":return null;case"equals":return i.isNull(E(o.attribute),o.negate)}const s=t.getAttributeType(o.attribute);const a=b[s];const c=p[s];const u=c(a(o.value));n.push("contains"===o.operator?function(t){var e=r.LIKE_ESCAPE_CHAR;return t.replace(new RegExp(e,"g"),e+e).replace(/%/g,e+"%").replace(/_/g,e+"_")}(u):u);return i[o.operator](E(o.attribute),o.negate)}).filter(t=>null!==t)),args:n}}(u,e),h=l.builder.from(E(t)),d=l.args;let y=h.offset(n).limit(s).join(f,"guid",["dirty","readonlyAttrs"]);var g=A((y=a.reduce(function(t,e){return t.order(e[0],e[1])},y)).select(),d).map(function(t){const e=[];for(let n=0;n<t.rows.length;++n){const r=t.rows.item(n),o=Boolean(r[`${f}.dirty`]),i=P(r,"readonlyAttrs");e.push(T(u,o,i,r))}return e}),m=A(h.selectCount("cnt"),d).map(function(t){return t.rows.item(0).cnt});return c.parallel([g,m])},createInsertOrReplaceTransaction:function(t){return c.parallel(t.map(t=>{const e=t.$objectType,n=v(),r=w(e,t);return[A(n.insertOrReplace(),[t.guid,e,1,JSON.stringify(t.$readonlyAttrs)]),A(r.builder.insertOrReplace(),r.values)]}).reduce((t,e)=>t.concat(e),[])).map(t=>void 0)},createFetchDirtyObjectsTransaction:function(){return m().chain(function(t){const e=x(t.rows).map(({tableName:t})=>{const e=(new o).from(E(t)).join(f,"guid",["dirty","readonlyAttrs"]).where(i.equals(`${f}.dirty`)).select(),n=window.mx.meta.getEntity(t);return A(e,[1]).map(t=>x(t.rows).map(t=>T(n,!0,P(t,"readonlyAttrs"),t)))});return c.parallel(e)}).map(t=>t.reduce((t,e)=>t.concat(e),[]))},createMakeCleanTransaction:function(t){var e=t.map(t=>A(`UPDATE ${f} set dirty = 0 where guid = ?`,[t.guid]));return c.parallel(e).map(t=>void 0)},createDirtyCleanupTransaction:function(){return m().chain(function(t){var e=x(t.rows).map(function(t){var e=t.tableName;return A(`DELETE FROM ${E(e)} WHERE guid IN (\n                            SELECT guid FROM ${f} WHERE tableName = ? AND dirty = 1)`,[e])});return c.sequence([c.parallel(e),A(`DELETE FROM ${f} WHERE dirty = 1`)]).map(t=>void 0)})},createRebuildTransaction:function(t,e){const n=function(t){var e=[f].concat(t).map(E).map(function(t){return"DROP TABLE IF EXISTS '"+t+"'"}).map(function(t){return A(t,[])});return c.sequence([c.parallel(e),g(t)])}(t),r=t.map(t=>{const n=e.filter(e=>e.$objectType===t);return function(t,e){var n=e.reduce(function(e,n){var r=v(),o=w(t,n);return e.concat([A(r.insert(),[n.guid,t,0,JSON.stringify(n.$readonlyAttrs)]),A(o.builder.insert(),o.values)])},[]);return c.parallel(n).map(t=>void 0)}(t,n)});return c.sequence([n,c.parallel(r)]).map(t=>void 0)}};function g(t){var e=[A((new s).table(f).primaryKeyColumn("guid","text").column("tableName","text").column("dirty","boolean").column("readonlyAttrs","text").createIfNotExists(),[])].concat(t.map(function(t){return A(function(t){var e=window.mx.meta.getEntity(t);return e.getAttributes().map(function(t){var n=e.getAttributeType(t);return{attr:t,type:h[n]}})}(t).reduce(function(t,e){return t.column(E(e.attr),e.type)},(new s).table(E(t)).primaryKeyColumn("guid","text")).createIfNotExists(),[])}));return c.parallel(e).map(t=>void 0)}function m(){return A((new o).from(f).where(i.equals("dirty")).selectDistinct("tableName"),[1])}function v(){return(new a).into(f).column("guid").column("tableName").column("dirty").column("readonlyAttrs")}function w(t,e){var n=window.mx.meta.getEntity(t),r=n.getAttributes().reduce(function(t,r){var o=n.getAttributeType(r),i=p[o];if(!i)return t;var s=i(e[r]);return{attrs:t.attrs.concat([r]),values:t.values.concat([s])}},{attrs:["guid"],values:[e.guid]});return{builder:r.attrs.reduce(function(t,e){return t.column(E(e))},(new a).into(E(t))),values:r.values}}function _(t){if(null==t)return null;var e=new l(t),n=20-Math.max(0,e.e)-1;return(e.s<0?"-":"")+new Array(n+1).join("0")+e.abs().toFixed()}function O(t){return null!=t?String(t):null}function j(t){return t}function x(t){for(var e=[],n=0;n<t.length;++n)e.push(t.item(n));return e}function E(t){return t.replace(".","$")}function S(t){return t.replace("$",".")}function T(t,e,n,r){const o={guid:r.guid,$objectType:t.getEntity(),$dirty:e,$readonlyAttrs:JSON.parse(n)};for(const e in r){if(i(e))continue;const n=S(e),s=t.getAttributeType(n),a=d[s];a&&(o[n]=a(r[e]))}return o;function i(t){return"guid"===t||t.indexOf(".")>-1}}function P(t,e){return t[`${f}.${e}`]}function A(t,e){return e=e||[],new c(function(n){return new u(function(r,o){n.executeSql(t,e,(t,e)=>o(e),(t,e)=>r(e))})})}t.exports=y},function(t,e){function n(t){for(var e in this.__values={},t)this.__values[e+""]=!0}n.of=n.prototype.of=function(t){return n.fromArray([t])},n.fromArray=function(t){for(var e={},r=0;r<t.length;++r)e[t[r]]=!0;return new n(e)},n.empty=n.prototype.empty=function(){return n.fromArray([])},n.prototype.contains=function(t){return this.__values[t]||!1},n.prototype.union=n.prototype.concat=function(t){var e={};for(var r in this.__values)e[r]=!0;for(var o in t.__values)e[o]=!0;return new n(e)},n.prototype.intersection=function(t){var e={};for(var r in this.__values)t.contains(r)&&(e[r]=!0);return new n(e)},n.prototype.difference=function(t){var e={};for(var r in this.__values)t.contains(r)||(e[r]=!0);return new n(e)},n.prototype.length=function(){return this.values().length},n.prototype.reduce=function(t,e){return this.values().reduce(t,e)},n.prototype.chain=function(t){return this.reduce(function(e,n){return e.concat(t(n))},this.empty())},n.prototype.map=function(t){return this.chain(function(e){return this.of(t(e))}.bind(this))},n.prototype.values=function(){return Object.keys(this.__values)},n.prototype.toString=function(){return"StringSet("+this.values()+")"},t.exports=n},function(t,e){e.reachability=function(t,e){var n=new Array(t.length);return function e(r){for(var o=0;o<r.length;++o){var i=r[o];if(i<0||i>=n.length)throw new Error("graph: index "+i+" out of bounds in graph of size "+t.length);n[i]||(n[i]=!0,e(t[i]))}}(e),function(){for(var t=[],e=0;e<n.length;++e)n[e]&&t.push(e);return t}()}},function(t,e,n){var r=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function i(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],i(n),i(r))}function s(t){try{return decodeURIComponent(t)}catch(o){for(var e=t.match(r),n=1;n<e.length;n++)e=(t=i(e,n).join("")).match(r);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"","%FF%FE":""},n=o.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch(t){var r=s(n[0]);r!==n[0]&&(e[n[0]]=r)}n=o.exec(t)}e["%C2"]="";for(var i=Object.keys(e),a=0;a<i.length;a++){var c=i[a];t=t.replace(new RegExp(c,"g"),e[c])}return t}(t)}}},function(t,e,n){
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))o.call(n,u)&&(a[u]=n[u]);if(r){s=r(n);for(var l=0;l<s.length;l++)i.call(n,s[l])&&(a[s[l]]=n[s[l]])}}return a}},function(t,e,n){t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},function(t,e,n){n.r(e),n.d(e,"getAllStateForMicroflow",function(){return l}),n.d(e,"getRequestDataForMicroflow",function(){return f}),n.d(e,"getRequestDataForObjectAction",function(){return h}),n.d(e,"getRequestData",function(){return p}),n.d(e,"handleServerSuccess",function(){return d}),n.d(e,"handleServerError",function(){return b}),n.d(e,"handleState",function(){return y}),n.d(e,"handleUncachedObjects",function(){return g}),n.d(e,"executeAsync",function(){return _});var r=n(15),o=n(49),i=n(39),s=n(21),a=n(50),c=n(12),u=n(7);function l(t){const e=t.getAllObjects().map(t=>t.getGuid());return[window.mx.session.getUserId(),window.mx.session.getSessionObjectId()].filter(t=>!e.includes(t)).forEach(t=>e.push(t)),p(t,e)}function f(t,e,n){const r=window.mx.session.getMicroflowInfo(e),o=n.concat([window.mx.session.getUserId(),window.mx.session.getSessionObjectId()]),i=t.getAllObjects(),s=void 0!==r?Object(a.findReachableGuidsForRequest)(i,o,r.followedAssociations):i.map(t=>t.getGuid());return o.filter(t=>!s.includes(t)).forEach(t=>s.push(t)),p(t,s)}function h(t,e,n){let r=[];const o=t.getAllObjects(),[i,s]=Object(c.partition)(e=>{const r=t.getObject(e);return r&&r.metaData&&r.metaData.needsReachableState(n)},e);if(0!==i.length){const t=[window.mx.session.getUserId(),window.mx.session.getSessionObjectId()];r=r.concat(Object(a.findReachableGuidsForRequest)(o,i.concat(t)))}const[u,l]=Object(c.partition)(e=>t.isNew(e),s),f=o.filter(e=>t.isNew(e.getGuid()));return r=(r=r.concat(Object(a.findReachableGuidsForRequest)(f,u))).concat(l),p(t,r)}function p(t,e){const n={};e.filter(e=>t.hasChanges(e)).forEach(e=>{n[e]=t.getChanges(e)});const r=e.filter(e=>t.has(e)).map(t.getObject,t).filter(e=>!e.isPersistable()||t.isNew(e.getGuid())).map(t=>t.jsonData);return[n,r]}async function d(t,e,n){y(t,e),await m(e,n,!1),v(e)}async function b(t,e,n){if(t instanceof s.a){const r=t.original;await m(r,e,!0),v(r,n)}else t instanceof o.DescribedServerError&&await m(t.original,e,!1)}function y(t,e){const{objects:n=[],changes:r={},newpersistable:o=[],commits:i=[],deletes:s=[],resets:a={}}=e;t.removeChanges(a),t.addChanges(r);const c=n.filter(e=>(function(e){return!t.has(e.guid)})(e)).filter(t=>!function(t){return window.mx.meta.getEntity(t.objectType).isPersistable()}(t)?!i.includes(t.guid):o.includes(t.guid)).map(t=>t.guid);return t.onCreate(c),t.onDelete(s),t.onCommit(i),t.setMxObjects(n),e}function g(t,e,n){const{commits:r=[],rollbacks:o=[],deletes:i=[]}=n;e.forEach(e=>{const n=e.getGuid();if(r.includes(n)||o.indexOf(n)>=0){const r=t.getObject(n);if(!r)throw new Error("inconsistent response: committed or rolled back object is missing from response and cache");e.resetFromJSON(r.jsonData)}else i.includes(n)&&e.markDeleted()})}function m(t,e,n){return new Promise(r=>{window.mx.remote.execute(t,e,n,r)})}function v(t,e){const n=i.a.fromResponse(t);window.mx.data.sendValidationUpdates(n),n.length>0&&e&&e(n)}let w=(new Date).getTime();async function _(t){const e=w++;await t(e);let n=500;for(;;){const t=await r.pollBackgroundJob(e);if(t.response.finished)return t;await Object(u.c)(n),n=Math.min(n+500,8e3)}}},function(t,e,n){const{executors:r}=n(87),{handleServerError:o,handleUncachedObjects:i}=n(146),{MxObject:s}=n(9),{NanoflowEngine:a}=n(86),c=n(5);function u(t,e,n){this._backend=t,this._objectCache=e,this._shouldRemoveObjectImmediately=n,this._nanoflowEngine=new a(r)}function l(t){return t.getGuid()}function f(t,e){return t.isObjectReference(e)?t.getReference(e):t.isObjectReferenceSet(e)?t.getReferences(e):t.get(e)}u.prototype.getByGuid=function(t,e){e=e||{};var n=t.map(this._objectCache.getObject,this._objectCache).filter(function(t){return null!=t});if(t.every(function(t){return this._objectCache.has(t)},this)){var r=n;e.sort&&e.sort.forEach(function(t){var e=t[0],n=t[1];r=r.sort(function(t,r){return(t=t.get(e))<(r=r.get(e))?"asc"===n?-1:1:t>r?"asc"===n?1:-1:0})});var o=e.offset;if(o){var i=e.amount;r=i?r.slice(o,o+i):r.slice(o)}return Promise.resolve({mxobjs:r,count:n.length})}var a=null==e.attributes;return this._backend.getByGuid(t,e).then(function(t){var e,n=t.mxobjects||[],r=n.map(t=>t.guid);a?(this._objectCache.setMxObjects(n),e=r.map(this._objectCache.getObject,this._objectCache)):(r.forEach(this._removeObjectKeepChanges,this),e=n.map(s.fromJson));return{mxobjs:e,count:e.length}}.bind(this))},u.prototype.getByXPath=function(t,e,n){return this._backend.getByXPath(t,e,n).then(function(t){var e=t.mxobjects||[],n=t.count||0,r=t.aggregates||[];e.map(t=>t.guid).forEach(this._removeObjectKeepChanges,this);var o=e.map(s.fromJson),i=r.map(function(t){return null==t?"":new c(t)});return{mxobjs:o,count:n,aggregates:i}}.bind(this))},u.prototype.getByPath=function(t,e,n,r){return this._backend.getByPath(t,e,n,r).then(function(t){var e=t.mxobjects||[];this._objectCache.setMxObjects(e);var n=e.map(function(t){return this._objectCache.getObject(t.guid)},this);return{mxobjs:n,count:n.length}}.bind(this))},u.prototype.getSlice=function(t,e,n,r){return this._backend.getSlice(t,e,n).then(({mxobjects:t=[],count:e=0})=>{let n=null;return r?(this._objectCache.setMxObjects(t),n=t.map(t=>this._objectCache.getObject(t.guid))):n=t.map(s.fromJson),[n,e]})},u.prototype.fetch=function(t,e,n,r,o,i){var s;s=(r=r||{}).schema?e.splice(-2,e.length):[],this._performFetch(t,e,s,n,r,o,i)},u.prototype.action=async function(t,e,n,r,o){const{actionResult:i}=await this._backend.action(t,e,n,r,o);let s;return i instanceof Array?(this._objectCache.setMxObjects(i),s=i.map(t=>this._objectCache.getObject(t.guid))):i&&"object"==typeof i&&i.guid?(this._objectCache.setMxObjects([i]),s=[this._objectCache.getObject(i.guid)]):s=i,s},u.prototype.runNanoflow=async function(t,e,n){try{const r=await this._nanoflowEngine.execute(t,e,n),i=Array.isArray(r)?r:"object"==typeof r&&r instanceof s?[r]:void 0;return i?(this._objectCache.setMxObjects(i.map(t=>t.jsonData)),i.map(t=>this._objectCache.getObject(t.getGuid()))):r}catch(t){throw o(t,n),t}},u.prototype.create=async function(t){const{actionResult:e}=await this._backend.create(t);return this._objectCache.getObject(e)},u.prototype.validate=async function(t){await this._backend.validate(t)},u.prototype.commit=async function(t,e,n,r){const o=t.map(l),s=await this._backend.commit(o,e);i(this._objectCache,t,s)},u.prototype.rollback=async function(t){const e=t.map(l),n=await this._backend.rollback(e);i(this._objectCache,t,n)},u.prototype.remove=function(t){return this._backend.remove(t)},u.prototype.saveDocument=async function(t,e,n,r){await this._backend.saveDocument(t,e,n,r),await this.getByGuid([t],{})},u.prototype.generateExport=function(t){return this._backend.generateExport(t)},u.prototype.generateReport=async function(t,e,n,r){const{report:o}=await this._backend.generateReport(t,e,n,r);return o},u.prototype.generateExcelReport=async function(t,e){const{mxobject:n}=await this._backend.generateExcelReport(t,e);return s.fromJson(n)},u.prototype._removeObjectKeepChanges=function(t){this._shouldRemoveObjectImmediately(t)&&this._objectCache.removeObjectKeepChanges(t)},u.prototype._performFetch=function(t,e,n,r,o,i,s){var a,c,u,l;if(e.length+n.length===0)i(null==t?null:r?f(t,r):t);else if(0===e.length&&n.length>0)a=n[0],c=n[1],t.isObjectReferenceSet(a)?this._fetchReferenceSet(t,a,c,i,s):this._fetchReference(t,e,n.slice(2),r,o,a,c,o.schema,i,s);else if(a=e[0],c=e[1],t.isObjectReferenceSet(a))e.length>2||n.length>2?s&&s(new Error("reference set should be at end of path")):this._fetchReferenceSet(t,a,c,i,s);else if(t.isObjectReference(a))if(u=t.getChild(a))u.isA(c)?this._performFetch(u,e.slice(2),n,r,o,i,s):i&&i(null);else if(l=t.getReference(a))if(this._objectCache.has(l)){var h=this._objectCache.getObject(l);h.isA(c)?this._performFetch(h,e.slice(2),n,r,o,i,s):i&&i(null)}else o.usexpath&&e.length>2?this._fetchXPath(t,e.slice(2),n,r,o,l,c,i,s):this._fetchReference(t,e.slice(2),n,r,o,a,c,null,i,s);else i(null);else s&&s(new Error("attribute "+a+" is not a reference type"))},u.prototype._fetchReference=function(t,e,n,r,o,i,s,a,c,u){var l=this,f=t.getReference(i);f?this.getByGuid([f],{id:a}).then(({mxobjs:t,count:i})=>{var h,p=1===(h=a?t.filter(function(t){return t.getGuid()===f}):t).length?h[0]:null;p&&p.isA(s)?l._performFetch(p,e,n,r,o,c,u):c(null)},u):c(null)},u.prototype._fetchReferenceSet=function(t,e,n,r,o){0===t.getReferences(e).length?r([]):t.hasChildren(e)?r(t.getChildren(e).filter(function(t){return t.isA(n)})):this.getByGuid(t.getReferences(e)).then(({mxobjs:t,count:e})=>{var o=t.reduce(function(t,e){return e.isA(n)?t.matching.push(e):t.releasing.push(e),t},{matching:[],releasing:[]});r(o.matching)},o)},u.prototype._fetchXPath=function(t,e,n,r,o,i,s,a,c){var u=this,l=["//"+s+"[id="+i+"]"].concat(e).join("/");this.getByXPath(l).then(({mxobjs:t})=>{0===t.length?a(null):r&&1===t.length?a(f(t[0],r)):r?c&&c(new Error(r+" is not a reference type")):!function(t,e){var n,r,o=[t].concat(e);if(e.length<2)return!1;return n=window.mx.meta.getEntity(o.slice(-3)[0]),r=e.slice(-2)[0],n.isObjectReferenceSet(r)}(s,e)?u._performFetch(t[0],[],n,r,o,a,c):a(t)},c)},t.exports=u},function(t,e,n){n.r(e),n.d(e,"MxObjectSnapshot",function(){return i});var r=n(0),o=n(9);class i extends o.MxObject{constructor(t){super({meta:t.metaData,json:{guid:t.getGuid(),objectType:t.getEntity()}}),this._mxObject=t}resetFromJSON(t){super.resetFromJSON(t),this._mxObject.resetFromJSON(t)}markDeleted(){super.markDeleted(),this._mxObject.markDeleted()}hasChanges(){return!1}snapshot(){return this}isReadonlyAttr(t){return!0}_fetchReference(t,e,n,r){super._fetchReference(t,e,t=>{t instanceof o.MxObject?n(t.snapshot()):Array.isArray(t)?n(t.map(t=>t.snapshot())):n(t)},r)}has(t){return this._mxObject.has(t)}toJSON(){return this._mxObject.toJSON()}_attributeChanged(t){return!1}_getAttributeValue(t){return this._mxObject._getAttributeValue(t)}_makeChange(t,e){throw new r.AssertionError(`Cannot modify attribute ${t} of a read-only object.`)}convertToEditable(){return window.mx.data.removeChanges(this.getGuid()),this._mxObject}}},function(t,e){t.exports=function(t){var e=t.json;if(!(e&&e.attributes&&e.objectType&&e.properties))throw new Error("MxMetaObject: invalid initialization");this.has=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.has: parameter attr is not of type String.");return Object.prototype.hasOwnProperty.call(e.attributes,t)},this.isEnum=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.isEnum : parameter attr is not of type String.");return/^(Enum|EnumSet)$/.test(this.getAttributeType(t))},this.isNumeric=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.isNumeric : parameter attr is not of type String.");return/^(Integer|Long|Decimal|Float|Currency)$/.test(this.getAttributeType(t))},this.isPassword=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.isDate : parameter attr is not of type String.");return"HashString"===this.getAttributeType(t)},this.isCurrency=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.isCurrency : parameter attr is not of type String.");return"Currency"===this.getAttributeType(t)},this.isDate=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.isDate : parameter attr is not of type String.");return/^(Date|DateTime)$/.test(this.getAttributeType(t))},this.isLocalizedDate=function(t){return this.isDate(t)?/true/.test(e.attributes[t].localize):null},this.isBoolean=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.isBoolean : parameter attr is not of type String.");return"Boolean"===this.getAttributeType(t)},this.isReference=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.isReference : parameter attr is not of type String.");return/^(ObjectReference|ObjectReferenceSet)$/.test(this.getAttributeType(t))},this.isObjectReference=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.isObjectReference : parameter attr is not of type String.");return"ObjectReference"===this.getAttributeType(t)},this.isObjectReferenceSet=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.isObjectReferenceSet : parameter attr is not of type String.");return"ObjectReferenceSet"===this.getAttributeType(t)},this.isBidirectionalReference=function(t){return this.isReference(t)&&Boolean(e.attributes[t].both)},this.getOptions=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.getOptions : parameter attr is not of type String.");if(!this.isEnum(t))throw new Error("mendix/lib/MxMetaObject.getOptions : attribute '"+t+"' is not an Enumeration.");try{var n=[];if(this.has(t)){var r=e.attributes[t].options;if(r&&r.length){n=[];for(var o=0;o<r.length;o++)for(var i in r[o])n.push(r[o][i])}}return n}catch(t){return[]}},this.getEnumMap=function(t){if(!this.isEnum(t))return null;for(var n=[],r=e.attributes[t].options,o=0;o<r.length;o++)for(var i in r[o]){n.push({key:i,caption:r[o][i]});break}return n},this.getEnumKVPairs=function(t){if(!this.isEnum(t))return null;for(var n={},r=e.attributes[t].options,o=0;o<r.length;o++)for(var i in r[o])n[i]=r[o][i];return n},this.getEnumCaption=function(t,n){if(!this.isEnum(t))return null;for(var r=e.attributes[t].options,o=0;o<r.length;o++){var i=r[o];for(var s in i)if(s===n)return i[s]}return n},this.getReferenceAttributes=function(){var t=[];for(var n in e.attributes)this.isReference(n)&&t.push(n);return t},this.getAttributes=function(){var t=[];for(var n in e.attributes)t.push(n);return t},this.getAttributesWithoutReferences=function(){var t=[];for(var n in e.attributes)this.isReference(n)||t.push(n);return t},this.getAttributeType=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.getAttributeType : parameter attr is not of type String.");return!!this.has(t)&&e.attributes[t].type},this.getSelectorEntity=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.getSelectorEntity : parameter attr is not of type String.");return!!this.has(t)&&e.attributes[t].klass},this.getEntity=function(){return e.objectType},this.isPersistable=function(){return e.persistable},this.needsReachableState=function(t){return!(t in e.needsReachableState)||e.needsReachableState[t]},this.isA=function(t){return this.getEntity()===t||this.inheritsFrom(t)},this.hasSuperEntities=function(){return 0!==e.properties.superclasses.length},this.getSuperEntities=function(){var t=e.properties.superclasses;return"string"==typeof t?[t]:t},this.hasSubEntities=function(){return 0!==e.properties.subclasses.length},this.getSubEntities=function(){var t=e.properties.subclasses;return"string"==typeof t?[t]:t},this.inheritsFrom=function(t){return(this.getSuperEntities()||[]).includes(t)},this.isSyncable=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.isObjectReferenceSet : parameter attr is not of type String.");return!!this.has(t)&&(void 0===e.attributes[t].sync||e.attributes[t].sync)}}},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(32),i=n(16),s=n(17),a=n(42),c=n(41),u=n(40);e.zip=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),o.fromArray(t,void 0).lift(new l(n))};var l=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.resultSelector))},t}();e.ZipOperator=l;var f=function(t){function e(e,n,r){void 0===r&&(r=Object.create(null));var o=t.call(this,e)||this;return o.iterators=[],o.active=0,o.resultSelector="function"==typeof n?n:null,o.values=r,o}return r(e,t),e.prototype._next=function(t){var e=this.iterators;i.isArray(t)?e.push(new p(t)):"function"==typeof t[u.iterator]?e.push(new h(t[u.iterator]())):e.push(new d(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];r.stillUnsubscribed?this.add(r.subscribe(r,n)):this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){if("function"==typeof(s=t[r]).hasValue&&!s.hasValue())return}var o=!1,i=[];for(r=0;r<e;r++){var s,a=(s=t[r]).next();if(s.hasCompleted()&&(o=!0),a.done)return void n.complete();i.push(a.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),o&&n.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(s.Subscriber);e.ZipSubscriber=f;var h=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),p=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[u.iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),d=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.parent=n,o.observable=r,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return r(e,t),e.prototype[u.iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,o){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return c.subscribeToResult(this,this.observable,this,e)},e}(a.OuterSubscriber)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=n(30),i=n(23);e.using=function(t,e){return new r.Observable(function(n){var r,s;try{r=t()}catch(t){return void n.error(t)}try{s=e(r)}catch(t){return void n.error(t)}var a=(s?o.from(s):i.EMPTY).subscribe(n);return function(){a.unsubscribe(),r&&r.unsubscribe()}})}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=n(67),i=n(92),s=n(25);function a(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}e.timer=function(t,e,n){void 0===t&&(t=0);var c=-1;return i.isNumeric(e)?c=Number(e)<1?1:Number(e):s.isScheduler(e)&&(n=e),s.isScheduler(n)||(n=o.async),new r.Observable(function(e){var r=i.isNumeric(t)?t:+t-n.now();return n.schedule(a,r,{index:0,period:c,subscriber:e})})}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(8);function o(t){var e=t.start,n=t.index,r=t.count,o=t.subscriber;n>=r?o.complete():(o.next(e),o.closed||(t.index=n+1,t.start=e+1,this.schedule(t)))}e.range=function(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=0),new r.Observable(function(r){var i=0,s=t;if(n)return n.schedule(o,0,{index:i,count:e,start:t,subscriber:r});for(;;){if(i++>=e){r.complete();break}if(r.next(s++),r.closed)break}})},e.dispatch=o},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(16),i=n(32),s=n(42),a=n(41);e.race=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!o.isArray(t[0]))return t[0];t=t[0]}return i.fromArray(t,void 0).lift(new c)};var c=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}();e.RaceOperator=c;var u=function(t){function e(e){var n=t.call(this,e)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return r(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=t[n],o=a.subscribeToResult(this,r,r,n);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(t,e,n,r,o){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++)if(i!==n){var s=this.subscriptions[i];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},e}(s.OuterSubscriber);e.RaceSubscriber=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=n(13);function i(t){var e=t.keys,n=t.index,r=t.subscriber,o=t.subscription,i=t.obj;if(!r.closed)if(n<e.length){var s=e[n];r.next([s,i[s]]),o.add(this.schedule({keys:e,index:n+1,subscriber:r,subscription:o,obj:i}))}else r.complete()}e.pairs=function(t,e){return e?new r.Observable(function(n){var r=Object.keys(t),s=new o.Subscription;return s.add(e.schedule(i,0,{keys:r,index:0,subscriber:n,subscription:s,obj:t})),s}):new r.Observable(function(e){for(var n=Object.keys(t),r=0;r<n.length&&!e.closed;r++){var o=n[r];t.hasOwnProperty(o)&&e.next([o,t[o]])}e.complete()})},e.dispatch=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=n(30),i=n(16),s=n(23);e.onErrorResumeNext=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(0===e.length)return s.EMPTY;var a=e[0],c=e.slice(1);return 1===e.length&&i.isArray(a)?t.apply(void 0,a):new r.Observable(function(e){var n=function(){return e.add(t.apply(void 0,c).subscribe(e))};return o.from(a).subscribe({next:function(t){e.next(t)},error:n,complete:n})})}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=n(25),i=n(94),s=n(32);e.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,a=null,c=t[t.length-1];return o.isScheduler(c)?(a=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof c&&(n=t.pop()),null===a&&1===t.length&&t[0]instanceof r.Observable?t[0]:i.mergeAll(n)(s.fromArray(t,a))}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=n(67),i=n(92);function s(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}e.interval=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=o.async),(!i.isNumeric(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=o.async),new r.Observable(function(n){return n.add(e.schedule(s,t,{subscriber:n,counter:0,period:t})),n})}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(93),o=n(23);e.iif=function(t,e,n){return void 0===e&&(e=o.EMPTY),void 0===n&&(n=o.EMPTY),r.defer(function(){return t()?e:n})}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=n(66),i=n(25);function s(t){var e=t.subscriber,n=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(n){var r=void 0;try{r=n(t.state)}catch(t){return void e.error(t)}if(!r)return void e.complete();if(e.closed)return}var o;try{o=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(o),!e.closed))return this.schedule(t)}}e.generate=function(t,e,n,a,c){var u,l;if(1==arguments.length){var f=t;l=f.initialState,e=f.condition,n=f.iterate,u=f.resultSelector||o.identity,c=f.scheduler}else void 0===a||i.isScheduler(a)?(l=t,u=o.identity,c=a):(l=t,u=a);return new r.Observable(function(t){var r=l;if(c)return c.schedule(s,0,{subscriber:t,iterate:n,condition:e,resultSelector:u,state:r});for(;;){if(e){var o=void 0;try{o=e(r)}catch(e){return void t.error(e)}if(!o){t.complete();break}}var i=void 0;try{i=u(r)}catch(e){return void t.error(e)}if(t.next(i),t.closed)break;try{r=n(r)}catch(e){return void t.error(e)}}})}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=n(16),i=n(56),s=n(31);e.fromEventPattern=function t(e,n,a){return a?t(e,n).pipe(s.map(function(t){return o.isArray(t)?a.apply(void 0,t):a(t)})):new r.Observable(function(t){var r,o=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.next(1===e.length?e[0]:e)};try{r=e(o)}catch(e){return void t.error(e)}if(i.isFunction(n))return function(){return n(o,r)}})}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=n(16),i=n(56),s=n(31);Object.prototype.toString;e.fromEvent=function t(e,n,a,c){return i.isFunction(a)&&(c=a,a=void 0),c?t(e,n,a).pipe(s.map(function(t){return o.isArray(t)?c.apply(void 0,t):c(t)})):new r.Observable(function(t){!function t(e,n,r,o,i){var s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var a=e;e.addEventListener(n,r,i),s=function(){return a.removeEventListener(n,r,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var c=e;e.on(n,r),s=function(){return c.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var u=e;e.addListener(n,r),s=function(){return u.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,f=e.length;l<f;l++)t(e[l],n,r,o,i)}o.add(s)}(e,n,function(e){arguments.length>1?t.next(Array.prototype.slice.call(arguments)):t.next(e)},t,a)})}},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(8),i=n(16),s=n(23),a=n(41),c=n(42),u=n(31);e.forkJoin=function t(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&i.isArray(n[0])&&(n=n[0]),0===n.length?s.EMPTY:e?t(n).pipe(u.map(function(t){return e.apply(void 0,t)})):new o.Observable(function(t){return new l(t,n)})};var l=function(t){function e(e,n){var r=t.call(this,e)||this;r.sources=n,r.completed=0,r.haveValues=0;var o=n.length;r.values=new Array(o);for(var i=0;i<o;i++){var s=n[i],c=a.subscribeToResult(r,s,null,i);c&&r.add(c)}return r}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.values[n]=e,o._hasValue||(o._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this.haveValues,r=this.values,o=r.length;t._hasValue?(this.completed++,this.completed===o&&(n===o&&e.next(r),e.complete())):e.complete()},e}(c.OuterSubscriber)},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(41),i=n(42),s=n(31),a=n(30);e.mergeMap=function t(e,n,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof n?function(o){return o.pipe(t(function(t,r){return a.from(e(t,r)).pipe(s.map(function(e,o){return n(t,e,r,o)}))},r))}:("number"==typeof n&&(r=n),function(t){return t.lift(new c(e,r))})};var c=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.concurrent))},t}();e.MergeMapOperator=c;var u=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=t.call(this,e)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return r(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(o.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(i.OuterSubscriber);e.MergeMapSubscriber=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(94);e.concatAll=function(){return r.mergeAll(1)}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=n(13),i=n(34),s=n(97);e.fromObservable=function(t,e){return e?new r.Observable(function(n){var r=new o.Subscription;return r.add(e.schedule(function(){var o=t[i.observable]();r.add(o.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r}):new r.Observable(s.subscribeToObservable(t))}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=n(13),i=n(40),s=n(98);e.fromIterable=function(t,e){if(!t)throw new Error("Iterable cannot be null");return e?new r.Observable(function(n){var r,s=new o.Subscription;return s.add(function(){r&&"function"==typeof r.return&&r.return()}),s.add(e.schedule(function(){r=t[i.iterator](),s.add(e.schedule(function(){if(!n.closed){var t,e;try{var o=r.next();t=o.value,e=o.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}}))})),s}):new r.Observable(s.subscribeToIterable(t))}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=n(13),i=n(99);e.fromPromise=function(t,e){return e?new r.Observable(function(n){var r=new o.Subscription;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r}):new r.Observable(i.subscribeToPromise(t))}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(40);e.isIterable=function(t){return t&&"function"==typeof t[r.iterator]}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(34);e.isInteropObservable=function(t){return t&&"function"==typeof t[r.observable]}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(25),o=n(69),i=n(30),s=n(165);e.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length||2===t.length&&r.isScheduler(t[1])?i.from(t[0]):s.concatAll()(o.of.apply(void 0,t))}},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n,r){var o=t.call(this)||this;return o.parent=e,o.outerValue=n,o.outerIndex=r,o.index=0,o}return r(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n(17).Subscriber);e.InnerSubscriber=o},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(25),i=n(16),s=n(42),a=n(41),c=n(32),u={};e.combineLatest=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return o.isScheduler(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&i.isArray(t[0])&&(t=t[0]),c.fromArray(t,r).lift(new l(n))};var l=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.resultSelector))},t}();e.CombineLatestOperator=l;var f=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r(e,t),e.prototype._next=function(t){this.values.push(u),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(a.subscribeToResult(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,o){var i=this.values,s=i[n],a=this.toRespond?s===u?--this.toRespond:this.toRespond:0;i[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(s.OuterSubscriber);e.CombineLatestSubscriber=f},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=n(68),i=n(31),s=n(25),a=n(16);function c(t){var e=this,n=t.params,r=t.subscriber,i=t.context,s=n.callbackFunc,a=n.args,c=n.scheduler,f=n.subject;if(!f){f=n.subject=new o.AsyncSubject;try{s.apply(i,a.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.shift();if(r)e.add(c.schedule(l,0,{err:r,subject:f}));else{var o=t.length<=1?t[0]:t;e.add(c.schedule(u,0,{value:o,subject:f}))}}]))}catch(t){this.add(c.schedule(l,0,{err:t,subject:f}))}}this.add(f.subscribe(r))}function u(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function l(t){var e=t.err;t.subject.error(e)}e.bindNodeCallback=function t(e,n,u){if(n){if(!s.isScheduler(n))return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return t(e,u).apply(void 0,r).pipe(i.map(function(t){return a.isArray(t)?n.apply(void 0,t):n(t)}))};u=n}return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i={subject:void 0,args:t,callbackFunc:e,scheduler:u,context:this};return new r.Observable(function(n){var r=i.context,s=i.subject;if(u)return u.schedule(c,0,{params:i,subscriber:n,context:r});if(!s){s=i.subject=new o.AsyncSubject;try{e.apply(r,t.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.shift();n?s.error(n):(s.next(t.length<=1?t[0]:t),s.complete())}]))}catch(t){s.error(t)}}return s.subscribe(n)})}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=n(68),i=n(31),s=n(16),a=n(25);function c(t){var e=this,n=t.args,r=t.subscriber,i=t.params,s=i.callbackFunc,a=i.context,c=i.scheduler,l=i.subject;if(!l){l=i.subject=new o.AsyncSubject;try{s.apply(a,n.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length<=1?t[0]:t;e.add(c.schedule(u,0,{value:r,subject:l}))}]))}catch(t){l.error(t)}}this.add(l.subscribe(r))}function u(t){var e=t.value,n=t.subject;n.next(e),n.complete()}e.bindCallback=function t(e,n,u){if(n){if(!a.isScheduler(n))return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return t(e,u).apply(void 0,r).pipe(i.map(function(t){return s.isArray(t)?n.apply(void 0,t):n(t)}))};u=n}return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i,s=this,a={context:s,subject:i,callbackFunc:e,scheduler:u};return new r.Observable(function(n){if(u){var r={args:t,subscriber:n,params:a};return u.schedule(c,0,r)}if(!i){i=new o.AsyncSubject;try{e.apply(s,t.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.next(t.length<=1?t[0]:t),i.complete()}]))}catch(t){i.error(t)}}return i.subscribe(n)})}}},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){var n=t.call(this,"Timeout has occurred")||this;return n.name="TimeoutError",Object.setPrototypeOf(n,e.prototype),n}return r(e,t),e}(Error);e.TimeoutError=o},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){var n=t.call(this,"no elements in sequence")||this;return n.name="EmptyError",Object.setPrototypeOf(n,e.prototype),n}return r(e,t),e}(Error);e.EmptyError=o},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){var n=t.call(this,"argument out of range")||this;return n.name="ArgumentOutOfRangeError",Object.setPrototypeOf(n,e.prototype),n}return r(e,t),e}(Error);e.ArgumentOutOfRangeError=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(8);e.isObservable=function(t){return!!t&&(t instanceof r.Observable||"function"==typeof t.lift&&"function"==typeof t.subscribe)}},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(44),i=function(t){function e(e,n){void 0===e&&(e=s),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=t.call(this,e,function(){return r.frame})||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return r(e,t),e.prototype.flush=function(){for(var t,e,n=this.actions,r=this.maxFrames;(e=n.shift())&&(this.frame=e.delay)<=r&&!(t=e.execute(e.state,e.delay)););if(t){for(;e=n.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(n(43).AsyncScheduler);e.VirtualTimeScheduler=i;var s=function(t){function e(e,n,r){void 0===r&&(r=e.index+=1);var o=t.call(this,e,n)||this;return o.scheduler=e,o.work=n,o.index=r,o.active=!0,o.index=e.index=r,o}return r(e,t),e.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return t.prototype.schedule.call(this,n,r);this.active=!1;var o=new e(this.scheduler,this.work);return this.add(o),o.schedule(n,r)},e.prototype.requestAsyncId=function(t,n,r){void 0===r&&(r=0),this.delay=t.frame+r;var o=t.actions;return o.push(this),o.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,n){void 0===n&&(n=0)},e.prototype._execute=function(e,n){if(!0===this.active)return t.prototype._execute.call(this,e,n)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(o.AsyncAction);e.VirtualAction=s},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,o=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<o&&(t=n.shift()));if(this.active=!1,e){for(;++r<o&&(t=n.shift());)t.unsubscribe();throw e}},e}(n(43).AsyncScheduler);e.AnimationFrameScheduler=o},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)},e}(n(44).AsyncAction);e.AnimationFrameAction=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(182),o=n(181);e.animationFrame=new o.AnimationFrameScheduler(r.AnimationFrameAction)},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,o=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<o&&(t=n.shift()));if(this.active=!1,e){for(;++r<o&&(t=n.shift());)t.unsubscribe();throw e}},e}(n(43).AsyncScheduler);e.AsapScheduler=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=1,o={};e.Immediate={setImmediate:function(t){var e=r++;return o[e]=t,Promise.resolve().then(function(){return function(t){var e=o[t];e&&e()}(e)}),e},clearImmediate:function(t){delete o[t]}}},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(185),i=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=o.Immediate.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(o.Immediate.clearImmediate(n),e.scheduled=void 0)},e}(n(44).AsyncAction);e.AsapAction=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(186),o=n(184);e.asap=new o.AsapScheduler(r.AsapAction)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(8);e.scalar=function(t){var e=new r.Observable(function(e){e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(17),i=n(103);e.observeOn=function(t,e){return void 0===e&&(e=0),function(n){return n.lift(new s(t,e))}};var s=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))},t}();e.ObserveOnOperator=s;var a=function(t){function e(e,n,r){void 0===r&&(r=0);var o=t.call(this,e)||this;return o.scheduler=n,o.delay=r,o}return r(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new c(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(i.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(i.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(i.Notification.createComplete())},e}(o.Subscriber);e.ObserveOnSubscriber=a;var c=function(){return function(t,e){this.notification=t,this.destination=e}}();e.ObserveOnMessage=c},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(n(43).AsyncScheduler);e.QueueScheduler=o},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n){return t.call(this)||this}return r(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n(13).Subscription);e.Action=o},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(n(44).AsyncAction);e.QueueAction=o},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(33),i=n(105),s=n(13),a=n(189),c=n(54),u=n(106),l=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var o=t.call(this)||this;return o.scheduler=r,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=e<1?1:e,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return r(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new f(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=r.length;if(this.closed)throw new c.ObjectUnsubscribedError;if(this.isStopped||this.hasError?e=s.Subscription.EMPTY:(this.observers.push(t),e=new u.SubjectSubscription(this,t)),o&&t.add(t=new a.ObserveOnSubscriber(t,o)),n)for(var l=0;l<i&&!t.closed;l++)t.next(r[l]);else for(l=0;l<i&&!t.closed;l++)t.next(r[l].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||i.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,o=r.length,i=0;i<o&&!(t-r[i].time<n);)i++;return o>e&&(i=Math.max(i,o-e)),i>0&&r.splice(0,i),r},e}(o.Subject);e.ReplaySubject=l;var f=function(){return function(t,e){this.time=t,this.value=e}}()},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(33),i=n(54),s=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return r(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(o.Subject);e.BehaviorSubject=s},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(17),i=n(13),s=n(8),a=n(33);e.groupBy=function(t,e,n,r){return function(o){return o.lift(new c(t,e,n,r))}};var c=function(){function t(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),u=function(t){function e(e,n,r,o,i){var s=t.call(this,e)||this;return s.keySelector=n,s.elementSelector=r,s.durationSelector=o,s.subjectSelector=i,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return r(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},e.prototype._group=function(t,e){var n=this.groups;n||(n=this.groups=new Map);var r,o=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(t){this.error(t)}else r=t;if(!o){o=this.subjectSelector?this.subjectSelector():new a.Subject,n.set(e,o);var i=new f(e,o,this);if(this.destination.next(i),this.durationSelector){var s=void 0;try{s=this.durationSelector(new f(e,o))}catch(t){return void this.error(t)}this.add(s.subscribe(new l(e,o,this)))}}o.closed||o.next(r)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,n){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(o.Subscriber),l=function(t){function e(e,n,r){var o=t.call(this,n)||this;return o.key=e,o.group=n,o.parent=r,o}return r(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(o.Subscriber),f=function(t){function e(e,n,r){var o=t.call(this)||this;return o.key=e,o.groupSubject=n,o.refCountSubscription=r,o}return r(e,t),e.prototype._subscribe=function(t){var e=new i.Subscription,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&e.add(new h(n)),e.add(r.subscribe(t)),e},e}(s.Observable);e.GroupedObservable=f;var h=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,e.count++,n}return r(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(i.Subscription)},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(17);e.refCount=function(){return function(t){return t.lift(new i(t))}};var i=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new s(t,n),o=e.subscribe(r);return r.closed||(r.connection=n.connect()),o},t}(),s=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(o.Subscriber)},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(33),i=n(8),s=n(17),a=n(13),c=n(196),u=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.Subscription).add(this.source.subscribe(new f(this.getSubject(),this))),t.closed?(this._connection=null,t=a.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return c.refCount()(this)},e}(i.Observable);e.ConnectableObservable=u;var l=u.prototype;e.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:l._subscribe},_isComplete:{value:l._isComplete,writable:!0},getSubject:{value:l.getSubject},connect:{value:l.connect},refCount:{value:l.refCount}};var f=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(o.SubjectSubscriber),h=(function(){function t(t){this.connectable=t}t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new h(t,n),o=e.subscribe(r);return r.closed||(r.connection=n.connect()),o}}(),function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(s.Subscriber))},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(109);function i(){try{return r.apply(this,arguments)}catch(t){return o.errorObject.e=t,o.errorObject}}e.tryCatch=function(t){return r=t,i}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(17),o=n(71),i=n(111);e.toSubscriber=function(t,e,n){if(t){if(t instanceof r.Subscriber)return t;if(t[o.rxSubscriber])return t[o.rxSubscriber]()}return t||e||n?new r.Subscriber(t,e,n):new r.Subscriber(i.empty)}},function(t,e,n){t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){var r=n(200);function o(){}t.exports=function(){function t(t,e,n,o,i,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=o,n.PropTypes=n,n}},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,u=[],l=!1,f=-1;function h(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&p())}function p(){if(!l){var t=a(h);l=!0;for(var e=u.length;e;){for(c=u,u=[];++f<e;)c&&c[f].run();f=-1,e=u.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function b(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||l||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=b,o.addListener=b,o.once=b,o.off=b,o.removeListener=b,o.removeAllListeners=b,o.emit=b,o.prependListener=b,o.prependOnceListener=b,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){var r=n(79),o=n(45)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(203),o={};o[n(45)("toStringTag")]="z",o+""!="[object z]"&&n(81)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){var r=n(46),o=n(113).f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return s.slice()}}(t):o(r(t))}},function(t,e,n){var r=n(24).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(38),o=n(48),i=n(74);t.exports=n(36)?Object.defineProperties:function(t,e){o(t);for(var n,s=i(e),a=s.length,c=0;a>c;)r.f(t,n=s[c++],e[n]);return t}},function(t,e,n){var r=n(48),o=n(207),i=n(73),s=n(115)("IE_PROTO"),a=function(){},c=function(){var t,e=n(121)("iframe"),r=i.length;for(e.style.display="none",n(206).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c.prototype[i[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=r(t),n=new a,a.prototype=null,n[s]=t):n=c(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(79);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(77),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},function(t,e,n){var r=n(46),o=n(118),i=n(210);t.exports=function(t){return function(e,n,s){var a,c=r(e),u=o(c.length),l=i(s,u);if(t&&n!=n){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(74),o=n(114),i=n(80);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var s,a=n(t),c=i.f,u=0;a.length>u;)c.call(t,s=a[u++])&&e.push(s);return e}},function(t,e,n){var r=n(24),o=n(27),i=n(75),s=n(117),a=n(38).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,n){var r=n(38).f,o=n(35),i=n(45)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(47)("meta"),o=n(37),i=n(35),s=n(38).f,a=0,c=Object.isExtensible||function(){return!0},u=!n(57)(function(){return c(Object.preventExtensions({}))}),l=function(t){s(t,r,{value:{i:"O"+ ++a,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!c(t))return"F";if(!e)return"E";l(t)}return t[r].i},getWeak:function(t,e){if(!i(t,r)){if(!c(t))return!0;if(!e)return!1;l(t)}return t[r].w},onFreeze:function(t){return u&&f.NEED&&c(t)&&!i(t,r)&&l(t),t}}},function(t,e,n){var r=n(24),o=n(35),i=n(36),s=n(85),a=n(81),c=n(215).KEY,u=n(57),l=n(76),f=n(214),h=n(47),p=n(45),d=n(117),b=n(213),y=n(212),g=n(209),m=n(48),v=n(37),w=n(46),_=n(83),O=n(82),j=n(208),x=n(205),E=n(119),S=n(38),T=n(74),P=E.f,A=S.f,C=x.f,D=r.Symbol,k=r.JSON,M=k&&k.stringify,I=p("_hidden"),R=p("toPrimitive"),N={}.propertyIsEnumerable,V=l("symbol-registry"),F=l("symbols"),$=l("op-symbols"),U=Object.prototype,B="function"==typeof D,L=r.QObject,G=!L||!L.prototype||!L.prototype.findChild,W=i&&u(function(){return 7!=j(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=P(U,e);r&&delete U[e],A(t,e,n),r&&t!==U&&A(U,e,r)}:A,q=function(t){var e=F[t]=j(D.prototype);return e._k=t,e},Y=B&&"symbol"==typeof D.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof D},H=function(t,e,n){return t===U&&H($,e,n),m(t),e=_(e,!0),m(n),o(F,e)?(n.enumerable?(o(t,I)&&t[I][e]&&(t[I][e]=!1),n=j(n,{enumerable:O(0,!1)})):(o(t,I)||A(t,I,O(1,{})),t[I][e]=!0),W(t,e,n)):A(t,e,n)},z=function(t,e){m(t);for(var n,r=y(e=w(e)),o=0,i=r.length;i>o;)H(t,n=r[o++],e[n]);return t},J=function(t){var e=N.call(this,t=_(t,!0));return!(this===U&&o(F,t)&&!o($,t))&&(!(e||!o(this,t)||!o(F,t)||o(this,I)&&this[I][t])||e)},K=function(t,e){if(t=w(t),e=_(e,!0),t!==U||!o(F,e)||o($,e)){var n=P(t,e);return!n||!o(F,e)||o(t,I)&&t[I][e]||(n.enumerable=!0),n}},X=function(t){for(var e,n=C(w(t)),r=[],i=0;n.length>i;)o(F,e=n[i++])||e==I||e==c||r.push(e);return r},Q=function(t){for(var e,n=t===U,r=C(n?$:w(t)),i=[],s=0;r.length>s;)!o(F,e=r[s++])||n&&!o(U,e)||i.push(F[e]);return i};B||(a((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===U&&e.call($,n),o(this,I)&&o(this[I],t)&&(this[I][t]=!1),W(this,t,O(1,n))};return i&&G&&W(U,t,{configurable:!0,set:e}),q(t)}).prototype,"toString",function(){return this._k}),E.f=K,S.f=H,n(113).f=x.f=X,n(80).f=J,n(114).f=Q,i&&!n(75)&&a(U,"propertyIsEnumerable",J,!0),d.f=function(t){return q(p(t))}),s(s.G+s.W+s.F*!B,{Symbol:D});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)p(Z[tt++]);for(var et=T(p.store),nt=0;et.length>nt;)b(et[nt++]);s(s.S+s.F*!B,"Symbol",{for:function(t){return o(V,t+="")?V[t]:V[t]=D(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in V)if(V[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),s(s.S+s.F*!B,"Object",{create:function(t,e){return void 0===e?j(t):z(j(t),e)},defineProperty:H,defineProperties:z,getOwnPropertyDescriptor:K,getOwnPropertyNames:X,getOwnPropertySymbols:Q}),k&&s(s.S+s.F*(!B||u(function(){var t=D();return"[null]"!=M([t])||"{}"!=M({a:t})||"{}"!=M(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(v(e)||void 0!==t)&&!Y(t))return g(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Y(e))return e}),r[1]=e,M.apply(k,r)}}),D.prototype[R]||n(84)(D.prototype,R,D.prototype.valueOf),f(D,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){n(216),n(204),t.exports=n(27).Symbol},function(t,e,n){var r=n(24).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){var r=n(77),o=n(78);t.exports=function(t){var e=String(o(this)),n="",i=r(t);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},function(t,e,n){var r=n(118),o=n(219),i=n(78);t.exports=function(t,e,n,s){var a=String(i(t)),c=a.length,u=void 0===n?" ":String(n),l=r(e);if(l<=c||""==u)return a;var f=l-c,h=o.call(u,Math.ceil(f/u.length));return h.length>f&&(h=h.slice(0,f)),s?h+a:a+h}},function(t,e,n){var r=n(85),o=n(220),i=n(218);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(i),"String",{padEnd:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){n(221),t.exports=n(27).String.padEnd},function(t,e,n){var r=n(79);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(37),o=n(48),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(120)(Function.call,n(119).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(85);r(r.S,"Object",{setPrototypeOf:n(224).set})},function(t,e,n){n(226),t.exports=n(27).Object.setPrototypeOf}]);