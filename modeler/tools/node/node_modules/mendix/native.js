module.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=150)}([function(t,e){t.exports=require("react")},function(t,e){t.exports=require("react-native")},function(t,e,n){"use strict";n.d(e,"a",function(){return r});class r extends Error{constructor(t="Unexpected error occurred, please contact your system administrator."){super(t),Object.setPrototypeOf(this,r.prototype)}}},function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return s}),n.d(e,"f",function(){return c}),n.d(e,"e",function(){return u}),n.d(e,"h",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"l",function(){return f}),n.d(e,"k",function(){return p}),n.d(e,"i",function(){return d}),n.d(e,"m",function(){return b}),n.d(e,"a",function(){return g});var r=n(2);function i(t){if(null==t)throw new Error("Did not expect an argument to be undefined");return t}function o(){throw new r.a}function a(t){return t.displayName||t.name||"<component>"}function s(t){return"string"==typeof t}function c(t){return null!=t&&"object"==typeof t&&t.constructor==={}.constructor}function u(t,e){return e instanceof Array&&e.every(e=>void 0===e||e instanceof t)}function l(t){return t instanceof Array&&t.every(t=>void 0===t||"string"==typeof t)}function h(t){const e=t.split("/");return e.length>1&&e.shift(),{attribute:e.pop(),entityPath:e.length?e.join("/"):void 0}}function f(t){const e=[];return t.forEach(t=>{-1===e.indexOf(t)&&e.push(t)}),e}function p(...t){return t}function d(t,e){const n={};return Object.keys(t).forEach(r=>n[r]=e(t[r])),n}function b(t,e){const n=[],r={};return t.forEach(t=>{const i=e(t);Object.prototype.hasOwnProperty.call(r,i)||(r[i]=!0,n.push(t))}),n}function g(t){return[].concat(...t)}},function(t,e,n){"use strict";var r=n(41),i=n(59),o=n(9),a=n(5),s=n(48),c=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return a.a(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(n(84).a),u=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.a(e,t),e}(n(83).a))(c),l=n(15),h=n(10),f=n(30),p=n(76);function d(t){var e=t.error;t.subscriber.error(e)}var b=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){var t,e;switch(this.kind){case"N":return Object(p.a)(this.value);case"E":return t=this.error,e?new o.a(function(n){return e.schedule(d,0,{error:t,subscriber:n})}):new o.a(function(e){return e.error(t)});case"C":return Object(f.b)()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();var g=function(t){function e(e,n,r){void 0===r&&(r=0);var i=t.call(this,e)||this;return i.scheduler=n,i.delay=r,i}return a.a(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new m(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(b.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(b.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(b.createComplete()),this.unsubscribe()},e}(h.a),m=function(){return function(t,e){this.notification=t,this.destination=e}}(),y=n(32),v=n(75),w=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return a.a(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new O(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new y.a;if(this.isStopped||this.hasError?e=l.a.EMPTY:(this.observers.push(t),e=new v.a(this,t)),i&&t.add(t=new g(t,i)),n)for(var a=0;a<o&&!t.closed;a++)t.next(r[a]);else for(a=0;a<o&&!t.closed;a++)t.next(r[a].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||u).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(s.a),O=function(){return function(t,e){this.time=t,this.value=e}}(),j=n(85),_=n(23),x=new o.a(_.a);var E=n(153),S=n(154),T=n(155),C=n(152),D=n(74);function k(){return function(t){return t.lift(new A(t))}}var A=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new P(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),P=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return a.a(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(h.a),M=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return a.a(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new l.a).add(this.source.subscribe(new I(this.getSubject(),this))),t.closed?(this._connection=null,t=l.a.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return k()(this)},e}(o.a).prototype,N={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:M._subscribe},_isComplete:{value:M._isComplete,writable:!0},getSubject:{value:M.getSubject},connect:{value:M.connect},refCount:{value:M.refCount}},I=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return a.a(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(s.b);h.a;var R=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i},t}(),V=n(54),F=n(20);var $=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new B(t,this.compare,this.keySelector))},t}(),B=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return a.a(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=t;if(this.keySelector&&(e=Object(V.a)(this.keySelector)(t))===F.a)return this.destination.error(F.a.e);var n=!1;if(this.hasKey){if((n=Object(V.a)(this.compare)(this.key,e))===F.a)return this.destination.error(F.a.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=e,this.destination.next(t))},e}(h.a);var U=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new G(t,this.predicate))},t}(),G=function(t){function e(e,n){var r=t.call(this,e)||this;return r.predicate=n,r.index=0,r}return a.a(e,t),e.prototype._next=function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void n.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var n=this.destination;Boolean(e)?n.next(t):n.complete()},e}(h.a),L=n(156),W=n(157),q=n(3);function z(t){return new o.a(e=>mx.data.subscribe(Object.assign({},t,{callback:t=>e.next(t)})))}function H(t){return e=>t.pipe(Object(C.a)(e),Object(D.a)(([t,e])=>e))}function Y(){const t=new w(1);return e=>k()(function(t,e){return function(n){var r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new R(r,e));var i=Object.create(n,N);return i.source=n,i.subjectFactory=r,i}}(t)(e))}function J(t){return Object(j.a)(Object(p.a)(t),x)}function K(){return t=r,function(n){return n.lift(new $(t,e))};var t,e}function X(t,e){return n=>new o.a(r=>{let i,o=e,a=!1,s=!1;return n.subscribe({next(e){if(s)return;let n;i&&(i.unsubscribe(),i=void 0);try{n=t(o,e)}catch(t){return r.error(t),void(s=!0)}i=n.subscribe({next(t){o=t,r.next(t)},error(t){r.error(t),s=!0},complete(){i=void 0,a&&r.complete()}})},error(t){r.error(t),i&&(i.unsubscribe(),i=void 0)},complete(){a=!0,i&&!i.closed||r.complete()}})})}function Q(t){return e=>Object(E.a)(e,t)}function Z(t){return t.length>0?Object(S.a)(...t):J([])}n.d(e,"f",function(){return z}),n.d(e,"l",function(){return H}),n.d(e,"i",function(){return Y}),n.d(e,"e",function(){return J}),n.d(e,"c",function(){return K}),n.d(e,"k",function(){return X}),n.d(e,"h",function(){return Q}),n.d(e,"a",function(){return Z}),n.d(e,"d",function(){return nt}),n.d(e,"n",function(){return rt}),n.d(e,"g",function(){return it}),n.d(e,"m",function(){return ot}),n.d(e,"j",function(){return at}),n.d(e,"b",function(){return st});let tt=!1;const et=new T.a(0);function nt(){tt&&(tt=!1,et.next(et.value+1),tt=!0)}function rt(t){return it(t)()}function it(t){return t=Object(i.a)(t),(...e)=>{if(tt)return t(...e);tt=!0;try{return t(...e)}finally{tt=!1,et.next(et.value+1)}}}function ot(t){const e={},n=Object(j.a)(t,Promise.resolve(e)).pipe(Object(D.a)(t=>({value:t,emittedInTransaction:tt,transaction:et.value+1})));return Object(S.a)(n,et).pipe((r=(([{value:t}])=>t!==e),function(t){return t.lift(new U(r))}),Object(L.a)(([{emittedInTransaction:t,transaction:e},n])=>t?e===n:e===n+1),Object(D.a)(([{value:t}])=>t));var r}function at(t){return e=>Object(j.a)(Object(p.a)(t),e.pipe(Object(W.a)(e=>r(t,e))))}function st(t){return Object(S.a)(Object.keys(t).map(e=>t[e].pipe(Object(D.a)(t=>Object(q.k)(e,t))))).pipe(Object(D.a)(t=>{const e={};return t.forEach(([t,n])=>e[t]=n),e}))}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(8),i=n(55),o=36e5,a=6e4,s=2,c={dateTimeDelimiter:/[T ]/,plainTime:/:/,timeZoneDelimiter:/[Z ]/i,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-])(\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function u(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===t)return new Date(NaN);var n=e||{},u=null==n.additionalDigits?s:Object(r.a)(n.additionalDigits);if(2!==u&&1!==u&&0!==u)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t))return new Date(t.getTime());if("number"==typeof t||"[object Number]"===Object.prototype.toString.call(t))return new Date(t);if("string"!=typeof t&&"[object String]"!==Object.prototype.toString.call(t))return new Date(NaN);var h=function(t){var e,n={},r=t.split(c.dateTimeDelimiter);c.plainTime.test(r[0])?(n.date=null,e=r[0]):(n.date=r[0],e=r[1],c.timeZoneDelimiter.test(n.date)&&(n.date=t.split(c.timeZoneDelimiter)[0],e=t.substr(n.date.length,t.length)));if(e){var i=c.timezone.exec(e);i?(n.time=e.replace(i[1],""),n.timezone=i[1]):n.time=e}return n}(t),f=function(t,e){var n,r=c.YYY[e],i=c.YYYYY[e];if(n=c.YYYY.exec(t)||i.exec(t)){var o=n[1];return{year:parseInt(o,10),restDateString:t.slice(o.length)}}if(n=c.YY.exec(t)||r.exec(t)){var a=n[1];return{year:100*parseInt(a,10),restDateString:t.slice(a.length)}}return{year:null}}(h.date,u),y=f.year,v=function(t,e){if(null===e)return null;var n,r,i,o;if(0===t.length)return(r=new Date(0)).setUTCFullYear(e),r;if(n=c.MM.exec(t))return r=new Date(0),i=parseInt(n[1],10)-1,d(e,i)?(r.setUTCFullYear(e,i),r):new Date(NaN);if(n=c.DDD.exec(t)){r=new Date(0);var a=parseInt(n[1],10);return function(t,e){if(e<1)return!1;var n=p(t);if(n&&e>366)return!1;if(!n&&e>365)return!1;return!0}(e,a)?(r.setUTCFullYear(e,0,a),r):new Date(NaN)}if(n=c.MMDD.exec(t)){r=new Date(0),i=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return d(e,i,s)?(r.setUTCFullYear(e,i,s),r):new Date(NaN)}if(n=c.Www.exec(t))return o=parseInt(n[1],10)-1,b(e,o)?l(e,o):new Date(NaN);if(n=c.WwwD.exec(t)){o=parseInt(n[1],10)-1;var u=parseInt(n[2],10)-1;return b(e,o,u)?l(e,o,u):new Date(NaN)}return null}(f.restDateString,y);if(isNaN(v))return new Date(NaN);if(v){var w,O=v.getTime(),j=0;if(h.time&&(j=function(t){var e,n,r;if(e=c.HH.exec(t))return g(n=parseFloat(e[1].replace(",",".")))?n%24*o:NaN;if(e=c.HHMM.exec(t))return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),g(n,r)?n%24*o+r*a:NaN;if(e=c.HHMMSS.exec(t)){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return g(n,r,i)?n%24*o+r*a+1e3*i:NaN}return null}(h.time),isNaN(j)))return new Date(NaN);if(h.timezone){if(w=function(t){var e,n,r;if(e=c.timezoneZ.exec(t))return 0;if(e=c.timezoneHH.exec(t))return m(r=parseInt(e[2],10))?(n=r*o,"+"===e[1]?-n:n):NaN;if(e=c.timezoneHHMM.exec(t)){r=parseInt(e[2],10);var i=parseInt(e[3],10);return m(r,i)?(n=r*o+i*a,"+"===e[1]?-n:n):NaN}return 0}(h.timezone),isNaN(w))return new Date(NaN)}else{var _=O+j,x=new Date(_);w=Object(i.a)(x);var E=new Date(_);E.setDate(x.getDate()+1);var S=Object(i.a)(E)-Object(i.a)(x);S>0&&(w+=S)}return new Date(O+j+w)}return new Date(NaN)}function l(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=7*e+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+i),r}var h=[31,28,31,30,31,30,31,31,30,31,30,31],f=[31,29,31,30,31,30,31,31,30,31,30,31];function p(t){return t%400==0||t%4==0&&t%100!=0}function d(t,e,n){if(e<0||e>11)return!1;if(null!=n){if(n<1)return!1;var r=p(t);if(r&&n>f[e])return!1;if(!r&&n>h[e])return!1}return!0}function b(t,e,n){return!(e<0||e>52)&&(null==n||!(n<0||n>6))}function g(t,e,n){return(null==t||!(t<0||t>=25))&&((null==e||!(e<0||e>=60))&&(null==n||!(n<0||n>=60)))}function m(t,e){return null==e||!(e<0||e>59)}},function(t,e,n){var r;!function(i){"use strict";var o,a=20,s=1,c=-7,u=21,l={},h=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function f(t,e,n){var r=t.constructor,i=e-(t=new r(t)).e,o=t.c;for(o.length>++e&&p(t,i,r.RM),o[0]?n?i=e:(o=t.c,i=t.e+i+1):++i;o.length<i;o.push(0));return i=t.e,1===n||n&&(e<=i||i<=c)?(t.s<0&&o[0]?"-":"")+(o.length>1?o[0]+"."+o.join("").slice(1):o[0])+(i<0?"e":"e+")+i:t.toString()}function p(t,e,n,r){var i,o=t.c,a=t.e+e+1;if(1===n?r=o[a]>=5:2===n?r=o[a]>5||5==o[a]&&(r||a<0||o[a+1]!==i||1&o[a-1]):3===n?r=r||o[a]!==i||a<0:(r=!1,0!==n&&d("!Big.RM!")),a<1||!o[0])r?(t.e=-e,t.c=[1]):t.c=[t.e=0];else{if(o.length=a--,r)for(;++o[a]>9;)o[a]=0,a--||(++t.e,o.unshift(1));for(a=o.length;!o[--a];o.pop());}return t}function d(t){var e=new Error(t);throw e.name="BigError",e}l.abs=function(){var t=new this.constructor(this);return t.s=1,t},l.cmp=function(t){var e,n=this,r=n.c,i=(t=new n.constructor(t)).c,o=n.s,a=t.s,s=n.e,c=t.e;if(!r[0]||!i[0])return r[0]?o:i[0]?-a:0;if(o!=a)return o;if(e=o<0,s!=c)return s>c^e?1:-1;for(o=-1,a=(s=r.length)<(c=i.length)?s:c;++o<a;)if(r[o]!=i[o])return r[o]>i[o]^e?1:-1;return s==c?0:s>c^e?1:-1},l.div=function(t){var e=this,n=e.constructor,r=e.c,i=(t=new n(t)).c,o=e.s==t.s?1:-1,a=n.DP;if((a!==~~a||a<0||a>1e6)&&d("!Big.DP!"),!r[0]||!i[0])return r[0]==i[0]&&d(NaN),i[0]||d(o/0),new n(0*o);var s,c,u,l,h,f,b=i.slice(),g=s=i.length,m=r.length,y=r.slice(0,s),v=y.length,w=t,O=w.c=[],j=0,_=a+(w.e=e.e-t.e)+1;for(w.s=o,o=_<0?0:_,b.unshift(0);v++<s;y.push(0));do{for(u=0;u<10;u++){if(s!=(v=y.length))l=s>v?1:-1;else for(h=-1,l=0;++h<s;)if(i[h]!=y[h]){l=i[h]>y[h]?1:-1;break}if(!(l<0))break;for(c=v==s?i:b;v;){if(y[--v]<c[v]){for(h=v;h&&!y[--h];y[h]=9);--y[h],y[v]+=10}y[v]-=c[v]}for(;!y[0];y.shift());}O[j++]=l?u:++u,y[0]&&l?y[v]=r[g]||0:y=[r[g]]}while((g++<m||y[0]!==f)&&o--);return O[0]||1==j||(O.shift(),w.e--),j>_&&p(w,a,n.RM,y[0]!==f),w},l.eq=function(t){return!this.cmp(t)},l.gt=function(t){return this.cmp(t)>0},l.gte=function(t){return this.cmp(t)>-1},l.lt=function(t){return this.cmp(t)<0},l.lte=function(t){return this.cmp(t)<1},l.minus=function(t){var e,n,r,i,o=this,a=o.constructor,s=o.s,c=(t=new a(t)).s;if(s!=c)return t.s=-c,o.plus(t);var u=o.c.slice(),l=o.e,h=t.c,f=t.e;if(!u[0]||!h[0])return h[0]?(t.s=-c,t):new a(u[0]?o:0);if(s=l-f){for((i=s<0)?(s=-s,r=u):(f=l,r=h),r.reverse(),c=s;c--;r.push(0));r.reverse()}else for(n=((i=u.length<h.length)?u:h).length,s=c=0;c<n;c++)if(u[c]!=h[c]){i=u[c]<h[c];break}if(i&&(r=u,u=h,h=r,t.s=-t.s),(c=(n=h.length)-(e=u.length))>0)for(;c--;u[e++]=0);for(c=e;n>s;){if(u[--n]<h[n]){for(e=n;e&&!u[--e];u[e]=9);--u[e],u[n]+=10}u[n]-=h[n]}for(;0==u[--c];u.pop());for(;0==u[0];)u.shift(),--f;return u[0]||(t.s=1,u=[f=0]),t.c=u,t.e=f,t},l.mod=function(t){var e,n=this,r=n.constructor,i=n.s,o=(t=new r(t)).s;return t.c[0]||d(NaN),n.s=t.s=1,e=1==t.cmp(n),n.s=i,t.s=o,e?new r(n):(i=r.DP,o=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=i,r.RM=o,this.minus(n.times(t)))},l.plus=function(t){var e,n=this,r=n.constructor,i=n.s,o=(t=new r(t)).s;if(i!=o)return t.s=-o,n.minus(t);var a=n.e,s=n.c,c=t.e,u=t.c;if(!s[0]||!u[0])return u[0]?t:new r(s[0]?n:0*i);if(s=s.slice(),i=a-c){for(i>0?(c=a,e=u):(i=-i,e=s),e.reverse();i--;e.push(0));e.reverse()}for(s.length-u.length<0&&(e=u,u=s,s=e),i=u.length,o=0;i;)o=(s[--i]=s[i]+u[i]+o)/10|0,s[i]%=10;for(o&&(s.unshift(o),++c),i=s.length;0==s[--i];s.pop());return t.c=s,t.e=c,t},l.pow=function(t){var e=this,n=new e.constructor(1),r=n,i=t<0;for((t!==~~t||t<-1e6||t>1e6)&&d("!pow!"),t=i?-t:t;1&t&&(r=r.times(e)),t>>=1;)e=e.times(e);return i?n.div(r):r},l.round=function(t,e){var n=this,r=n.constructor;return null==t?t=0:(t!==~~t||t<0||t>1e6)&&d("!round!"),p(n=new r(n),t,null==e?r.RM:e),n},l.sqrt=function(){var t,e,n,r=this,i=r.constructor,o=r.c,a=r.s,s=r.e,c=new i("0.5");if(!o[0])return new i(r);a<0&&d(NaN),0==(a=Math.sqrt(r.toString()))||a==1/0?((t=o.join("")).length+s&1||(t+="0"),(e=new i(Math.sqrt(t).toString())).e=((s+1)/2|0)-(s<0||1&s)):e=new i(a.toString()),a=e.e+(i.DP+=4);do{n=e,e=c.times(n.plus(r.div(n)))}while(n.c.slice(0,a).join("")!==e.c.slice(0,a).join(""));return p(e,i.DP-=4,i.RM),e},l.times=function(t){var e,n=this,r=n.constructor,i=n.c,o=(t=new r(t)).c,a=i.length,s=o.length,c=n.e,u=t.e;if(t.s=n.s==t.s?1:-1,!i[0]||!o[0])return new r(0*t.s);for(t.e=c+u,a<s&&(e=i,i=o,o=e,u=a,a=s,s=u),e=new Array(u=a+s);u--;e[u]=0);for(c=s;c--;){for(s=0,u=a+c;u>c;)s=e[u]+o[c]*i[u-c-1]+s,e[u--]=s%10,s=s/10|0;e[u]=(e[u]+s)%10}for(s&&++t.e,e[0]||e.shift(),c=e.length;!e[--c];e.pop());return t.c=e,t},l.toString=l.valueOf=l.toJSON=function(){var t=this,e=t.e,n=t.c.join(""),r=n.length;if(e<=c||e>=u)n=n.charAt(0)+(r>1?"."+n.slice(1):"")+(e<0?"e":"e+")+e;else if(e<0){for(;++e;n="0"+n);n="0."+n}else if(e>0)if(++e>r)for(e-=r;e--;n+="0");else e<r&&(n=n.slice(0,e)+"."+n.slice(e));else r>1&&(n=n.charAt(0)+"."+n.slice(1));return t.s<0&&t.c[0]?"-"+n:n},l.toExponential=function(t){return null==t?t=this.c.length-1:(t!==~~t||t<0||t>1e6)&&d("!toExp!"),f(this,t,1)},l.toFixed=function(t){var e,n=this,r=c,i=u;return c=-(u=1/0),null==t?e=n.toString():t===~~t&&t>=0&&t<=1e6&&(e=f(n,n.e+t),n.s<0&&n.c[0]&&e.indexOf("-")<0&&(e="-"+e)),c=r,u=i,e||d("!toFix!"),e},l.toPrecision=function(t){return null==t?this.toString():((t!==~~t||t<1||t>1e6)&&d("!toPre!"),f(this,t-1,2))},o=function t(){function e(n){var r=this;if(!(r instanceof e))return void 0===n?t():new e(n);n instanceof e?(r.s=n.s,r.e=n.e,r.c=n.c.slice()):function(t,e){var n,r,i;for(0===e&&1/e<0?e="-0":h.test(e+="")||d(NaN),t.s="-"==e.charAt(0)?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;"0"==e.charAt(r);r++);if(r==(i=e.length))t.c=[t.e=0];else{for(;"0"==e.charAt(--i););for(t.e=n-r-1,t.c=[],n=0;r<=i;t.c[n++]=+e.charAt(r++));}}(r,n),r.constructor=e}return e.prototype=l,e.DP=a,e.RM=s,e}(),void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)}()},function(t,e,n){"use strict";function r(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";var r=n(10);var i=n(42),o=n(53);var a=n(28),s=n(23);function c(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:s.a}var u=n(22);n.d(e,"a",function(){return l});var l=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var a=this.operator,s=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a?a.call(s,this.source):s.add(this.source||u.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,n=e.closed,i=e.destination,o=e.isStopped;if(n||o)return!1;t=i&&i instanceof r.a?i:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=h(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[a.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:c(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=h(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function h(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(5),i=n(43),o=n(53),a=n(15),s=n(42),c=n(22),u=n(33),l=function(t){function e(n,r,i){var a=t.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,a._parentSubscription=null,arguments.length){case 0:a.destination=o.a;break;case 1:if(!n){a.destination=o.a;break}if("object"==typeof n){n instanceof e?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new h(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new h(a,n,r,i)}return a}return r.a(e,t),e.prototype[s.a]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this._parentSubscription=null,this},e}(a.a),h=function(t){function e(e,n,r,a){var s,c=t.call(this)||this;c._parentSubscriber=e;var u=c;return Object(i.a)(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==o.a&&(u=Object.create(n),Object(i.a)(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(c))),c._context=u,c._next=s,c._error=r,c._complete=a,c}return r.a(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;c.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=c.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};c.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),c.a.useDeprecatedSynchronousErrorHandling)throw t;Object(u.a)(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!c.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return c.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(Object(u.a)(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l)},function(t,e,n){"use strict";n.r(e),n.d(e,"MxObject",function(){return f});var r=n(2),i=n(7),o=n.n(i),a=n(13),s=n.n(a),c=n(17),u=n(27),l=n.n(u);const h=Symbol("snapshot");class f{constructor(t){if(this._guid="0",this._unavailable=!1,this.metaData=null,this.jsonData=null,this.id="mendix.lib.MxObject",!(t.meta&&t.json&&t.json.objectType)){var e=this.metaData&&this.metaData.getEntity();throw new Error("new MxObject(): cannot create Mendix object.  Check entity access"+(e?" for entity "+e:""))}this.metaData=t.meta,this._setJsonData(t.json),this.id+="("+this.jsonData.objectType+":"+this._guid+")"}resetFromJSON(t){this._setJsonData(t)}markAsUnavailable(){this._setJsonData({guid:this._guid,attributes:{}}),this._unavailable=!0}_setJsonData(t){for(var e in this.jsonData=t,this._guid=t.guid,t.attributes)this._setAttributeValue(e,this._getAttributeValue(e))}getGuid(){return this._guid}hasChanges(){return!s.a.objectIsEmpty(window.mx.data.getChanges(this._guid))}snapshot(){return this[h]||(this[h]=new(n(133).MxObjectSnapshot)(this))}isUnavailable(){return this._unavailable}set(t,e){this._setContent(t,e)}isReadonlyAttr(t){return this.has(t)?!!this.jsonData.attributes[t].readonly:!this.metaData.has(t)}fetch(t,e,n){let i;i=t?t instanceof Array?t.slice():t.split("/"):[],this.isA(i[0])&&i.shift();let o=this;const a=()=>{if(0===i.length)e(o);else if(1===i.length)e(o.get(i[0]));else{const t=i.shift(),n=i.shift();o._fetchReference(t,n,t=>{void 0===t?e(null):Array.isArray(t)?0===i.length?e(t):s(new r.a(this.id+".fetch : "+o+" reference set should be last reference in path")):(o=t,a())},s)}};function s(t){n?n(t):window.mx.onError(t)}a()}_fetchReference(t,e,n,r){const i=this.getReferences(t);0!==i.length?window.mx.data.get({guids:i,callback:r=>{if(this.isObjectReferenceSet(t))0===r.length||r[0].isA(e)?n(r):n(void 0);else{const t=r[0];t&&t.isA(e)?n(t):n(void 0)}},error:r}):n(void 0)}get(t){if("string"!=typeof t)throw new r.a("parameter attr "+t+" is not of type String");return this.has(t)?this._convertToClientValue(t,this._getRawValue(t)):null}getOriginalValue(t){if("string"!=typeof t)throw new r.a("parameter attr "+t+" is not of type String");return this.has(t)?this._convertToClientValue(t,this._getRawOriginalValue(t)):null}has(t){if("string"!=typeof t)throw new r.a("attribute parameter is not a string");return Object.prototype.hasOwnProperty.call(this.jsonData.attributes,t)}getReferences(t){if("string"!=typeof t)throw new r.a("parameter attr "+t+" is not of type String.");if(!this.has(t))return[];if(!this.isReference(t))throw new r.a("attribute "+t+" is not an ObjectReference(Set).");const e=this._getRawValue(t);return this.isObjectReference(t)?null==e?[]:[e]:null==e?[]:e.slice()}getOriginalReferences(t){if("string"!=typeof t)throw new r.a("parameter attr "+t+" is not of type String.");if(!this.has(t))return[];if(!this.isReference(t))throw new r.a("attribute "+t+" is not an ObjectReference(Set).");const e=this._getRawOriginalValue(t);return this.isObjectReference(t)?null==e?[]:[e]:null==e?[]:e.slice()}getReference(t){return this.get(t)}isEnum(t){return this.metaData.isEnum(t)}isNumeric(t){return this.metaData.isNumeric(t)}isCurrency(t){return this.metaData.isCurrency(t)}isPassword(t){return this.metaData.isPassword(t)}isDate(t){return this.metaData.isDate(t)}isLocalizedDate(t){return this.metaData.isLocalizedDate(t)}isBoolean(t){return this.metaData.isBoolean(t)}isReference(t){return this.metaData.isReference(t)}isObjectReference(t){return this.metaData.isObjectReference(t)}isObjectReferenceSet(t){return this.metaData.isObjectReferenceSet(t)}getOptions(t){return this.metaData.getOptions(t)}getEnumMap(t){return this.metaData.getEnumMap(t)}getEnumKVPairs(t){return this.metaData.getEnumKVPairs(t)}getEnumCaption(t){return this.metaData.getEnumCaption(t,this.get(t))}hasChildren(t){if("string"!=typeof t)throw new r.a("parameter attr ("+t+") is not of type String.");return!this._attributeChanged(t)&&this._hasChildren(t)}getChildren(t){if("string"!=typeof t)throw new r.a("parameter attr ("+t+") is not of type String.");if(!this.has(t))return[];if(!this.isReference(t))throw new r.a("attribute "+t+" is not an ObjectReference(Set).");return this._attributeChanged(t)?[]:this._hasChildren(t)?this._getChildren(t):[]}getChild(t){if("string"!=typeof t)throw new r.a("parameter attr("+t+") is not of type String.");if(!this.has(t))return;if(!this.isObjectReference(t))throw new r.a("attribute "+t+" is not an ObjectReference.");const e=this.getChildren(t);return 0===e.length?null:e[0]}removeReferences(t,e){if("string"!=typeof t)throw new r.a("parameter attr is not of type String.");if(!this.has(t))return!1;if(!this.isReference(t))throw new r.a("attempt to remove Reference from non-Reference attribute : "+t);if(Array.isArray(e)||(e=[e]),this._attributeChanged(t)||!this._hasChildren(t))this.isObjectReference(t)?this._setContent(t,null):this._setContent(t,s.a.arraySubtract(this.getReferences(t),e));else{if(!this.isObjectReference(t)){for(var n=0;n<e.length;n++)delete this.jsonData.attributes[t].value[e[n]];var i=s.a.arraySubtract(this.getReferences(t),e);return this._makeChange(t,i)}this._setContent(t,null)}return!0}addReference(t,e){if("string"!=typeof t)throw new r.a("parameter attr is not of type String.");if(!e)throw new r.a("parameter guid is not set.");if(!this.has(t))return!1;if(!this.isReference(t))throw new r.a("attempt to add Reference to non-Reference attribute : "+t);if(this.isObjectReference(t))this._setContent(t,e);else{var n=this.getReferences(t);n.join(";").match(e)||(n.push(e),this._setContent(t,n))}return!0}addReferences(t,e){if("string"!=typeof t)throw new r.a("parameter attr is not of type String.");if(!Array.isArray(e))throw new r.a("parameter guids is not an Array.");if(!this.has(t))return!1;if(!this.isObjectReferenceSet(t))throw new r.a("attempt to add References to non-ReferenceSet attribute : "+t);const n=this.getReferences(t),i=e.filter(t=>!n.includes(t));return i.length>0&&this._setContent(t,n.concat(i)),!0}getReferenceAttributes(){return this.metaData.getReferenceAttributes().filter(t=>this.has(t))}getAttributes(){return this.metaData.getAttributes().filter(t=>this.has(t))}getPrimitives(){return this.metaData.getAttributesWithoutReferences().filter(t=>this.has(t))}getAttributeType(t){return!!this.has(t)&&this.metaData.getAttributeType(t)}getSelectorEntity(t){return this.has(t)?this.metaData.getSelectorEntity(t):null}getEntity(){return this.metaData.getEntity()}isPersistable(){return this.metaData.isPersistable()}isNew(){return window.mx.data.isNew(this._guid)}isA(t){return this.metaData.isA(t)}hasSuperEntities(){return this.metaData.hasSuperEntities()}getSuperEntities(){return this.metaData.getSuperEntities()}hasSubEntities(){return this.metaData.hasSubEntities()}getSubEntities(){return this.metaData.getSubEntities()}inheritsFrom(t){return this.metaData.inheritsFrom(t)}toJSON(){return this.jsonData}toString(){return this.getGuid()}_getRawValue(t){if(this._attributeChanged(t)){return window.mx.data.getChanges(this._guid)[t].value}return this._getRawOriginalValue(t)}_getRawOriginalValue(t){return this._hasChildren(t)?this._getChildValue(t):this._getAttributeValue(t)}_attributeChanged(t){const e=window.mx.data.getChanges(this._guid);return Object.prototype.hasOwnProperty.call(e,t)}_getChildren(t){return(this.isObjectReference(t)?[this._getAttributeValue(t)]:Object.values(this._getAttributeValue(t))).map(t=>f.fromJson(t))}_getChildValue(t){const e=this._getChildren(t).map(t=>t.getGuid());return this.isObjectReference(t)?0===e.length?null:e[0]:e}_convertToRuntimeValue(t,e){if("String"!==this.getAttributeType(t)&&""===e)return this.isObjectReferenceSet(t)?[]:null;if(null==e)return null;if(this.isNumeric(t)){const n=o()(e);if(l.a.validate(n,this.metaData.getAttributeType(t))!==l.a.validation.OK)throw new Error(`Cannot set invalid value '${n}' to MxObject attribute '${t}'`);return String(n)}if(this.isDate(t))return this.isLocalizedDate(t)?Number(e):window.mx.parser.delocalizeEpoch(Number(e));if(this.isPassword(t))return e.replace(/[\s\t]+$/,"").replace(/^[\s\t]+/,"");if(this.isBoolean(t))return Boolean(e);if(this.isObjectReference(t)){if(Array.isArray(e))throw new Error("Trying to set single object reference to multiple values");return e}if(this.isObjectReferenceSet(t)){if(!Array.isArray(e))throw new Error("Trying to set object reference set to single value");return e}return String(e)}_convertToClientValue(t,e){return null==e?"":this.isNumeric(t)?o()(e):this.isDate(t)?this.isLocalizedDate(t)?e:window.mx.parser.localizeEpoch(e):this.isBoolean(t)?e:this.isObjectReferenceSet(t)?0===e.length?"":e:String(e)}_setContent(t,e){if("string"!=typeof t)throw new r.a("parameter attr ("+t+") is not of type String.");if(!this.metaData.has(t))return;const n=this._convertToRuntimeValue(t,e),i=this._getRawValue(t);n!==i&&(this._makeChange(t,n),this.metaData.isBidirectionalReference(t)&&(p(this.isObjectReference(t)?[i]:s.a.arraySubtract(i,n)).filter(e=>!e.isReadonlyAttr(t)&&e.getReferences(t).includes(this._guid)).forEach(e=>e.removeReferences(t,[this._guid])),p(this.isObjectReference(t)?[n]:s.a.arraySubtract(n,i)).filter(e=>!e.isReadonlyAttr(t)&&!e.getReferences(t).includes(this._guid)).forEach(e=>e.addReference(t,this._guid))))}_hasChildren(t){if(!this.isReference(t))return!1;const e=this._getAttributeValue(t);return e&&"object"==typeof e&&null==e.length}_getAttributeValue(t){var e=this.jsonData.attributes[t];return void 0===e&&(e=null),e&&"object"==typeof e&&"value"in e?e.value:e}_setAttributeValue(t,e){var n=this.jsonData.attributes[t];void 0===e&&(e=null),n&&"object"==typeof n&&"value"in n?n.value=e:this.jsonData.attributes[t]=e}_makeChange(t,e){if(this.isUnavailable())throw new r.a(`Cannot modify attribute ${t} of an unavailable object.`);window.mx.data.makeChange(this._guid,t,e),Object(c.c)({guid:this._guid,attr:t}).catch(window.mx.onError)}static fromJson(t){return new f({json:t,meta:window.mx.meta.getEntity(t.objectType)})}}function p(t){return t.map(t=>window.mx.data.getCachedObject(t)).filter(t=>null!=t)}},function(t,e,n){"use strict";function r(){return new Promise(()=>{})}function i(t=0){return new Promise(e=>{setTimeout(()=>{e()},t)})}function o(t,e,n){const r=Array.from(arguments).slice(2);return new Promise((n,i)=>t[e](...r,n,i))}n.d(e,"b",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o})},function(t,e,n){const{DescribedServerError:r}=n(88);var i=0;function o(t,e,n){return function(...r){const i=e.concat(r);return i.length>=t?n.apply(this,i.slice(0,t)):o(t,i,n)}}t.exports.map=function(e,n,r){var i=[];return t.exports.forEach(e,function(){i.push(n.apply(this,arguments))},r),i},t.exports.mapObject=function(t,e,n=null){return Object.keys(t).reduce(function(r,i){return r[i]=e.call(n,t[i],i),r},{})},t.exports.forEach=function(t,e,n){if(null!=t)if(t.length===+t.length)for(var r=0;r<t.length;r++)e.call(n,t[r],r,t);else for(var i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)},e.curry=function(t){return o(t.length,[],t)},e.curryN=function(t,e){return o(t,[],e)},t.exports.sequence=function(t,e,n){if(e&&"object"==typeof e&&(n=e,e=null),!(t instanceof Array))throw new Error("mendix/lang.sequence: sequence is not an array");var r,i,o,a=0,s=function(){r=!0,i&&o()};(o=function(){for(;a<t.length;){r=!1,i=!1;var o=t[a++];if("function"==typeof o)o.call(n,s);else{if(!n||"function"!=typeof n[o])throw new Error("mendix/lang.sequence: #"+a+" is not a function");n[o](s)}if(!r)return void(i=!0)}e&&e.call(n)})()},t.exports.collect=function(t,e,n){if(e&&"object"==typeof e&&(n=e,e=null),!(t instanceof Array))throw new Error("mendix/lang.collect: collection is not an array");for(var r=0,i=t.length+1,o=function(){0==--i&&e&&e.call(n)};r<t.length;){var a=t[r++];if("function"==typeof a)a.call(n,o);else{if(!n||"function"!=typeof n[a])throw new Error("mendix/lang.collect: #"+r+" is not a function");n[a](o)}}o()},t.exports.find=function(t,e,n){for(var r=0;r<t.length;r++)if(e.call(n,t[r],r,t))return t[r]},t.exports.findLast=function(t,e,n){for(var r=t.length-1;r>=0;r--)if(e.call(n,t[r],r,t))return t[r]},t.exports.findIndex=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return n;return-1},t.exports.flatten=function(t){const e=[];return t.forEach(t=>{e.push.apply(e,t)}),e},t.exports.toArray=function(t){return[].slice.call(t)},t.exports.objectToArray=function(t){var e=[];for(var n in t)e.push(n);return e},t.exports.arrayFromObject=function(t){return Object.keys(t).map(function(e){return[e,t[e]]})},t.exports.objectFromArray=function(t){return t.reduce(function(t,e){return t[e[0]]=e[1],t},{})},t.exports.groupBy=function(t,e){return t.map(t=>[e(t),t]).reduce((t,[e,n])=>(t[e]||(t[e]=[]),t[e].push(n),t),{})},t.exports.partition=function(t,e){for(var n=[],r=[],i=0;i<e.length;++i)t(e[i])?n.push(e[i]):r.push(e[i]);return[n,r]},t.exports.clone=function(t){return JSON.parse(JSON.stringify(t))},t.exports.delay=function(t,e,n){return setTimeout(function r(){e()?t():setTimeout(r,n||500)},n||500)},t.exports.runOrDelay=function(t,e,n){return n||(n=500),e()?t():setTimeout(function r(){e()?t():setTimeout(r,n)},n)},t.exports.waitUntilPredicateHolds=function(e,n,r){if(0===r.length||e())n();else{var i=r.shift();setTimeout(function(){t.exports.waitUntilPredicateHolds(e,n,r)},i)}},t.exports.arraySubtract=function(t,e){for(var n=0;n<e.length;n++)for(var r=t.length-1;0<=r;r--)t[r].toString()===e[n].toString()&&t.splice(r,1);return t},t.exports.objectIsEmpty=function(t){for(var e in t)return!1;return!0},t.exports.firstKey=function(t){for(var e in t)return e;return null},t.exports.inArray=function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},t.exports.unique=function(t){return t.filter(function(e,n){return t.indexOf(e)===n})},t.exports.startsWith=function(t,e){return 0===t.indexOf(e)},t.exports.endsWith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)},t.exports.trim=function(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},t.exports.capitalize=function(t){return t.length>0?t[0].toUpperCase()+t.slice(1):""},t.exports.getUniqueId=function(){return+new Date+"-"+i++},t.exports.getFileError=function(t){var e,n,i=null;return(e=t.getElementsByTagName("textarea")[0])&&(n=JSON.parse(e.value)).type&&"exception"===n.type&&((i=new r(n.description))._type="exception"),i},t.exports.registerInDojo=function(t,e){window.dojoDynamicRequire.cache[t]=function(){window.define([],function(){return e})}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return get}),__webpack_require__.d(__webpack_exports__,"b",function(){return post});var _exceptions_AssertionError__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_util__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_errors_ConnectionError__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(26),_errors_DescribedServerError__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(88),_errors_ServerError__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(45),_errors_UnauthorizedError__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(38),_errors_ValidationError__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(31),_middleware__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(24);async function get(url,handleAs){const request={url:url,init:{method:"get",headers:new Headers,cache:"force-cache",credentials:"include"}},response=await Object(_middleware__WEBPACK_IMPORTED_MODULE_7__.a)(request,doFetch);if(!response.ok)throw new _errors_ServerError__WEBPACK_IMPORTED_MODULE_4__.a(response.status,response.statusText);switch(handleAs){case"text":return response.text();case"json":return response.json();case"blob":return response.blob();case"javascript":return void eval(await response.text())}}async function post(t,e){const n={url:t,body:e,init:{method:"post",headers:new Headers(Object.assign({Accept:"application/json"},Object(_util__WEBPACK_IMPORTED_MODULE_1__.f)(e)?{"Content-Type":"application/json"}:{})),redirect:"error",credentials:"include"}};return(await Object(_middleware__WEBPACK_IMPORTED_MODULE_7__.a)(n,doFetch)).json()}async function doFetch(t){if(t.init.body)throw new _exceptions_AssertionError__WEBPACK_IMPORTED_MODULE_0__.a;let e;t.init.body=Object(_util__WEBPACK_IMPORTED_MODULE_1__.f)(t.body)?JSON.stringify(t.body):t.body;try{e=await window.fetch(t.url,t.init)}catch(t){throw new _errors_ConnectionError__WEBPACK_IMPORTED_MODULE_2__.a(t.message)}switch(e.status){case 200:return e;case 400:case 401:case 402:case 403:case 460:throw new _errors_UnauthorizedError__WEBPACK_IMPORTED_MODULE_5__.a(e.status);case 502:case 504:throw new _errors_ServerError__WEBPACK_IMPORTED_MODULE_4__.a(e.status,e.statusText);case 551:throw new _errors_ValidationError__WEBPACK_IMPORTED_MODULE_6__.a(await e.json());case 560:const t=await getXasErrorDescription(e);throw t?new _errors_DescribedServerError__WEBPACK_IMPORTED_MODULE_3__.DescribedServerError(t):new _errors_ServerError__WEBPACK_IMPORTED_MODULE_4__.a(e.status);case 12029:throw new _errors_ConnectionError__WEBPACK_IMPORTED_MODULE_2__.a("No connection");default:throw new _errors_ServerError__WEBPACK_IMPORTED_MODULE_4__.a(e.status,await getXasErrorDescription(e))}}async function getXasErrorDescription(t){const e=await t.json();return e&&"description"in e?e.description:void 0}},function(t,e,n){"use strict";var r=n(46),i=n(66),o=n(43),a=n(54),s=n(20);function c(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}c.prototype=Object.create(Error.prototype);var u=c;n.d(e,"a",function(){return l});var l=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,c=this._parents,l=this._unsubscribe,f=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,d=c?c.length:0;n;)n.remove(this),n=++p<d&&c[p]||null;if(Object(o.a)(l))Object(a.a)(l).call(this)===s.a&&(e=!0,t=t||(s.a.e instanceof u?h(s.a.e.errors):[s.a.e]));if(Object(r.a)(f))for(p=-1,d=f.length;++p<d;){var b=f[p];if(Object(i.a)(b))if(Object(a.a)(b.unsubscribe).call(b)===s.a){e=!0,t=t||[];var g=s.a.e;g instanceof u?t=t.concat(h(g.errors)):t.push(g)}}if(e)throw new u(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function h(t){return t.reduce(function(t,e){return t.concat(e instanceof u?e.errors:e)},[])}},function(t,e,n){"use strict";n.d(e,"e",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return c}),n.d(e,"b",function(){return u}),n.d(e,"d",function(){return l});var r=n(7),i=n(3),o=n(2);function a(t,e){switch(e){case"DateTime":return""!==t?new Date(t):void 0;case"String":return t;default:return""!==t?t:void 0}}function s(t){return void 0===t?"":t instanceof Date?t.getTime():t}function c(t,e,n){const r=mx.meta.getEntity(e),i=r.getAttributeType(n);return"Enum"===i?void 0===t||r.getEnumMap(n).find(e=>e.key===t)?t:function(){throw new o.a(`Value ${t} is not assignable to the attribute of type ${i}.`)}():u(t,i)}function u(t,e){switch(e){case"String":case"ObjectReference":case"HashString":return"string"==typeof t||void 0===t?t:n();case"ObjectReferenceSet":return Array.isArray(t)&&t.every(t=>"string"==typeof t)?t:n();case"Boolean":return"boolean"==typeof t?t:n();case"DateTime":return void 0===t||t instanceof Date&&!isNaN(t.getTime())?t:n();case"Float":case"Currency":case"Integer":case"Long":case"Decimal":return t instanceof r||void 0===t?t:n();default:throw new o.a(`Attribute type ${e} is not supported.`)}function n(){throw new o.a(`Value ${t} is not assignable to the attribute of type ${e}.`)}}function l(t){return Object(i.h)(t)?t.map(t=>Object(i.c)(mx.data.getCachedObject(t))):t}},function(t,e,n){"use strict";n.d(e,"d",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return c}),n.d(e,"a",function(){return u});var r=n(78),i=n(4);const o=new Map;function a(t){const e=Object(r.a)();return o.set(e,t),{unsubscribe:()=>o.delete(e)}}async function s(...t){const e=Array.from(o.values()),n=[];for(const r of t)if("topic"in r)n.push(...e.filter(t=>"topic"in t&&t.topic===r.topic));else if("entity"in r){const t=[r.entity].concat(mx.meta.getEntity(r.entity).getSuperEntities());n.push(...e.filter(e=>"entity"in e&&t.includes(e.entity)))}else"attr"in r?n.push(...e.filter(t=>"attr"in t&&t.attr===r.attr&&t.guid===r.guid)):n.push(...e.filter(t=>"guid"in t&&!("attr"in t)&&t.guid===r.guid));const r=Object(i.n)(()=>n.map(t=>void 0!==t.callback?t.callback():void 0));await Promise.all(r)}function c(t){return Array.from(o.values()).filter(e=>"guid"in e&&e.guid===t).map(t=>t.tag).filter(t=>t)}function u(){return Array.from(o.values()).filter(t=>"guid"in t).map(t=>t.guid)}},,function(t,e,n){"use strict";n.d(e,"g",function(){return a}),n.d(e,"f",function(){return s}),n.d(e,"b",function(){return c}),n.d(e,"d",function(){return u}),n.d(e,"a",function(){return l}),n.d(e,"e",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return d});var r,i=n(108),o=n(14);function a(t,e={},n=!1){return Object(o.b)(b(),{action:"retrieve_by_xpath",params:{xpath:t,schema:e,count:n}})}function s(t){return Object(o.b)(b(),{action:"poll_background_job",params:{asyncid:t}})}function c(t,e,n){return Object(o.b)(b(),{action:"instantiate",params:{objecttype:t},changes:e,objects:n})}function u(t,e,n){return Object(o.b)(b(),{action:"login",params:{username:t,password:e,shouldgeneratetoken:n}})}function l(t){return Object(o.b)(b(),{action:"get_session_data",params:t})}function h(t){return Object(o.b)(b(),{action:"logout",params:t?{authtoken:t}:{}})}function f(){return Object(o.b)(b(),{action:"keepalive",params:{}})}function p(t,e,n,r){return Object(o.b)(b(),{action:"synchronize",params:{guids:t,fileGuidMapping:e},changes:n,objects:r})}function d(t,e,n,r,a,s){const c=mx.remoteUrl+"file?"+Object(i.stringify)(Object.assign({},n,{guid:t})),u=new FormData;return u.append("data",JSON.stringify({changes:a,objects:s})),e?u.append("blob",r,e):u.append("blob",r),Object(o.b)(c,u)}function b(){return mx.remoteUrl+"xas/"}!function(t){t[t.Sunday=0]="Sunday",t[t.Monday=1]="Monday",t[t.Tuesday=2]="Tuesday",t[t.Wednesday=3]="Wednesday",t[t.Thursday=4]="Thursday",t[t.Friday=5]="Friday",t[t.Saturday=6]="Saturday"}(r||(r={}))},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={e:{}}},,function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});const r=[];function i(t){r.push(t)}function o(){r.splice(0,r.length)}function a(t,e){return function t(n,i){if(n===r.length)return e(i);return r[n](i,e=>t(n+1,e))}(0,t)}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(9),i=n(15),o=n(70);function a(t,e){return e?new r.a(function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r}):new r.a(Object(o.a)(t))}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});class r extends Error{constructor(t){super(t),Object.setPrototypeOf(this,r.prototype)}}},function(t,e,n){const r=n(7);var i=new r("1e20"),o=new r(2).pow(31).times(-1),a=new r(2).pow(31).minus(1),s=new r(2).pow(63).times(-1),c=new r(2).pow(63).minus(1),u=new r(2).pow(53);function l(t,e,n){return t.gte(e)&&t.lte(n)}var h={validation:{OK:0,NOT_INTEGER:1,RANGE_INTEGER:2,RANGE_LONG:3,RANGE_DECIMAL:4,RANGE_NUMBER:5},validate:function(t,e){if(/^(Integer|Long|Decimal|Float|Currency)$/.test(e)){if(""===t)return h.validation.OK;if(t instanceof r||(t=new r(t)),("Integer"===e||"Long"===e)&&function(t){return!t.mod(1).eq(0)}(t))return h.validation.NOT_INTEGER;if("Integer"===e&&!l(t,o,a))return h.validation.RANGE_INTEGER;if("Long"===e&&!l(t,s,c))return h.validation.RANGE_LONG;if("Decimal"===e&&t.abs().gte(i))return h.validation.RANGE_DECIMAL;if("Decimal"===e&&!t.mod(1e-8).eq(0))return h.validation.RANGE_DECIMAL;if(/^(Float|Currency)$/.test(e)&&t.abs().gt(u))return h.validation.RANGE_NUMBER}return h.validation.OK}};t.exports=h},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n(9),i=new r.a(function(t){return t.complete()});function o(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):i}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});class r extends Error{constructor(t){super(),this.original=t,Object.setPrototypeOf(this,r.prototype)}}},function(t,e,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(e,"a",function(){return i}),r.prototype=Object.create(Error.prototype);var i=r},function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t})}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(47),i=n(67);function o(t,e,n,o,a){if(void 0===a&&(a=new r.a(t,n,o)),!a.closed)return Object(i.a)(e)(a)}},function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});var i=r()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(5),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n(10).a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});class r extends Error{constructor(t){super(t),Object.setPrototypeOf(this,r.prototype)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(45);class i extends r.a{constructor(t){super(t),Object.setPrototypeOf(this,i.prototype)}}},function(t,e,n){"use strict";var r=n(9),i=n(71),o=n(69),a=n(28);var s=n(35);var c=n(25),u=n(15),l=n(72);var h=n(73);var f=n(68);var p=n(67);function d(t,e){if(!e)return t instanceof r.a?t:new r.a(Object(p.a)(t));if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return e?new r.a(function(n){var r=new u.a;return r.add(e.schedule(function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r}):new r.a(Object(f.a)(t))}(t,e);if(Object(i.a)(t))return function(t,e){return e?new r.a(function(n){var r=new u.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r}):new r.a(Object(l.a)(t))}(t,e);if(Object(o.a)(t))return Object(c.a)(t,e);if(function(t){return t&&"function"==typeof t[s.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return e?new r.a(function(n){var r,i=new u.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[s.a](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}}))})),i}):new r.a(Object(h.a)(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}n.d(e,"a",function(){return d})},function(t,e){t.exports=require("react-native-navigation")},function(t,e,n){"use strict";var r=Array.isArray,i=Object.keys,o=Object.prototype.hasOwnProperty;t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){var a,s,c,u=r(e),l=r(n);if(u&&l){if((s=e.length)!=n.length)return!1;for(a=s;0!=a--;)if(!t(e[a],n[a]))return!1;return!0}if(u!=l)return!1;var h=e instanceof Date,f=n instanceof Date;if(h!=f)return!1;if(h&&f)return e.getTime()==n.getTime();var p=e instanceof RegExp,d=n instanceof RegExp;if(p!=d)return!1;if(p&&d)return e.toString()==n.toString();var b=i(e);if((s=b.length)!==i(n).length)return!1;for(a=s;0!=a--;)if(!o.call(n,b[a]))return!1;for(a=s;0!=a--;)if(!t(e[c=b[a]],n[c]))return!1;return!0}return e!=e&&n!=n}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(41),i=n(11),o=n(2),a=n(3),s=n(16),c=n(79),u=n(80);class l{constructor(t){this.variables=t,this.dependencies=[]}resolve(t,e){return void 0!==e?this.resolveAttribute(t,e):this.resolveVariable(t)}getDependencies(){return this.dependencies.slice()}resolveVariable(t){if(!(t in this.variables))throw new o.a;const e=this.variables[t]();if(e instanceof i.MxObject)return this.addDependency({guid:e.getGuid()}),e.getGuid();if(Object(a.e)(i.MxObject,e)){const t=e.map(t=>t.getGuid());return t.forEach(t=>this.addDependency({guid:t})),t}return e}resolveAttribute(t,e){if(!(t in this.variables))throw new o.a;const n=this.variables[t]();if(void 0===n)throw new u.a(t);if(!(n instanceof i.MxObject))throw new o.a;if(!n.has(e))throw new c.a(t,n.getEntity(),e);return this.addDependency({guid:n.getGuid()}),this.addDependency({guid:n.getGuid(),attr:e}),Object(s.e)(n.get(e),n.getAttributeType(e))}addDependency(t){this.dependencies.find(e=>r(e,t))||this.dependencies.push(t)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});class r extends Error{constructor(t,e){super(e),this.status=t,Object.setPrototypeOf(this,r.prototype)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(5),i=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.a(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n(10).a)},function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return h});var r=n(5),i=n(9),o=n(10),a=n(15),s=n(32),c=n(75),u=n(42),l=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.a(e,t),e}(o.a),h=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.a(e,t),e.prototype[u.a]=function(){return new l(this)},e.prototype.lift=function(t){var e=new f(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),a.a.EMPTY):this.isStopped?(t.complete(),a.a.EMPTY):(this.observers.push(t),new c.a(this,t))},e.prototype.asObservable=function(){var t=new i.a;return t.source=this,t},e.create=function(t,e){return new f(t,e)},e}(i.a),f=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.a(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.a.EMPTY},e}(h)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});class r{constructor(t,e){this._guid=t,this._fields=e}getGuid(){return this._guid}getAttributes(){return Object.keys(this._fields).map(t=>({name:t,reason:this._fields[t]}))}getFields(){return this.getAttributes()}static describe(t){const e=[];for(let n=0;void 0!==t[n];n++){const r=t[n].getFields();for(let t=0;void 0!==r[t];t++)e.push(r[t].reason)}return e.join("\n")}addAttribute(t,e){return!(t in this._fields)&&(this._fields[t]=e,!0)}addField(...t){return this.addAttribute(...t)}removeAttribute(t){return t in this._fields&&(delete this._fields[t],!0)}removeField(...t){return this.removeAttribute(...t)}getErrorReason(t){return this._fields[t]}getReasonByAttribute(...t){return this.getErrorReason(...t)}clone(){return new r(this._guid,Object.assign({},this._fields))}toString(){return Object.keys(this._fields).map(t=>`${t} ${this._fields[t]}`).join("; ")}}r.fromResponse=function(t){return t.map(({guid:t,errorFields:e})=>{const n={};return e.forEach(({name:t,message:e})=>{n[t]=e}),new r(t,n)})}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(7);class i{constructor(t,e){this.expressionFunctions=t,this.expressionTokens=e}evaluate(t,e){switch(t.type){case"function":if(!this.expressionFunctions[t.name])throw new Error(`Function ${t.name} is not known`);const n=t.parameters.map(t=>this.evaluate(t,e));return this.expressionFunctions[t.name].apply(null,n);case"literal":return"number"==typeof t.value?new r(t.value):null===t.value?void 0:t.value;case"variable":return void 0!==t.path?e.resolve(t.variable,t.path):e.resolve(t.variable);case"conditional":return this.evaluate(t.condition,e)?this.evaluate(t.then,e):this.evaluate(t.else,e);case"token":if(!this.expressionTokens[t.name])throw new Error(`Token ${t.name} is not known`);return this.expressionTokens[t.name]()}}}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(7),i=n(3);const o={not:t=>!t,"=":(t,e)=>t instanceof r&&e instanceof r?t.eq(e):t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():"string"==typeof t||"string"==typeof e?(t||"")===(e||""):t instanceof Array&&e instanceof Array?t.length===e.length&&t.every(t=>e.indexOf(t)>-1):t instanceof Array&&void 0===e?0===t.length:void 0===t&&e instanceof Array?0===e.length:t===e,"!=":(t,e)=>!o["="](t,e),">"(t,e){if(t instanceof r&&e instanceof r)return t.gt(e);if(t instanceof Date&&e instanceof Date)return t.getTime()>e.getTime();if(void 0===t||void 0===e)throw new Error(a(">",t,e));return t>e},">=":(t,e)=>o["="](t,e)||o[">"](t,e),"<"(t,e){if(t instanceof r&&e instanceof r)return t.lt(e);if(t instanceof Date&&e instanceof Date)return t.getTime()<e.getTime();if(void 0===t||void 0===e)throw new Error(a("<",t,e));return t<e},"<=":(t,e)=>o["="](t,e)||o["<"](t,e),"+"(t,e){if(t instanceof r&&e instanceof r)return t.plus(e);if("string"==typeof t)return t+(void 0!==e?e.toString():"");if("string"==typeof e)return(void 0!==t?t.toString():"")+e;throw new Error(a("+",t,e))},"-"(t,e){if(1===arguments.length&&void 0!==t)return t.times(-1);if(void 0!==t&&void 0!==e)return t.minus(e);throw new Error(a("-",t,e))},"*"(t,e){if(void 0!==t&&void 0!==e)return t.times(e);throw new Error(a("*",t,e))},div(t,e){if(void 0!==t&&void 0!==e)return t.div(e);throw new Error(a("div",t,e))},mod(t,e){if(void 0!==t&&void 0!==e)return t.mod(e);throw new Error(a("mod",t,e))},":":(t,e)=>o.div(t,e),max(...t){if(t[0]instanceof r)return t.reduce((t,e)=>t.gt(e)?t:e);if(t[0]instanceof Date)return t.reduce((t,e)=>t.getTime()>e.getTime()?t:e);throw new Error(a("max",...t))},min(...t){if(t[0]instanceof r)return t.reduce((t,e)=>t.lt(e)?t:e);if(t[0]instanceof Date)return t.reduce((t,e)=>t.getTime()<e.getTime()?t:e);throw new Error(a("min",...t))},round(t,e){if(t instanceof r)return t.round(void 0===e?0:Number(e));throw new Error(a("round",t))},random:()=>new r(Math.random()),floor(t){if(t instanceof r){const e=t.mod(1);return e.eq(0)?t.eq(-0)?t.abs():t:t.minus(e).minus(t.lt(0)?1:0)}throw new Error(a("floor",t))},ceil(t){if(t instanceof r){const e=o.floor(t.times(-1));return e.eq(0)?e:e.times(-1)}throw new Error(a("ceil",t))},pow(t,e){if(t instanceof r&&e instanceof r)return t.pow(Number(e));throw new Error(a("pow",t))},abs(t){if(t instanceof r)return t.abs();throw new Error(a("abs",t))},parseInteger(t,e){if("string"==typeof t){if(/^-?\d+$/.test(t)){const e=r(t);return e.eq(-0)?e.abs():e}if(void 0===e)throw new Error(`Not parsable to Integer: ${t}`);return e}throw new Error(a("parseInteger",t))},parseDecimal(t,e){if("string"==typeof t){const n=mx.parser.parseValue(t,"Decimal");if(null===n&&void 0===e)throw new Error(`Not parsable to Decimal: ${t}`);return null===n?e:n}throw new Error(a("parseDecimal",t))},formatDecimal(t){if(t instanceof r)return mx.parser.formatValue(Number(t),"Decimal");throw new Error(a("formatDecimal",t))},isNew(t){if(void 0!==t)return mx.data.isNew(t);throw new Error(a("isNew",t))},isSynced(t){if(void 0!==t)return!mx.data.isDirty(t);throw new Error(a("isSynced",t))},toUpperCase:t=>s(t).toUpperCase(),toLowerCase:t=>s(t).toLowerCase(),trim:t=>s(t).trim(),contains:(t,e)=>s(t).indexOf(s(e))>-1,startsWith:(t,e)=>(t=s(t),e=s(e),t.substr(0,e.length)===e),endsWith:(t,e)=>(t=s(t),e=s(e),t.substr(t.length-e.length)===e),substring(t,e,n){if(t=s(t),n=n,void 0!==(e=e)&&e.gte(0)){if(2===arguments.length)return t.substr(Number(e));if(void 0!==n&&n.gte(0))return t.substr(Number(e),Number(n))}throw new Error(a("substring",t,e,n))},find(t,e,n){if(t=s(t),e=s(e),2===arguments.length)return new r(t.indexOf(e));if(void 0!==n)return new r(t.indexOf(e,Number(n)));throw new Error(a("find",t,e,n))},findLast(t,e,n){if(t=s(t),e=s(e),2===arguments.length)return new r(t.lastIndexOf(e));if(void 0!==n)return new r(t.lastIndexOf(e,Number(n)));throw new Error(a("findLast",t,e,n))},length:t=>new r(s(t).length),urlEncode:t=>encodeURIComponent(s(t)).replace("%20","+"),urlDecode:t=>decodeURIComponent(s(t).replace("+","%20")),isMatch(t,e){if(void 0!==e)return new RegExp(`^(${e})$`).test(s(t));throw new Error(a("isMatch",t,e))},replaceFirst(t,e,n){if(void 0!==e&&void 0!==n){const r=n.replace(/\$/g,"$$$$");return s(t).replace(new RegExp(e),r)}throw new Error(a("replaceFirst",t,e))},replaceAll(t,e,n){if(void 0!==e&&void 0!==n){const r=n.replace(/\$/g,"$$$$");return s(t).replace(new RegExp(e,"g"),r)}throw new Error(a("replaceAll",t,e))},_newList:()=>[],_toList(t){if(t instanceof Array)return t;if(Object(i.g)(t))return t.length>0?[t]:[];if(void 0===t)return[];throw new Error(a("_toList",t))},_addToList(t,e){if(t instanceof Array&&e instanceof Array)return t.concat(e.filter(e=>!t.includes(e)));if(t instanceof Array&&Object(i.g)(e))return t.includes(e)?t:t.concat([e]);if(t instanceof Array&&void 0===e)return t;if(void 0===t&&e instanceof Array)return e.slice(0);if(void 0===t&&Object(i.g)(e))return[e];if(void 0===t&&void 0===e)return[];throw new Error(a("_addToList",t,e))},_removeFromList(t,e){if(t instanceof Array&&e instanceof Array)return t.filter(t=>!e.includes(t));if(t instanceof Array&&Object(i.g)(e))return t.filter(t=>t!==e);if(t instanceof Array&&void 0===e)return t;if(void 0===t)return[];throw new Error(a("_removeFromList",t,e))},_hasSomeRole:(...t)=>mx.session.hasSomeRole(t)};function a(t,...e){return`Operator ${t} not supported in expression ${t}(${e.join(", ")})`}function s(t){return void 0===t?"":t}},function(t,e,n){"use strict";var r=n(6);var i=n(8);n.d(e,"a",function(){return a});const o={beginOfCurrentMinute:function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(t,e);return n.setSeconds(0,0),n},endOfCurrentMinute:function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(t,e);return n.setSeconds(59,999),n},beginOfCurrentHour:function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(t,e);return n.setMinutes(0,0,0),n},endOfCurrentHour:function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(t,e);return n.setMinutes(59,59,999),n},beginOfCurrentDay:function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(t,e);return n.setHours(0,0,0,0),n},endOfCurrentDay:function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(t,e);return n.setHours(23,59,59,999),n},beginOfCurrentWeek:function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=e||{},o=n.locale,a=o&&o.options&&o.options.weekStartsOn,s=null==a?0:Object(i.a)(a),c=null==n.weekStartsOn?s:Object(i.a)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Object(r.a)(t,n),l=u.getDay(),h=(l<c?7:0)+l-c;return u.setDate(u.getDate()-h),u.setHours(0,0,0,0),u},endOfCurrentWeek:function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=e||{},o=n.locale,a=o&&o.options&&o.options.weekStartsOn,s=null==a?0:Object(i.a)(a),c=null==n.weekStartsOn?s:Object(i.a)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Object(r.a)(t,n),l=u.getDay(),h=6+(l<c?-7:0)-(l-c);return u.setDate(u.getDate()+h),u.setHours(23,59,59,999),u},beginOfCurrentMonth:function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(t,e);return n.setDate(1),n.setHours(0,0,0,0),n},endOfCurrentMonth:function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(t,e),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n},beginOfCurrentYear:function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(t,e),i=new Date(0);return i.setFullYear(n.getFullYear(),0,1),i.setHours(0,0,0,0),i},endOfCurrentYear:function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(t,e),i=n.getFullYear();return n.setFullYear(i+1,0,0),n.setHours(23,59,59,999),n}};function a(t){const e={currentUser:()=>mx.session.getUserId(),currentDateTime:t};return Object.keys(o).forEach(n=>{const r=o[n];e[n]=(()=>r(t(),{weekStartsOn:mx.session.getConfig("locale.firstDayOfWeek")})),e[n+"UTC"]=(()=>(function(t){const e=new Date(t.getTime());return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e})(r(function(t){const e=new Date(t.getTime());return e.setMinutes(e.getMinutes()+e.getTimezoneOffset()),e}(t()))))}),e}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(22),i=n(33),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r,i=n(20);function o(){try{return r.apply(this,arguments)}catch(t){return i.a.e=t,i.a}}function a(t){return r=t,o}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=6e4;function i(t){var e=new Date(t.getTime()),n=e.getTimezoneOffset();e.setSeconds(0,0);var i=e.getTime()%r;return n*r+i}},function(t,e,n){"use strict";n.r(e);const r=n(139);class i{constructor(){this.__labels=[],this.__labelMap={},this.__graph=[]}addEdge(t,e){const n=this._getOrCreateLabelIndex(t),r=this._getOrCreateLabelIndex(e),i=this.__graph[n];i.includes(r)||i.push(r)}neighborsOf(t){const e=this._getOrCreateLabelIndex(t);return this.__graph[e].map(this._indexToLabel,this)}reachableLabels(t){const e=t.map(this._getOrCreateLabelIndex,this);return r.reachability(this.__graph,e).map(this._indexToLabel,this)}_indexToLabel(t){return this.__labels[t]}_getOrCreateLabelIndex(t){let e=t in this.__labelMap?this.__labelMap[t]:-1;return-1===e&&(this.__labels.push(t),this.__graph.push([]),e=this.__labels.length-1,this.__labelMap[t]=e),e}}function o(t,e){return s(t,e).reachableLabels(e)}function a(t,e,n){const r=h(t);return l(null!=n?function(t,e){const n=[];return t.forEach(t=>{e.forEach(e=>{if(!t.has(e.association))return;const r=window.mx.meta.getAttributeOwner(t.getEntity(),e.association),i=t.getSelectorEntity(e.association);e.fromEntity===r&&u(t,e.association).forEach(e=>n.push({from:t.getGuid(),to:e})),e.fromEntity===i&&u(t,e.association).forEach(e=>n.push({from:e,to:t.getGuid()}))})}),n}(t,n):c(t)).reachableLabels(e).filter(t=>r[t])}function s(t,e){const n=h(t=t.filter(t=>!t.isPersistable()||t.hasChanges()||t.isNew()));return l(c(t).filter(({from:t,to:e})=>r(t)&&r(e)));function r(t){return e.includes(t)||t in n}}function c(t){const e=[];return t.forEach(t=>{t.getReferenceAttributes().filter(t=>!function(t){return"System.owner"===t||"System.changedBy"===t}(t)).forEach(n=>{u(t,n).forEach(n=>e.push({from:n,to:t.getGuid()},{from:t.getGuid(),to:n}))})}),e}function u(t,e){return t.getReferences(e).concat(t.getOriginalReferences(e))}function l(t){const e=new i;return t.forEach(({from:t,to:n})=>e.addEdge(t,n)),e}function h(t){const e={};return t.forEach(t=>{e[t.getGuid()]=t}),e}n.d(e,"findReachableGuidsToRetain",function(){return o}),n.d(e,"findReachableGuidsForRequest",function(){return a}),n.d(e,"buildRetainmentGraph",function(){return s})},function(t,e,n){"use strict";n.r(e);var r=n(50),i=n(51),o=n(52),a=n(44);const s=new r.a(i.a,Object(o.a)(()=>new Date)),c=(t,e)=>{const n={};return e.all().forEach(t=>n[t]=(()=>e.get(t))),s.evaluate(t,new a.a(n))};var u=n(2);var l=n(11);var h=n(7),f=n(16);class p extends Error{constructor(t){super(t),Object.setPrototypeOf(this,p.prototype)}}function d(t){return new Promise((e,n)=>mx.data.commit({mxobjs:t,callback:e,error:n}))}function b(t){return new Promise((e,n)=>mx.data.rollback({mxobjs:t,callback:e,error:n}))}var g=n(12);var m=n(49);const y=Symbol("validations");n.d(e,"executors",function(){return v});const v=[new class{constructor(){this.instructionType="jump"}async execute(t,e){return{goto:t.target}}},new class{constructor(t){this.exprEvaluator=t,this.instructionType="switch"}async execute(t,e){const n=this.exprEvaluator(t.condition,e),r=void 0!==n?n.toString():"";if(!(r in t.targets))throw new u.a;return{goto:t.targets[r]}}}(c),new class{constructor(){this.instructionType="loop"}async execute(t,e){const n=e.get(t.listVar);if(!Array.isArray(n))throw new u.a;for(const r of n)if(e.set(t.iteratorVar,r),await e.executeNanoflow(t.body))break}},new class{constructor(t){this.evaluateExp=t,this.instructionType="return"}async execute(t,e){const n=this.evaluateExp(t.result,e);switch(t.resultKind){case"primitive":return{result:n};case"list":return{result:Array.isArray(n)?e.mapGuidsToObjects(n):[]};case"object":return{result:"string"==typeof n?e.mapGuidsToObjects([n])[0]:void 0}}}}(c),new class{constructor(){this.instructionType="createObject"}async execute(t,e){const n=await new Promise((e,n)=>mx.data.create({entity:t.objectType,callback:e,error:n}));e.set(t.outputVar,n)}},new class{constructor(t){this.evaluateExp=t,this.instructionType="changeObject"}async execute(t,e){const n=e.get(t.inputVar);if(void 0===n)throw new p(`Cannot change $${t.inputVar} as it is empty`);if(!(n instanceof l.MxObject))throw new u.a;const r=this.evaluateExp(t.value,e);let i=Object(f.c)(r);i instanceof h&&(i=i.round(8)),n.set(t.member,i)}}(c),new class{constructor(){this.instructionType="commitObjects"}async execute(t,e){const n=e.get(t.inputVar);if(n instanceof l.MxObject)await d([n]);else{if(!Array.isArray(n))throw void 0===n?new p(`Cannot commit $${t.inputVar} as it is empty`):new u.a;await d(n)}}},new class{constructor(){this.instructionType="rollbackObjects"}async execute(t,e){const n=e.get(t.inputVar);if(n instanceof l.MxObject)await b([n]);else{if(!Array.isArray(n))throw void 0===n?new p(`Cannot rollback $${t.inputVar} as it is empty`):new u.a;await b(n)}}},new class{constructor(t){this.evaluateExp=t,this.instructionType="setVariable"}async execute(t,e){const n=this.evaluateExp(t.value,e);if(Array.isArray(n)){const r=e.mapGuidsToObjects(n);e.set(t.outputVar,r)}else e.set(t.outputVar,n)}}(c),new class{constructor(){this.instructionType="openForm"}async execute(t,e){const n=t.inputVar?e.get(t.inputVar):void 0;await mx.ui.openForm2(t.path,n?n.getGuid():void 0,t.title,e.currentForm,t.params)}},new class{constructor(){this.instructionType="closeForm"}async execute(t,e){await Object(g.a)(e.currentForm,"close")}},new class{constructor(t){this.evaluateExp=t,this.instructionType="showValidation"}async execute(t,e){const n=e.get(t.inputVar);if(void 0===n)throw new p(`Cannot refresh $${t.inputVar} as it is empty`);if(!(n instanceof l.MxObject))throw new u.a;const r=this.evaluateExp(t.text,e),i=void 0===r?"":r,o=function(t,e){const n=t[y]||(t[y]={});return n[e]||(n[e]={})}(e,n.getGuid());o[t.member]=i;const a=new m.a(n.getGuid(),o);mx.data.sendValidationUpdates([a])}}(c),new class{constructor(t){this.evaluateExp=t,this.instructionType="databaseRetrieve"}async execute(t,e){const{entity:n,limitExpr:r,offsetExpr:i,takeFirst:o,sort:a,outputVar:s}=t,c=r?this.evaluateExp(r,e):void 0,u=i?this.evaluateExp(i,e):void 0,l=await function(t,e){return new Promise((n,r)=>{mx.data.get({entity:t,filter:e,callback:n,error:r})})}(n,{offset:u?Number(u):void 0,amount:c?Number(c):void 0,sort:a});e.set(s,o?l[0]:l)}}(c),new class{constructor(){this.instructionType="associationRetrieve"}async execute(t,e){const{inputVar:n,association:r,entity:i,retrieveSingleObject:o,direction:a,outputVar:s}=t,c=e.get(n);if(void 0===c)return void e.set(s,o?void 0:[]);if(!(c instanceof l.MxObject))throw new u.a;const h=await function(t,e,n,r){return new Promise((i,o)=>{mx.data.get({guid:t.getGuid(),path:e,entity:n,direction:r,callback:i,error:o})})}(c,r,i,a);e.set(s,o?h[0]:h)}},new class{constructor(t){this.evaluateExp=t,this.instructionType="writeLog"}async execute(t,e){const n=this.evaluateExp(t.message,e);mx.logger.log(t.level,n)}}(c),new class{constructor(t){this.evaluateExp=t,this.instructionType="javaScriptActionCall"}async execute(t,e){const n=t.parameters.map(({kind:t,value:n})=>{const r=this.evaluateExp(n,e);if(void 0===r)return"list"===t?[]:void 0;switch(t){case"object":return e.mapGuidsToObjects([r])[0];case"list":return e.mapGuidsToObjects(r);default:return r}}),r=await mx.ui.getJavaScriptAction(t.name),i=await r(...n);t.outputVar&&e.set(t.outputVar,i)}}(c),new class{constructor(){this.instructionType="synchronize"}async execute(t,e){await Object(g.a)(mx.data,"synchronizeOffline",{fast:!1})}}]},function(t,e,n){"use strict";n.r(e);var r=n(2),i=n(11),o=n(17),a=n(3);class s{constructor(t,e){this.currentForm=t,this.executeNanoflow=e,this.map={},this.subscriptions=[]}set(t,e){this.map[t]=e,e instanceof i.MxObject?this.subscriptions.push(Object(o.d)({guid:e.getGuid()})):Array.isArray(e)&&this.subscriptions.push(...e.map(t=>Object(o.d)({guid:t.getGuid()})))}get(t){if(!(t in this.map))throw new r.a;const e=this.map[t];return e instanceof i.MxObject&&e.isUnavailable()?void 0:Array.isArray(e)?e.filter(t=>!t.isUnavailable()):e}all(){return Object.keys(this.map)}mapGuidsToObjects(t){const e={};return this.all().map(t=>this.get(t)).map(t=>t instanceof i.MxObject?[t]:Array.isArray(t)?t:[]).reduce((t,e)=>t.concat(e),[]).forEach(t=>{e[t.getGuid()]=t}),t.map(t=>Object(a.c)(e[t]))}destroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.subscriptions.splice(0)}}n.d(e,"NanoflowEngine",function(){return c});class c{constructor(t){this.executors=t}async execute(t,e,n){const r=new s(n,t=>this.executeWithScope(t,r));try{return e.forEach(({name:t,value:e})=>r.set(t,e)),await this.executeWithScope(t,r)}finally{r.destroy()}}async executeWithScope(t,e){let n=0;for(;n<t.length;){const o=t[n],a=this.executors.find(t=>t.instructionType===o.type);if(void 0===a)throw new r.a;const s=await a.execute(o,e);if(void 0!==(i=s)&&"object"==typeof i&&"goto"in i){if(-1===(n=t.findIndex(t=>t.label===s.goto)))throw new r.a}else{if(u(s))return s.result;n++}}var i;throw new r.a}}function u(t){return void 0!==t&&"object"==typeof t&&"result"in t}},function(t,e,n){"use strict";(function(t,r){n.d(e,"b",function(){return S}),n.d(e,"c",function(){return W}),n.d(e,"a",function(){return Pt});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};var o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function a(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function s(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var c="An invariant failed, however the error is obfuscated because this is an production build.",u=[];Object.freeze(u);var l={};function h(){return++bt.mobxGuid}function f(t){throw p(!1,t),"X"}function p(t,e){if(!t)throw new Error("[mobx] "+(e||c))}Object.freeze(l);function d(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var b=function(){};function g(t){return null!==t&&"object"==typeof t}function m(t){if(null===t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function y(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function v(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(t){return g(t)&&!0===t[n]}}function w(t){return t instanceof Map}function O(t){return null===t?null:"object"==typeof t?""+t:t}var j=Symbol("mobx administration"),_=function(){function t(t){void 0===t&&(t="Atom@"+h()),this.name=t,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=X.NOT_TRACKING}return t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(t){return t()})},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(t){return t()})},t.prototype.reportObserved=function(){return jt(this)},t.prototype.reportChanged=function(){wt(),function(t){if(t.lowestObserverState===X.STALE)return;t.lowestObserverState=X.STALE,t.observers.forEach(function(e){e.dependenciesState===X.UP_TO_DATE&&(e.isTracing!==Z.NONE&&_t(e,t),e.onBecomeStale()),e.dependenciesState=X.STALE})}(this),Ot()},t.prototype.toString=function(){return this.name},t}(),x=v("Atom",_);function E(t,e,n){void 0===e&&(e=b),void 0===n&&(n=b);var r,i=new _(t);return e!==b&&Vt("onBecomeObserved",i,e,r),n!==b&&function(t,e,n){Vt("onBecomeUnobserved",t,e,n)}(i,n),i}var S={identity:function(t,e){return t===e},structural:function(t,e){return ye(t,e)},default:function(t,e){return Object.is(t,e)}},T=Symbol("mobx did run lazy initializers"),C=Symbol("mobx pending decorators"),D={},k={};function A(t){if(!0!==t[T]){var e=t[C];if(e)for(var n in y(t,T,!0),e){var r=e[n];r.propertyCreator(t,r.prop,r.descriptor,r.decoratorTarget,r.decoratorArguments)}}}function P(t,e){return function(){var n,r,i=function(r,i,a,s){if(!0===s)return e(r,i,a,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,C)){var c=r[C];y(r,C,o({},c))}return r[C][i]={prop:i,propertyCreator:e,descriptor:a,decoratorTarget:r,decoratorArguments:n},function(t,e){var n=e?D:k;return n[t]||(n[t]={configurable:!0,enumerable:e,get:function(){return A(this),this[t]},set:function(e){A(this),this[t]=e}})}(i,t)};return(2===(r=arguments).length||3===r.length)&&"string"==typeof r[1]||4===r.length&&!0===r[3]?(n=u,i.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),i)}}function M(t,e,n){return Lt(t)?t:Array.isArray(t)?W.array(t,{name:n}):m(t)?W.object(t,void 0,{name:n}):w(t)?W.map(t,{name:n}):t}function N(t){return t}function I(e){p(e);var n=P(!0,function(t,n,r,i,o){var a=r?r.initializer?r.initializer.call(t):r.value:void 0;ue(t).addObservableProp(n,a,e)}),r=(void 0!==t&&t.env,n);return r.enhancer=e,r}var R={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function V(t){return null==t?R:"string"==typeof t?{name:t,deep:!0,proxy:!0}:t}Object.freeze(R);var F=I(M),$=I(function(t,e,n){return null==t?t:de(t)||ie(t)||se(t)?t:Array.isArray(t)?W.array(t,{name:n,deep:!1}):m(t)?W.object(t,void 0,{name:n,deep:!1}):w(t)?W.map(t,{name:n,deep:!1}):f(!1)}),B=I(N),U=I(function(t,e,n){return ye(t,e)?e:t});function G(t){return t.defaultDecorator?t.defaultDecorator.enhancer:!1===t.deep?N:M}var L={box:function(t,e){arguments.length>2&&q("box");var n=V(e);return new tt(t,G(n),n.name)},array:function(t,e){arguments.length>2&&q("array");var n=V(e);return function(t,e,n,r){void 0===n&&(n="ObservableArray@"+h());void 0===r&&(r=!1);var i=new te(n,e,r);o=i.values,a=j,s=i,Object.defineProperty(o,a,{enumerable:!1,writable:!1,configurable:!0,value:s});var o,a,s;var c=new Proxy(i.values,Zt);if(i.proxy=c,t&&t.length){var u=J(!0);i.spliceWithArray(0,0,t),K(u)}return c}(t,G(n),n.name)},map:function(t,e){arguments.length>2&&q("map");var n=V(e);return new ae(t,G(n),n.name)},object:function(t,e,n){"string"==typeof arguments[1]&&q("object");var r=V(n);if(!1===r.proxy)return Ft({},t,e,r);var i=$t(r),o=function(t){var e=new Proxy(t,zt);return t[j].proxy=e,e}(Ft({},void 0,void 0,r));return Bt(o,t,e,i),o},ref:B,shallow:$,deep:F,struct:U},W=function(t,e,n){if("string"==typeof arguments[1])return F.apply(null,arguments);if(Lt(t))return t;var r=m(t)?W.object(t,e,n):Array.isArray(t)?W.array(t,e):w(t)?W.map(t,e):t;if(r!==t)return r;f(!1)};function q(t){f("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}Object.keys(L).forEach(function(t){return W[t]=L[t]});var z=P(!1,function(t,e,n,r,i){var a=n.get,s=n.set,c=i[0]||{};ue(t).addComputedProp(t,e,o({get:a,set:s,context:t},c))});z({equals:S.structural});function H(t,e){var n=function(){return Y(t,e,this,arguments)};return n.isMobxAction=!0,n}function Y(t,e,n,r){var i=function(t,e,n,r){var i=!1,o=0;var a=ut();wt();var s=J(!0);return{prevDerivation:a,prevAllowStateChanges:s,notifySpy:i,startTime:o}}();try{return e.apply(n,r)}finally{!function(t){K(t.prevAllowStateChanges),Ot(),lt(t.prevDerivation),t.notifySpy,0}(i)}}function J(t){var e=bt.allowStateChanges;return bt.allowStateChanges=t,e}function K(t){bt.allowStateChanges=t}var X,Q,Z,tt=function(t){function e(e,n,r,i){void 0===r&&(r="ObservableValue@"+h()),void 0===i&&(i=!0);var o=t.call(this,r)||this;return o.enhancer=n,o.hasUnreportedChange=!1,o.value=n(e,void 0,r),o}return function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.prototype.set=function(t){this.value;if((t=this.prepareNewValue(t))!==bt.UNCHANGED){0,this.setNewValue(t)}},e.prototype.prepareNewValue=function(t){if(at(this),Ht(this)){var e=Jt(this,{object:this,type:"update",newValue:t});if(!e)return bt.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value,this.name),this.value!==t?t:bt.UNCHANGED},e.prototype.setNewValue=function(t){var e=this.value;this.value=t,this.reportChanged(),Kt(this)&&Qt(this,{type:"update",object:this,newValue:t,oldValue:e})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(t){return Yt(this,t)},e.prototype.observe=function(t,e){return e&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),Xt(this,t)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return O(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(_),et=(v("ObservableValue",tt),function(){function t(t){this.dependenciesState=X.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=X.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+h(),this.value=new rt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Z.NONE,this.derivation=t.get,this.name=t.name||"ComputedValue@"+h(),t.set&&(this.setter=H(this.name+"-setter",t.set)),this.equals=t.equals||(t.compareStructural||t.struct?S.structural:S.default),this.scope=t.context,this.requiresReaction=!!t.requiresReaction,this.keepAlive=!!t.keepAlive}return t.prototype.onBecomeStale=function(){!function(t){if(t.lowestObserverState!==X.UP_TO_DATE)return;t.lowestObserverState=X.POSSIBLY_STALE,t.observers.forEach(function(e){e.dependenciesState===X.UP_TO_DATE&&(e.dependenciesState=X.POSSIBLY_STALE,e.isTracing!==Z.NONE&&_t(e,t),e.onBecomeStale())})}(this)},t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(t){return t()})},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(t){return t()})},t.prototype.get=function(){this.isComputing&&f("Cycle detected in computation "+this.name+": "+this.derivation),0!==bt.inBatch||0!==this.observers.size||this.keepAlive?(jt(this),ot(this)&&this.trackAndCompute()&&function(t){if(t.lowestObserverState===X.STALE)return;t.lowestObserverState=X.STALE,t.observers.forEach(function(e){e.dependenciesState===X.POSSIBLY_STALE?e.dependenciesState=X.STALE:e.dependenciesState===X.UP_TO_DATE&&(t.lowestObserverState=X.UP_TO_DATE)})}(this)):ot(this)&&(this.warnAboutUntrackedRead(),wt(),this.value=this.computeValue(!1),Ot());var t=this.value;if(it(t))throw t.cause;return t},t.prototype.peek=function(){var t=this.computeValue(!1);if(it(t))throw t.cause;return t},t.prototype.set=function(t){if(this.setter){p(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else p(!1,!1)},t.prototype.trackAndCompute=function(){var t=this.value,e=this.dependenciesState===X.NOT_TRACKING,n=this.computeValue(!0),r=e||it(t)||it(n)||!this.equals(t,n);return r&&(this.value=n),r},t.prototype.computeValue=function(t){var e;if(this.isComputing=!0,bt.computationDepth++,t)e=st(this,this.derivation,this.scope);else if(!0===bt.disableErrorBoundaries)e=this.derivation.call(this.scope);else try{e=this.derivation.call(this.scope)}catch(t){e=new rt(t)}return bt.computationDepth--,this.isComputing=!1,e},t.prototype.suspend=function(){this.keepAlive||(ct(this),this.value=void 0)},t.prototype.observe=function(t,e){var n=this,r=!0,i=void 0;return Nt(function(){var o=n.get();if(!r||e){var a=ut();t({type:"update",object:n,newValue:o,oldValue:i}),lt(a)}r=!1,i=o})},t.prototype.warnAboutUntrackedRead=function(){},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return O(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}()),nt=v("ComputedValue",et);(Q=X||(X={}))[Q.NOT_TRACKING=-1]="NOT_TRACKING",Q[Q.UP_TO_DATE=0]="UP_TO_DATE",Q[Q.POSSIBLY_STALE=1]="POSSIBLY_STALE",Q[Q.STALE=2]="STALE",function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(Z||(Z={}));var rt=function(){return function(t){this.cause=t}}();function it(t){return t instanceof rt}function ot(t){switch(t.dependenciesState){case X.UP_TO_DATE:return!1;case X.NOT_TRACKING:case X.STALE:return!0;case X.POSSIBLY_STALE:for(var e=ut(),n=t.observing,r=n.length,i=0;i<r;i++){var o=n[i];if(nt(o)){if(bt.disableErrorBoundaries)o.get();else try{o.get()}catch(t){return lt(e),!0}if(t.dependenciesState===X.STALE)return lt(e),!0}}return ht(t),lt(e),!1}}function at(t){var e=t.observers.size>0;bt.computationDepth>0&&e&&f(!1),bt.allowStateChanges||!e&&"strict"!==bt.enforceActions||f(!1)}function st(t,e,n){ht(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++bt.runId;var r,i=bt.trackingDerivation;if(bt.trackingDerivation=t,!0===bt.disableErrorBoundaries)r=e.call(n);else try{r=e.call(n)}catch(t){r=new rt(t)}return bt.trackingDerivation=i,function(t){for(var e=t.observing,n=t.observing=t.newObserving,r=X.UP_TO_DATE,i=0,o=t.unboundDepsCount,a=0;a<o;a++){var s=n[a];0===s.diffValue&&(s.diffValue=1,i!==a&&(n[i]=s),i++),s.dependenciesState>r&&(r=s.dependenciesState)}n.length=i,t.newObserving=null,o=e.length;for(;o--;){var s=e[o];0===s.diffValue&&yt(s,t),s.diffValue=0}for(;i--;){var s=n[i];1===s.diffValue&&(s.diffValue=0,mt(s,t))}r!==X.UP_TO_DATE&&(t.dependenciesState=r,t.onBecomeStale())}(t),r}function ct(t){var e=t.observing;t.observing=[];for(var n=e.length;n--;)yt(e[n],t);t.dependenciesState=X.NOT_TRACKING}function ut(){var t=bt.trackingDerivation;return bt.trackingDerivation=null,t}function lt(t){bt.trackingDerivation=t}function ht(t){if(t.dependenciesState!==X.UP_TO_DATE){t.dependenciesState=X.UP_TO_DATE;for(var e=t.observing,n=e.length;n--;)e[n].lowestObserverState=X.UP_TO_DATE}}var ft=function(){return function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.disableErrorBoundaries=!1}}(),pt=!0,dt=!1,bt=function(){var t=gt();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(pt=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new ft).version&&(pt=!1),pt?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new ft):(setTimeout(function(){dt||f("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new ft)}();function gt(){return"undefined"!=typeof window?window:r}function mt(t,e){t.observers.add(e),t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function yt(t,e){t.observers.delete(e),0===t.observers.size&&vt(t)}function vt(t){!1===t.isPendingUnobservation&&(t.isPendingUnobservation=!0,bt.pendingUnobservations.push(t))}function wt(){bt.inBatch++}function Ot(){if(0==--bt.inBatch){Tt();for(var t=bt.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof et&&n.suspend())}bt.pendingUnobservations=[]}}function jt(t){var e=bt.trackingDerivation;return null!==e?(e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(0===t.observers.size&&bt.inBatch>0&&vt(t),!1)}function _t(t,e){if(console.log("[mobx.trace] '"+t.name+"' is invalidated due to a change in: '"+e.name+"'"),t.isTracing===Z.BREAK){var n=[];!function t(e,n,r){if(n.length>=1e3)return void n.push("(and many more)");n.push(""+new Array(r).join("\t")+e.name);e.dependencies&&e.dependencies.forEach(function(e){return t(e,n,r+1)})}((r=t,Ut(be(r,i))),n,1),new Function("debugger;\n/*\nTracing '"+t.name+"'\n\nYou are entering this break point because derivation '"+t.name+"' is being traced and '"+e.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof et?t.derivation.toString():"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}var r,i}var xt=function(){function t(t,e,n){void 0===t&&(t="Reaction@"+h()),this.name=t,this.onInvalidate=e,this.errorHandler=n,this.observing=[],this.newObserving=[],this.dependenciesState=X.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+h(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Z.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,bt.pendingReactions.push(this),Tt())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){if(!this.isDisposed){if(wt(),this._isScheduled=!1,ot(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(t){this.reportExceptionInDerivation(t)}}Ot()}},t.prototype.track=function(t){wt();this._isRunning=!0;var e=st(this,t,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ct(this),it(e)&&this.reportExceptionInDerivation(e.cause),Ot()},t.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler)this.errorHandler(t,this);else{if(bt.disableErrorBoundaries)throw t;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this;console.error(n,t),bt.globalReactionErrorHandlers.forEach(function(n){return n(t,e)})}},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(wt(),ct(this),Ot()))},t.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t[j]=this,t},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.trace=function(t){void 0===t&&(t=!1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!1;"boolean"==typeof t[t.length-1]&&(n=t.pop());var r=function(t){switch(t.length){case 0:return bt.trackingDerivation;case 1:return be(t[0]);case 2:return be(t[0],t[1])}}(t);if(!r)return f(!1);r.isTracing===Z.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled");r.isTracing=n?Z.BREAK:Z.LOG}(this,t)},t}();var Et=100,St=function(t){return t()};function Tt(){bt.inBatch>0||bt.isRunningReactions||St(Ct)}function Ct(){bt.isRunningReactions=!0;for(var t=bt.pendingReactions,e=0;t.length>0;){++e===Et&&(console.error("Reaction doesn't converge to a stable state after "+Et+" iterations. Probably there is a cycle in the reactive function: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction()}bt.isRunningReactions=!1}var Dt=v("Reaction",xt);function kt(){f(!1)}function At(t){return function(e,n,r){if(r){if(r.value)return{value:H(t,r.value),enumerable:!1,configurable:!0,writable:!0};var i=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return H(t,i.call(this))}}}return function(t){return function(e,n,r){Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:function(){},set:function(e){y(this,n,Pt(t,e))}})}}(t).apply(this,arguments)}}var Pt=function(t,e,n,r){return 1===arguments.length&&"function"==typeof t?H(t.name||"<unnamed action>",t):2===arguments.length&&"function"==typeof e?H(t,e):1===arguments.length&&"string"==typeof t?At(t):!0!==r?At(e).apply(null,arguments):void y(t,e,H(t.name||e,n.value))};function Mt(t,e,n){y(t,e,H(e,n.bind(t)))}function Nt(t,e){void 0===e&&(e=l);var n,r=e&&e.name||t.name||"Autorun@"+h();if(!e.scheduler&&!e.delay)n=new xt(r,function(){this.track(a)},e.onError);else{var i=Rt(e),o=!1;n=new xt(r,function(){o||(o=!0,i(function(){o=!1,n.isDisposed||n.track(a)}))},e.onError)}function a(){t(n)}return n.schedule(),n.getDisposer()}Pt.bound=function(t,e,n,r){return!0===r?(Mt(t,e,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return Mt(this,e,n.value||n.initializer.call(this)),this[e]},set:kt}:{enumerable:!1,configurable:!0,set:function(t){Mt(this,e,t)},get:function(){}}};var It=function(t){return t()};function Rt(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:It}function Vt(t,e,n,r){var i="string"==typeof n?be(e,n):be(e),o="string"==typeof n?r:n,a=t+"Listeners";return i[a]?i[a].add(o):i[a]=new Set([o]),"function"!=typeof i[t]?f(!1):function(){var t=i[a];t&&(t.delete(o),0===t.size&&delete i[a])}}function Ft(t,e,n,r){var i=$t(r=V(r));return A(t),ue(t,r.name,i.enhancer),e&&Bt(t,e,n,i),t}function $t(t){return t.defaultDecorator||(!1===t.deep?B:F)}function Bt(t,e,n,r){wt();try{for(var i in e){var o=Object.getOwnPropertyDescriptor(e,i);0;var a=(n&&i in n?n[i]:o.get?z:r)(t,i,o,!0);a&&Object.defineProperty(t,i,a)}}finally{Ot()}}function Ut(t){var e,n,r={name:t.name};return t.observing&&t.observing.length>0&&(r.dependencies=(e=t.observing,n=[],e.forEach(function(t){-1===n.indexOf(t)&&n.push(t)}),n).map(Ut)),r}function Gt(t,e){return null!=t&&(void 0!==e?!!de(t)&&t[j].values.has(e):de(t)||!!t[j]||x(t)||Dt(t)||nt(t))}function Lt(t){return 1!==arguments.length&&f(!1),Gt(t)}function Wt(t,e){void 0===e&&(e=void 0),wt();try{return t.apply(e)}finally{Ot()}}function qt(t){return t[j]}var zt={has:function(t,e){if(e===j||"constructor"===e||e===T)return!0;var n=qt(t);return"string"==typeof e?n.has(e):e in t},get:function(t,e){if(e===j||"constructor"===e||e===T)return t[e];var n=qt(t),r=n.values.get(e);if(r instanceof _){var i=r.get();return void 0===i&&n.has(e),i}return"string"==typeof e&&n.has(e),t[e]},set:function(t,e,n){return"string"==typeof e&&(function t(e,n,r){if(2!==arguments.length)if(de(e)){var i=e[j];i.values.get(n)?i.write(n,r):i.addObservableProp(n,r,i.defaultEnhancer)}else if(se(e))e.set(n,r);else{if(!ie(e))return f(!1);"number"!=typeof n&&(n=parseInt(n,10)),p(n>=0,"Not a valid index: '"+n+"'"),wt(),n>=e.length&&(e.length=n+1),e[n]=r,Ot()}else{wt();var o=n;try{for(var a in o)t(e,a,o[a])}finally{Ot()}}}(t,e,n),!0)},deleteProperty:function(t,e){return"string"==typeof e&&(qt(t).remove(e),!0)},ownKeys:function(t){return qt(t).keysAtom.reportObserved(),Reflect.ownKeys(t)},preventExtensions:function(t){return f("Dynamic observable objects cannot be frozen"),!1}};function Ht(t){return void 0!==t.interceptors&&t.interceptors.length>0}function Yt(t,e){var n=t.interceptors||(t.interceptors=[]);return n.push(e),d(function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)})}function Jt(t,e){var n=ut();try{var r=t.interceptors;if(r)for(var i=0,o=r.length;i<o&&(p(!(e=r[i](e))||e.type,"Intercept handlers should return nothing or a change object"),e);i++);return e}finally{lt(n)}}function Kt(t){return void 0!==t.changeListeners&&t.changeListeners.length>0}function Xt(t,e){var n=t.changeListeners||(t.changeListeners=[]);return n.push(e),d(function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)})}function Qt(t,e){var n=ut(),r=t.changeListeners;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](e);lt(n)}}var Zt={get:function(t,e){return e===j?t[j]:"length"===e?t[j].getArrayLength():"number"==typeof e?ee.get.call(t,e):"string"!=typeof e||isNaN(e)?ee.hasOwnProperty(e)?ee[e]:t[e]:ee.get.call(t,parseInt(e))},set:function(t,e,n){return"length"===e?(t[j].setArrayLength(n),!0):"number"==typeof e?(ee.set.call(t,e,n),!0):!isNaN(e)&&(ee.set.call(t,parseInt(e),n),!0)},preventExtensions:function(t){return f("Observable arrays cannot be frozen"),!1}};var te=function(){function t(t,e,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new _(t||"ObservableArray@"+h()),this.enhancer=function(n,r){return e(n,r,t+"[..]")}}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.dehanceValues=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.prototype.intercept=function(t){return Yt(this,t)},t.prototype.observe=function(t,e){return void 0===e&&(e=!1),e&&t({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Xt(this,t)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(t){if("number"!=typeof t||t<0)throw new Error("[mobx.array] Out of range: "+t);var e=this.values.length;if(t!==e)if(t>e){for(var n=new Array(t-e),r=0;r<t-e;r++)n[r]=void 0;this.spliceWithArray(e,0,n)}else this.spliceWithArray(t,e-t)},t.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=e},t.prototype.spliceWithArray=function(t,e,n){var r=this;at(this.atom);var i=this.values.length;if(void 0===t?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),e=1===arguments.length?i-t:null==e?0:Math.max(0,Math.min(e,i-t)),void 0===n&&(n=u),Ht(this)){var o=Jt(this,{object:this.proxy,type:"splice",index:t,removedCount:e,added:n});if(!o)return u;e=o.removedCount,n=o.added}n=0===n.length?n:n.map(function(t){return r.enhancer(t,void 0)});var a=this.spliceItemsIntoValues(t,e,n);return 0===e&&0===n.length||this.notifyArraySplice(t,n,a),this.dehanceValues(a)},t.prototype.spliceItemsIntoValues=function(t,e,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}([t,e],n));var i=this.values.slice(t,t+e);return this.values=this.values.slice(0,t).concat(n,this.values.slice(t+e)),i},t.prototype.notifyArrayChildUpdate=function(t,e,n){var r=!this.owned&&!1,i=Kt(this),o=i||r?{object:this.proxy,type:"update",index:t,newValue:e,oldValue:n}:null;this.atom.reportChanged(),i&&Qt(this,o)},t.prototype.notifyArraySplice=function(t,e,n){var r=!this.owned&&!1,i=Kt(this),o=i||r?{object:this.proxy,type:"splice",index:t,removed:n,added:e,removedCount:n.length,addedCount:e.length}:null;this.atom.reportChanged(),i&&Qt(this,o)},t}(),ee={intercept:function(t){return this[j].intercept(t)},observe:function(t,e){return void 0===e&&(e=!1),this[j].observe(t,e)},clear:function(){return this.splice(0)},replace:function(t){var e=this[j];return e.spliceWithArray(0,e.values.length,t)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=this[j];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray(t);case 2:return i.spliceWithArray(t,e)}return i.spliceWithArray(t,e,n)},spliceWithArray:function(t,e,n){return this[j].spliceWithArray(t,e,n)},push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[j];return n.spliceWithArray(n.values.length,0,t),n.values.length},pop:function(){return this.splice(Math.max(this[j].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[j];return n.spliceWithArray(0,0,t),n.values.length},reverse:function(){var t=this.slice();return t.reverse.apply(t,arguments)},sort:function(t){var e=this.slice();return e.sort.apply(e,arguments)},remove:function(t){var e=this[j],n=e.dehanceValues(e.values).indexOf(t);return n>-1&&(this.splice(n,1),!0)},get:function(t){var e=this[j];if(e){if(t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+e.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(t,e){var n=this[j],r=n.values;if(t<r.length){at(n.atom);var i=r[t];if(Ht(n)){var o=Jt(n,{type:"update",object:this,index:t,newValue:e});if(!o)return;e=o.newValue}(e=n.enhancer(e,i))!==i&&(r[t]=e,n.notifyArrayChildUpdate(t,e,i))}else{if(t!==r.length)throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+r.length);n.spliceWithArray(t,0,[e])}}};["concat","every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(t){ee[t]=function(){var e=this[j];e.atom.reportObserved();var n=e.dehanceValues(e.values);return n[t].apply(n,arguments)}});var ne,re=v("ObservableArrayAdministration",te);function ie(t){return g(t)&&re(t[j])}var oe={},ae=function(){function t(t,e,n){if(void 0===e&&(e=M),void 0===n&&(n="ObservableMap@"+h()),this.enhancer=e,this.name=n,this[ne]=oe,this._keysAtom=E(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(t)}return t.prototype._has=function(t){return this._data.has(t)},t.prototype.has=function(t){return this._hasMap.has(t)?this._hasMap.get(t).get():this._updateHasMapEntry(t,!1).get()},t.prototype.set=function(t,e){var n=this._has(t);if(Ht(this)){var r=Jt(this,{type:n?"update":"add",object:this,newValue:e,name:t});if(!r)return this;e=r.newValue}return n?this._updateValue(t,e):this._addValue(t,e),this},t.prototype.delete=function(t){var e=this;if(Ht(this)&&!(r=Jt(this,{type:"delete",object:this,name:t})))return!1;if(this._has(t)){var n=Kt(this),r=n?{type:"delete",object:this,oldValue:this._data.get(t).value,name:t}:null;return Wt(function(){e._keysAtom.reportChanged(),e._updateHasMapEntry(t,!1),e._data.get(t).setNewValue(void 0),e._data.delete(t)}),n&&Qt(this,r),!0}return!1},t.prototype._updateHasMapEntry=function(t,e){var n=this._hasMap.get(t);return n?n.setNewValue(e):(n=new tt(e,N,this.name+"."+t+"?",!1),this._hasMap.set(t,n)),n},t.prototype._updateValue=function(t,e){var n=this._data.get(t);if((e=n.prepareNewValue(e))!==bt.UNCHANGED){var r=Kt(this),i=r?{type:"update",object:this,oldValue:n.value,name:t,newValue:e}:null;0,n.setNewValue(e),r&&Qt(this,i)}},t.prototype._addValue=function(t,e){var n=this;at(this._keysAtom),Wt(function(){var r=new tt(e,n.enhancer,n.name+"."+t,!1);n._data.set(t,r),e=r.value,n._updateHasMapEntry(t,!0),n._keysAtom.reportChanged()});var r=Kt(this),i=r?{type:"add",object:this,name:t,newValue:e}:null;r&&Qt(this,i)},t.prototype.get=function(t){return this.has(t)?this.dehanceValue(this._data.get(t).get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},t.prototype.values=function(){var t=this,e=0,n=Array.from(this.keys());return je({next:function(){return e<n.length?{value:t.get(n[e++]),done:!1}:{done:!0}}})},t.prototype.entries=function(){var t=this,e=0,n=Array.from(this.keys());return je({next:function(){if(e<n.length){var r=n[e++];return{value:[r,t.get(r)],done:!1}}return{done:!0}}})},t.prototype[(ne=j,Symbol.iterator)]=function(){return this.entries()},t.prototype.forEach=function(t,e){var n,r;try{for(var i=a(this),o=i.next();!o.done;o=i.next()){var c=s(o.value,2),u=c[0],l=c[1];t.call(e,l,u,this)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.merge=function(t){var e=this;return se(t)&&(t=t.toJS()),Wt(function(){m(t)?Object.keys(t).forEach(function(n){return e.set(n,t[n])}):Array.isArray(t)?t.forEach(function(t){var n=s(t,2),r=n[0],i=n[1];return e.set(r,i)}):w(t)?t.forEach(function(t,n){return e.set(n,t)}):null!=t&&f("Cannot initialize map from "+t)}),this},t.prototype.clear=function(){var t=this;Wt(function(){!function(t){var e=ut();try{t()}finally{lt(e)}}(function(){var e,n;try{for(var r=a(t.keys()),i=r.next();!i.done;i=r.next()){var o=i.value;t.delete(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}})})},t.prototype.replace=function(t){var e=this;return Wt(function(){var n,r=m(n=t)?Object.keys(n):Array.isArray(n)?n.map(function(t){return s(t,1)[0]}):w(n)||se(n)?Array.from(n.keys()):f("Cannot get keys from '"+n+"'");Array.from(e.keys()).filter(function(t){return-1===r.indexOf(t)}).forEach(function(t){return e.delete(t)}),e.merge(t)}),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.toPOJO=function(){var t,e,n={};try{for(var r=a(this),i=r.next();!i.done;i=r.next()){var o=s(i.value,2),c=o[0],u=o[1];n[""+c]=u}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.toJS=function(){return new Map(this)},t.prototype.toJSON=function(){return this.toPOJO()},t.prototype.toString=function(){var t=this;return this.name+"[{ "+Array.from(this.keys()).map(function(e){return e+": "+t.get(e)}).join(", ")+" }]"},t.prototype.observe=function(t,e){return Xt(this,t)},t.prototype.intercept=function(t){return Yt(this,t)},t}(),se=v("ObservableMap",ae),ce=function(){function t(t,e,n,r){void 0===e&&(e=new Map),this.target=t,this.values=e,this.name=n,this.defaultEnhancer=r,this.keysAtom=new _(n+".keys")}return t.prototype.read=function(t){return this.values.get(t).get()},t.prototype.write=function(t,e){var n=this.target,r=this.values.get(t);if(r instanceof et)r.set(e);else{if(Ht(this)){if(!(o=Jt(this,{type:"update",object:this.proxy||n,name:t,newValue:e})))return;e=o.newValue}if((e=r.prepareNewValue(e))!==bt.UNCHANGED){var i=Kt(this),o=i?{type:"update",object:this.proxy||n,oldValue:r.value,name:t,newValue:e}:null;0,r.setNewValue(e),i&&Qt(this,o)}}},t.prototype.has=function(t){var e=this.pendingKeys||(this.pendingKeys=new Map),n=e.get(t);if(n)return n.get();var r=!!this.values.get(t);return n=new tt(r,N,this.name+"."+t.toString()+"?",!1),e.set(t,n),n.get()},t.prototype.addObservableProp=function(t,e,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(Ht(this)){var i=Jt(this,{object:this.proxy||r,name:t,type:"add",newValue:e});if(!i)return;e=i.newValue}var o=new tt(e,n,this.name+"."+t,!1);this.values.set(t,o),e=o.value,Object.defineProperty(r,t,function(t){return le[t]||(le[t]={configurable:!0,enumerable:!0,get:function(){return this[j].read(t)},set:function(e){this[j].write(t,e)}})}(t)),this.notifyPropertyAddition(t,e)},t.prototype.addComputedProp=function(t,e,n){var r,i,o,a=this.target;n.name=n.name||this.name+"."+e,this.values.set(e,new et(n)),(t===a||(r=t,i=e,!(o=Object.getOwnPropertyDescriptor(r,i))||!1!==o.configurable&&!1!==o.writable))&&Object.defineProperty(t,e,function(t){return he[t]||(he[t]={configurable:!0,enumerable:!1,get:function(){return fe(this).read(t)},set:function(e){fe(this).write(t,e)}})}(e))},t.prototype.remove=function(t){if(this.values.has(t)){var e=this.target;if(Ht(this))if(!(a=Jt(this,{object:this.proxy||e,name:t,type:"remove"})))return;try{wt();var n=Kt(this),r=this.values.get(t),i=r&&r.get();if(r&&r.set(void 0),this.keysAtom.reportChanged(),this.values.delete(t),this.pendingKeys){var o=this.pendingKeys.get(t);o&&o.set(!1)}delete this.target[t];var a=n?{type:"remove",object:this.proxy||e,oldValue:i,name:t}:null;0,n&&Qt(this,a)}finally{Ot()}}},t.prototype.illegalAccess=function(t,e){console.warn("Property '"+e+"' of '"+t+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},t.prototype.observe=function(t,e){return Xt(this,t)},t.prototype.intercept=function(t){return Yt(this,t)},t.prototype.notifyPropertyAddition=function(t,e){var n=Kt(this),r=n?{type:"add",object:this.proxy||this.target,name:t,newValue:e}:null;if(n&&Qt(this,r),this.pendingKeys){var i=this.pendingKeys.get(t);i&&i.set(!0)}this.keysAtom.reportChanged()},t.prototype.getKeys=function(){var t,e;this.keysAtom.reportObserved();var n=[];try{for(var r=a(this.values),i=r.next();!i.done;i=r.next()){var o=s(i.value,2),c=o[0];o[1]instanceof tt&&n.push(c)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t}();function ue(t,e,n){if(void 0===e&&(e=""),void 0===n&&(n=M),Object.prototype.hasOwnProperty.call(t,j))return t[j];m(t)||(e=(t.constructor.name||"ObservableObject")+"@"+h()),e||(e="ObservableObject@"+h());var r=new ce(t,new Map,e,n);return y(t,j,r),r}var le=Object.create(null),he=Object.create(null);function fe(t){var e=t[j];return e||(A(t),t[j])}var pe=v("ObservableObjectAdministration",ce);function de(t){return!!g(t)&&(A(t),pe(t[j]))}function be(t,e){if("object"==typeof t&&null!==t){if(ie(t))return void 0!==e&&f(!1),t[j].atom;if(se(t)){var n=t;return void 0===e?n._keysAtom:((r=n._data.get(e)||n._hasMap.get(e))||f(!1),r)}var r;if(A(t),e&&!t[j]&&t[e],de(t))return e?((r=t[j].values.get(e))||f(!1),r):f(!1);if(x(t)||nt(t)||Dt(t))return t}else if("function"==typeof t&&Dt(t[j]))return t[j];return f(!1)}function ge(t,e){return t||f("Expecting some object"),void 0!==e?ge(be(t,e)):x(t)||nt(t)||Dt(t)?t:se(t)?t:(A(t),t[j]?t[j]:void f(!1))}var me=Object.prototype.toString;function ye(t,e){return ve(t,e)}function ve(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&function(t,e,n,r){t=we(t),e=we(e);var i=me.call(t);if(i!==me.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e)}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!("function"==typeof a&&a instanceof a&&"function"==typeof s&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];var c=(n=n||[]).length;for(;c--;)if(n[c]===t)return r[c]===e;if(n.push(t),r.push(e),o){if((c=t.length)!==e.length)return!1;for(;c--;)if(!ve(t[c],e[c],n,r))return!1}else{var u,l=Object.keys(t);if(c=l.length,Object.keys(e).length!==c)return!1;for(;c--;)if(u=l[c],!Oe(e,u)||!ve(t[u],e[u],n,r))return!1}return n.pop(),r.pop(),!0}(t,e,n,r)}function we(t){return ie(t)?t.slice():w(t)||se(t)?Array.from(t.entries()):t}function Oe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function je(t){return t[Symbol.iterator]=_e,t}function _e(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:function(t,e){return(void 0!==e?be(t,e):de(t)||se(t)?ge(t):be(t)).name}},$mobx:j})}).call(this,n(128),n(129))},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.6.1"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(95)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports={LIKE_ESCAPE_CHAR:"~",QUOTE_CHAR:'"'}},function(t,e){function n(t){this.fork=t}n.of=function(t){return new n(function(e,n){n(t)})},n.prototype.chain=function(t){var e=this;return new n(function(n,r){e.fork(n,function(e){t(e).fork(n,r)})})},n.prototype.orElse=function(t){var e=this;return new n(function(n,r){e.fork(function(e){t(e).fork(n,r)},r)})},n.prototype.ap=function(t){var e,r,i,o=this,a=2;return new n(function(n,s){function c(){0==--a&&s(e(r))}function u(t){void 0===i&&n(i=t)}o.fork(u,function(t){e=t,c()}),t.fork(u,function(t){r=t,c()})})},n.prototype.map=function(t){return this.chain(function(e){return n.of(t(e))})},n.rejected=n.prototype.rejected=function(t){return new n(function(e,n){e(t)})},n.parallel=function(t){return new n(function(e,n){var r,i=t.length,o=new Array(t.length);0!==t.length?t.forEach(function(t,a){t.fork(function(t){void 0===r&&(r=t,e(t))},function(t){return function(e){o[t]=e,void 0===r&&0==--i&&n(o)}}(a))}):n(o)})},n.sequence=function(t){return t.reduce(function(t,e){return t.chain(function(t){return e})},n.of(null))},t.exports=n},function(t,e,n){"use strict";function r(t){return null!=t&&"object"==typeof t}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n(9),i=n(70),o=n(72),a=n(73),s=n(68),c=n(69),u=n(71),l=n(66),h=n(35),f=n(28),p=function(t){if(t instanceof r.a)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[f.a])return Object(s.a)(t);if(Object(c.a)(t))return Object(i.a)(t);if(Object(u.a)(t))return Object(o.a)(t);if(t&&"function"==typeof t[h.a])return Object(a.a)(t);var e=Object(l.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(28),i=function(t){return function(e){var n=t[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}}},function(t,e,n){"use strict";function r(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(33),i=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,r.a),e}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(35),i=function(t){return function(e){for(var n=t[r.a]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(5),i=n(10);function o(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.a(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(5),i=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.a(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(n(15).a)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(29),i=n(25),o=n(30),a=n(77);function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];switch(Object(r.a)(n)?t.pop():n=void 0,t.length){case 0:return Object(o.b)(n);case 1:return n?Object(i.a)(t,n):Object(a.a)(t[0]);default:return Object(i.a)(t,n)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(9);function i(t){var e=new r.a(function(e){e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});const r=Array(3).fill(null).map(()=>Math.floor(Math.random()*"abcdefghijklmnopqrst".length)).map(t=>"abcdefghijklmnopqrst"[t]).join("");let i=0;function o(t="id"){return`${t}_${r}_${i++}`}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});class r extends Error{constructor(t,e,n){super(`Unable to get a member from variable $${t}, because you do not have sufficient permissions to "${e}.${n}".`),this.variableName=t,this.entityName=e,this.attributeName=n,Object.setPrototypeOf(this,r.prototype)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});class r extends Error{constructor(t){super(`Unable to get a member from an empty variable $${t}.`),this.variableName=t,Object.setPrototypeOf(this,r.prototype)}}},function(t,e,n){t.exports=n(149)},function(t,e,n){"use strict";var r=n(5),i=n(34),o=n(36),a=n(47),s=n(74),c=n(39);var u=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.project,this.concurrent))},t}(),l=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.a(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new a.a(this,void 0,void 0);this.destination.add(r),Object(i.a)(this,t,e,n,r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.a);function h(t){return t}function f(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),function t(e,n,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof n?function(i){return i.pipe(t(function(t,r){return Object(c.a)(e(t,r)).pipe(Object(s.a)(function(e,i){return n(t,e,r,i)}))},r))}:("number"==typeof n&&(r=n),function(t){return t.lift(new u(e,r))})}(h,t)}n.d(e,"a",function(){return f})},function(t,e,n){"use strict";var r=n(5),i=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}();n.d(e,"a",function(){return o});var o=function(t){function e(n,r){void 0===r&&(r=i.now);var o=t.call(this,n,function(){return e.delegate&&e.delegate!==o?e.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.a(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(i)},function(t,e,n){"use strict";var r=n(5),i=function(t){function e(e,n){return t.call(this)||this}return r.a(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n(15).a);n.d(e,"a",function(){return o});var o=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return r.a(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(i)},function(t,e,n){"use strict";var r=n(29),i=n(76),o=n(39),a=n(82);function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length||2===t.length&&Object(r.a)(t[1])?Object(o.a)(t[0]):Object(a.a)(1)(i.a.apply(void 0,t))}n.d(e,"a",function(){return s})},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){const r=n(146),i=n(65),o=new r(i);o.rejected=function(t){return new o(function(e){return i.rejected(t)})},o.parallel=function(t){return new o(e=>new i((n,r)=>{if(0===t.length)return void r([]);const i=new Array(t.length);let o=t.length,a=!1;t.forEach((t,s)=>{t.run(e).fork(t=>{a||(a=!0,n(t))},t=>{i[s]=t,a||0!=--o||r(i)})})}))},o.sequence=function(t){return t.reduce((t,e)=>t.chain(t=>e.map(e=>t.concat([e]))),o.of([]))},t.exports=o},function(t,e,n){"use strict";n.r(e),n.d(e,"DescribedServerError",function(){return i});var r=n(37);class i extends r.a{constructor(t){super(t),Object.setPrototypeOf(this,i.prototype)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"getAllStateForMicroflow",function(){return c}),n.d(e,"getRequestDataForMicroflow",function(){return u}),n.d(e,"getRequestDataForObjectAction",function(){return l}),n.d(e,"getRequestDataForGuidsReachableFrom",function(){return h}),n.d(e,"getRequestData",function(){return f}),n.d(e,"handleUncachedObjects",function(){return p}),n.d(e,"uploadWithRetries",function(){return d}),n.d(e,"executeAsync",function(){return g});var r=n(19),i=n(2),o=n(56),a=n(13),s=n(12);function c(t){const e=t.getAllObjects().map(t=>t.getGuid());return[window.mx.session.getUserId(),window.mx.session.getSessionObjectId()].filter(t=>!e.includes(t)).forEach(t=>e.push(t)),f(t,e)}function u(t,e,n){const r=window.mx.session.getMicroflowInfo(e),i=n.concat([window.mx.session.getUserId(),window.mx.session.getSessionObjectId()]),a=t.getAllObjects(),s=void 0!==r?Object(o.findReachableGuidsForRequest)(a,i,r.followedAssociations):a.map(t=>t.getGuid());return i.filter(t=>!s.includes(t)).forEach(t=>s.push(t)),f(t,s)}function l(t,e,n){let r=[];const i=t.getAllObjects(),[s,c]=Object(a.partition)(e=>{const r=t.getObject(e);return r&&r.metaData&&r.metaData.needsReachableState(n)},e);if(0!==s.length){const t=[window.mx.session.getUserId(),window.mx.session.getSessionObjectId()];r=r.concat(Object(o.findReachableGuidsForRequest)(i,s.concat(t)))}const[u,l]=Object(a.partition)(e=>t.isNew(e),c),h=i.filter(e=>t.isNew(e.getGuid()));return r=(r=r.concat(Object(o.findReachableGuidsForRequest)(h,u))).concat(l),f(t,r)}function h(t,e){const n=[window.mx.session.getUserId(),window.mx.session.getSessionObjectId()],r=t.getAllObjects();return f(t,Object(o.findReachableGuidsForRequest)(r,e.concat(n)))}function f(t,e){const n={};e.filter(e=>t.hasChanges(e)).forEach(e=>{n[e]=t.getChanges(e)});const r=e.filter(e=>t.has(e)).map(t.getObject,t).filter(e=>!e.isPersistable()||t.isNew(e.getGuid())).map(t=>t.jsonData);return[n,r]}function p(t,e,n){const{commits:r=[],rollbacks:i=[],deletes:o=[]}=n;e.forEach(e=>{const n=e.getGuid();if(r.includes(n)||i.indexOf(n)>=0){const r=t.getObject(n);if(!r)throw new Error("inconsistent response: committed or rolled back object is missing from response and cache");e.resetFromJSON(r.jsonData)}else o.includes(n)&&e.markAsUnavailable()})}async function d(t,e,n,o){for(let i=0;i<=o;i++)try{return await Object(r.i)(t,e,{},n,{},[])}catch(t){if(!(i<o))throw t;{const t=Math.pow(2,i);await Object(s.c)(t)}}throw new i.a}let b=(new Date).getTime();async function g(t){const e=b++;await t(e);let n=500;for(;;){const t=await Object(r.f)(e);if(t.response.finished)return t;await Object(s.c)(n),n=Math.min(n+500,8e3)}}},,function(t,e,n){var r=n(60),i=n(61),o=n(92),a=n(113),s=n(99),c=function(t,e,n){var u,l,h,f,p=t&c.F,d=t&c.G,b=t&c.S,g=t&c.P,m=t&c.B,y=d?r:b?r[e]||(r[e]={}):(r[e]||{}).prototype,v=d?i:i[e]||(i[e]={}),w=v.prototype||(v.prototype={});for(u in d&&(n=e),n)h=((l=!p&&y&&void 0!==y[u])?y:n)[u],f=m&&l?s(h,r):g&&"function"==typeof h?s(Function.call,h):h,y&&a(y,u,h,t&c.U),v[u]!=h&&o(v,u,f),g&&w[u]!=h&&(w[u]=h)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var r=n(111),i=n(97);t.exports=n(63)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(62);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(63)&&!n(95)(function(){return 7!=Object.defineProperty(n(112)("div"),"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(62);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(115);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,i=n;return[i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]]].join("")}},function(t,e,n){const r=n(65);var i={promiseFromTask:function(t){return new Promise(function(e,n){t.fork(n,e)})},callbackFromTask:function(t,e,n){t.fork(function(t){n&&n(t)},function(t){e&&e(t)})},taskFromPromise:function(t){return new r(function(e,n){t.then(n,e)})}};t.exports=i},function(t,e,n){var r=n(130),i=n(131),o=i;o.v1=r,o.v4=i,t.exports=o},function(t,e){t.exports=require("react-native-vector-icons")},function(t,e,n){const r=n(132);t.exports=function(){const t={},e={};this.startup=function(){window.mx.session.getConfig("metadata").forEach(function(e){const n=new r({json:e});t[n.getEntity()]=n})},this.getMap=function(){return t},this.getEntity=function(e){const n=t[e];return n||window.mx.logger.error("No permission to read or write entity "+e+", check security!"),n},this.getAttributeOwner=function(t,n){const r=t+"."+n,i=e[r];if(null!=i)return i;const o=this.getEntity(t);if(!o||!o.has(n))return null;const[a]=[t].concat(o.getSuperEntities()).filter(t=>this.getEntity(t).has(n)).slice(-1);return e[r]=a,a}}},function(t,e){t.exports=require("react-native-sqlite-storage")},function(t,e,n){"use strict";var r=n(136),i=n(137),o=n(138);function a(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}function s(t){var e=t.indexOf("?");return-1===e?"":t.slice(e+1)}function c(t,e){var n=function(t){var e;switch(t.arrayFormat){case"index":return function(t,n,r){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return function(t,n,r){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};default:return function(t,e,n){void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e=i({arrayFormat:"none"},e)),r=Object.create(null);return"string"!=typeof t?r:(t=t.trim().replace(/^[?#&]/,""))?(t.split("&").forEach(function(t){var e=t.replace(/\+/g," ").split("="),i=e.shift(),a=e.length>0?e.join("="):void 0;a=void 0===a?null:o(a),n(o(i),a,r)}),Object.keys(r).sort().reduce(function(t,e){var n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort(function(t,e){return Number(t)-Number(e)}).map(function(t){return e[t]}):e}(n):t[e]=n,t},Object.create(null))):r}e.extract=s,e.parse=c,e.stringify=function(t,e){!1===(e=i({encode:!0,strict:!0,arrayFormat:"none"},e)).sort&&(e.sort=function(){});var n=function(t){switch(t.arrayFormat){case"index":return function(e,n,r){return null===n?[a(e,t),"[",r,"]"].join(""):[a(e,t),"[",a(r,t),"]=",a(n,t)].join("")};case"bracket":return function(e,n){return null===n?a(e,t):[a(e,t),"[]=",a(n,t)].join("")};default:return function(e,n){return null===n?a(e,t):[a(e,t),"=",a(n,t)].join("")}}}(e);return t?Object.keys(t).sort(e.sort).map(function(r){var i=t[r];if(void 0===i)return"";if(null===i)return a(r,e);if(Array.isArray(i)){var o=[];return i.slice().forEach(function(t){void 0!==t&&o.push(n(r,t,o.length))}),o.join("&")}return a(r,e)+"="+a(i,e)}).filter(function(t){return t.length>0}).join("&"):""},e.parseUrl=function(t,e){return{url:t.split("?")[0]||"",query:c(s(t),e)}}},function(t,e,n){n(110),t.exports=n(61).Object.setPrototypeOf},function(t,e,n){var r=n(91);r(r.S,"Object",{setPrototypeOf:n(116).set})},function(t,e,n){var r=n(93),i=n(94),o=n(96),a=Object.defineProperty;e.f=n(63)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(62),i=n(60).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(60),i=n(92),o=n(98),a=n(114)("src"),s=Function.toString,c=(""+s).split("toString");n(61).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(u&&(o(n,a)||i(n,a,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(62),i=n(93),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(99)(Function.call,n(117).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){var r=n(118),i=n(97),o=n(119),a=n(96),s=n(98),c=n(94),u=Object.getOwnPropertyDescriptor;e.f=n(63)?u:function(t,e){if(t=o(t),e=a(e,!0),c)try{return u(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(120),i=n(86);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(121);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){n(123),t.exports=n(61).String.padEnd},function(t,e,n){"use strict";var r=n(91),i=n(124),o=n(127);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){var r=n(125),i=n(126),o=n(86);t.exports=function(t,e,n,a){var s=String(o(t)),c=s.length,u=void 0===n?" ":String(n),l=r(e);if(l<=c||""==u)return s;var h=l-c,f=i.call(u,Math.ceil(h/u.length));return f.length>h&&(f=f.slice(0,h)),a?f+s:s+f}},function(t,e,n){var r=n(100),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){"use strict";var r=n(100),i=n(86);t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e,n){var r=n(60).navigator;t.exports=r&&r.userAgent||""},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,u=[],l=!1,h=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):h=-1,u.length&&p())}function p(){if(!l){var t=s(f);l=!0;for(var e=u.length;e;){for(c=u,u=[];++h<e;)c&&c[h].run();h=-1,e=u.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function b(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=b,i.addListener=b,i.once=b,i.off=b,i.removeListener=b,i.removeAllListeners=b,i.emit=b,i.prependListener=b,i.prependOnceListener=b,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r,i,o=n(101),a=n(102),s=0,c=0;t.exports=function(t,e,n){var u=e&&n||0,l=e||[],h=(t=t||{}).node||r,f=void 0!==t.clockseq?t.clockseq:i;if(null==h||null==f){var p=o();null==h&&(h=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=i=16383&(p[6]<<8|p[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),b=void 0!==t.nsecs?t.nsecs:c+1,g=d-s+(b-c)/1e4;if(g<0&&void 0===t.clockseq&&(f=f+1&16383),(g<0||d>s)&&void 0===t.nsecs&&(b=0),b>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=d,c=b,i=f;var m=(1e4*(268435455&(d+=122192928e5))+b)%4294967296;l[u++]=m>>>24&255,l[u++]=m>>>16&255,l[u++]=m>>>8&255,l[u++]=255&m;var y=d/4294967296*1e4&268435455;l[u++]=y>>>8&255,l[u++]=255&y,l[u++]=y>>>24&15|16,l[u++]=y>>>16&255,l[u++]=f>>>8|128,l[u++]=255&f;for(var v=0;v<6;++v)l[u+v]=h[v];return e||a(l)}},function(t,e,n){var r=n(101),i=n(102);t.exports=function(t,e,n){var o=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[o+s]=a[s];return e||i(a)}},function(t,e){t.exports=function(t){var e=t.json;if(!(e&&e.attributes&&e.objectType&&e.properties))throw new Error("MxMetaObject: invalid initialization");this.has=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.has: parameter attr is not of type String.");return Object.prototype.hasOwnProperty.call(e.attributes,t)},this.isEnum=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.isEnum : parameter attr is not of type String.");return/^(Enum|EnumSet)$/.test(this.getAttributeType(t))},this.isNumeric=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.isNumeric : parameter attr is not of type String.");return/^(Integer|Long|Decimal|Float|Currency)$/.test(this.getAttributeType(t))},this.isPassword=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.isDate : parameter attr is not of type String.");return"HashString"===this.getAttributeType(t)},this.isCurrency=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.isCurrency : parameter attr is not of type String.");return"Currency"===this.getAttributeType(t)},this.isDate=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.isDate : parameter attr is not of type String.");return/^(Date|DateTime)$/.test(this.getAttributeType(t))},this.isLocalizedDate=function(t){return this.isDate(t)?/true/.test(e.attributes[t].localize):null},this.isBoolean=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.isBoolean : parameter attr is not of type String.");return"Boolean"===this.getAttributeType(t)},this.isReference=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.isReference : parameter attr is not of type String.");return/^(ObjectReference|ObjectReferenceSet)$/.test(this.getAttributeType(t))},this.isObjectReference=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.isObjectReference : parameter attr is not of type String.");return"ObjectReference"===this.getAttributeType(t)},this.isObjectReferenceSet=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.isObjectReferenceSet : parameter attr is not of type String.");return"ObjectReferenceSet"===this.getAttributeType(t)},this.isBidirectionalReference=function(t){return this.isReference(t)&&Boolean(e.attributes[t].both)},this.getOptions=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.getOptions : parameter attr is not of type String.");if(!this.isEnum(t))throw new Error("mendix/lib/MxMetaObject.getOptions : attribute '"+t+"' is not an Enumeration.");try{var n=[];if(this.has(t)){var r=e.attributes[t].options;if(r&&r.length){n=[];for(var i=0;i<r.length;i++)for(var o in r[i])n.push(r[i][o])}}return n}catch(t){return[]}},this.getEnumMap=function(t){if(!this.isEnum(t))return null;for(var n=[],r=e.attributes[t].options,i=0;i<r.length;i++)for(var o in r[i]){n.push({key:o,caption:r[i][o]});break}return n},this.getEnumKVPairs=function(t){if(!this.isEnum(t))return null;for(var n={},r=e.attributes[t].options,i=0;i<r.length;i++)for(var o in r[i])n[o]=r[i][o];return n},this.getEnumCaption=function(t,n){if(!this.isEnum(t))return null;for(var r=e.attributes[t].options,i=0;i<r.length;i++){var o=r[i];for(var a in o)if(a===n)return o[a]}return n},this.getReferenceAttributes=function(){var t=[];for(var n in e.attributes)this.isReference(n)&&t.push(n);return t},this.getAttributes=function(){var t=[];for(var n in e.attributes)t.push(n);return t},this.getAttributesWithoutReferences=function(){var t=[];for(var n in e.attributes)this.isReference(n)||t.push(n);return t},this.getAttributeType=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.getAttributeType : parameter attr is not of type String.");return!!this.has(t)&&e.attributes[t].type},this.getSelectorEntity=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.getSelectorEntity : parameter attr is not of type String.");return!!this.has(t)&&e.attributes[t].klass},this.getEntity=function(){return e.objectType},this.isPersistable=function(){return e.persistable},this.needsReachableState=function(t){return!(t in e.needsReachableState)||e.needsReachableState[t]},this.isA=function(t){return this.getEntity()===t||this.inheritsFrom(t)},this.hasSuperEntities=function(){return 0!==e.properties.superclasses.length},this.getSuperEntities=function(){var t=e.properties.superclasses;return"string"==typeof t?[t]:t},this.hasSubEntities=function(){return 0!==e.properties.subclasses.length},this.getSubEntities=function(){var t=e.properties.subclasses;return"string"==typeof t?[t]:t},this.inheritsFrom=function(t){return(this.getSuperEntities()||[]).includes(t)},this.isSyncable=function(t){if("string"!=typeof t)throw new Error("mendix/lib/MxMetaObject.isObjectReferenceSet : parameter attr is not of type String.");return!!this.has(t)&&(void 0===e.attributes[t].sync||e.attributes[t].sync)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"MxObjectSnapshot",function(){return o});var r=n(2),i=n(11);class o extends i.MxObject{constructor(t){super({meta:t.metaData,json:{guid:t.getGuid(),objectType:t.getEntity()}}),this._mxObject=t}resetFromJSON(t){super.resetFromJSON(t),this._mxObject.resetFromJSON(t)}markAsUnavailable(){super.markAsUnavailable(),this._mxObject.markAsUnavailable()}hasChanges(){return!1}snapshot(){return this}isReadonlyAttr(t){return!0}_fetchReference(t,e,n,r){super._fetchReference(t,e,t=>{t instanceof i.MxObject?n(t.snapshot()):Array.isArray(t)?n(t.map(t=>t.snapshot())):n(t)},r)}has(t){return this._mxObject.has(t)}toJSON(){return this._mxObject.toJSON()}_attributeChanged(t){return!1}_getAttributeValue(t){return this._mxObject._getAttributeValue(t)}_makeChange(t,e){throw new r.a(`Cannot modify attribute ${t} of a read-only object.`)}_getChildren(t){return this._mxObject._getChildren(t).map(t=>t.snapshot())}convertToEditable(){return window.mx.data.removeChanges(this.getGuid()),this._mxObject}}},function(t,e,n){"use strict";n.r(e),n.d(e,"MxContext",function(){return s}),n.d(e,"createContext",function(){return c});var r=n(11),i=n(13),o=n.n(i);let a=0;class s{constructor(t){this.id=this.ident=++a,this.trackId="",this.trackEntity="",this.trackObject=null,this.localParams={},this.constraintby=[],this._entityToGuid={},this._mxidToObject={},t&&(t.mxcontext&&this.dupFrom(t.mxcontext),t.classname&&t.mendixguid?this.setContext(t.classname,t.mendixguid):t.entity&&t.guid&&this.setContext(t.entity,t.guid))}hasTrackEntity(){return""!==this.trackEntity}hasTrackId(){return!!this.trackId}hasTrackObject(){return!!this.trackObject}getTrackEntity(){return this.trackEntity}getTrackId(){return this.trackId}getTrackObject(){return this.trackObject}setTrackObject(t){t&&this.setContext(t.getEntity(),t.getGuid()),this.trackObject=t}getObject(){return this.trackObject}setConstraints(t){null!=t&&""!==t&&0!==t.length&&(this.constraintby="string"==typeof t?t.split(","):t)}getConstraints(){for(var t=[],e=0;e<this.constraintby.length;e++)t.push(this.constraintby[e]);return t}hasBacktrack(){return 0!==this.constraintby.length}getEntities(){return Object.keys(this._entityToGuid).filter(t=>void 0!==t&&""!==this._entityToGuid[t])}setContext(t,e){if(1===arguments.length&&arguments[0]instanceof r.MxObject){var n=arguments[0];t=n.getEntity(),e=n.getGuid()}this.trackEntity=null==t?"":t,this.trackId=null==e?"":e,this.trackObject=null,this._entityToGuid[this.trackEntity]=this.trackId}unsetContext(t){if("string"!=typeof t)throw new Error("mendix/lib/MxContext.unsetContext: parameter entity is not of type String");delete this._entityToGuid[t]}getContext(t){if("string"!=typeof t)throw new Error("mendix/lib/MxContext.getContext: parameter entity is not of type String");if(t in this._entityToGuid)return this._entityToGuid[t];var e=window.mx.meta.getEntity(t),n=null;return e.getSubEntities().some(t=>t in this._entityToGuid&&(n=this._entityToGuid[t],!0)),n}hasContext(t){if("string"!=typeof t)throw new Error("mendix/lib/MxContext.hasContext: parameter entity is not of type String");return null!=this.getContext(t)}reset(){this._entityToGuid={},this._mxidToObject={},this.trackId=null,this.trackEntity="",this.trackObject=null}dupFrom(t){this.reset(),this.mixin(t)}mixin(t){if(t)t.getEntities().forEach(e=>this.setContext(e,t.getContext(e))),t.getWidgetIds().forEach(e=>this.setWidgetObject(e,t.getWidgetObject(e))),this.setParams(t.getParams()),this.setConstraints(t.getConstraints()),this.setContext(t.getTrackEntity(),t.getTrackId()),this.setTrackObject(t.getTrackObject());else{const t=this.getTrackEntity();t&&this.unsetContext(t),this.setContext(null,null)}}hasParam(t){return t in this.localParams}getParam(t){return this.hasParam(t)?this.localParams[t]:null}getParams(){return this.localParams}setParam(t,e){if(null==t)throw new Error("mendix/lib/MxContext["+this.ident+"].setParam key is null");this.localParams[t]=e}setParams(t){if("object"!=typeof t)throw new Error("mendix/lib/MxContext["+this.ident+"].setParams requires an Object.");for(var e in t)this.localParams[e]=t[e]}unsetParam(t){delete this.localParams[t]}resetParams(){this.localParams={}}isEmpty(){for(var t in this._entityToGuid)return!0;return!1}getGuids(){for(var t=this.getEntities(),e=this.getTrackId(),n=e?[e]:[],r=0,i=t.length;r<i;r++){var o=t[r];if("System.owner"!==o&&"System.changedBy"!==o){var a=this.getContext(o);a!==e&&n.push(a)}}return n}getWidgetIds(){return Object.keys(this._mxidToObject)}getWidgetObject(t){return this._mxidToObject[t]}setWidgetObject(t,e){this.setTrackObject(e),this._mxidToObject[t]=e}getWidgetObjectMap(){return o.a.clone(this._mxidToObject)}freeze(){this.setTrackObject=this.setConstraints=this.setContext=this.unsetContext=this.reset=this.dupFrom=this.setParam=this.setParams=this.unsetParam=this.setWidgetObject=this.resetParams=function(){return window.mx.logger.error("mendix/lib/MxContext["+this.ident+"].freeze: context is readonly"),!1}}}async function c(t,e){const n=new s;if(t){const e=await new Promise((e,n)=>window.mx.data.get({guid:t,callback:e,error:n}));n.setWidgetObject("$pageParameter",e)}return e&&n.setParams(e),n}},function(t,e,n){const{executors:r}=n(57),{handleRuntimeError:i}=n(151),{handleUncachedObjects:o}=n(89),{MxObject:a}=n(11),{NanoflowEngine:s}=n(58),c=n(7);function u(t,e,n){this._backend=t,this._objectCache=e,this._shouldRemoveObjectImmediately=n,this._nanoflowEngine=new s(r)}function l(t){return t.getGuid()}function h(t,e){return t.isObjectReference(e)?t.getReference(e):t.isObjectReferenceSet(e)?t.getReferences(e):t.get(e)}u.prototype.getByGuid=function(t,e){e=e||{};var n=t.map(this._objectCache.getObject,this._objectCache).filter(function(t){return null!=t});if(t.every(function(t){return this._objectCache.has(t)},this)){var r=n;e.sort&&e.sort.forEach(function(t){var e=t[0],n=t[1];r=r.sort(function(t,r){return(t=t.get(e))<(r=r.get(e))?"asc"===n?-1:1:t>r?"asc"===n?1:-1:0})});var i=e.offset;if(i){var o=e.amount;r=o?r.slice(i,i+o):r.slice(i)}return Promise.resolve({mxobjs:r,count:n.length})}var s=null==e.attributes;return this._backend.getByGuid(t,e).then(function(t){var e,n=t.mxobjects||[],r=n.map(t=>t.guid);s?(this._objectCache.setMxObjects(n),e=r.map(this._objectCache.getObject,this._objectCache)):(r.forEach(this._removeObjectKeepChanges,this),e=n.map(a.fromJson));return{mxobjs:e,count:e.length}}.bind(this))},u.prototype.getByXPath=function(t,e,n){return this._backend.getByXPath(t,e,n).then(function(t){var e=t.mxobjects||[],n=t.count||0,r=t.aggregates||[];e.map(t=>t.guid).forEach(this._removeObjectKeepChanges,this);var i=e.map(a.fromJson),o=r.map(function(t){return null==t?"":new c(t)});return{mxobjs:i,count:n,aggregates:o}}.bind(this))},u.prototype.getByPath=function(t,e,n,r){return this._backend.getByPath(t,e,n,r).then(function(t){var e=t.mxobjects||[];this._objectCache.setMxObjects(e);var n=e.map(function(t){return this._objectCache.getObject(t.guid)},this);return{mxobjs:n,count:n.length}}.bind(this))},u.prototype.getSlice=function(t,e,n,r){return this._backend.getSlice(t,e,n).then(({mxobjects:t=[],count:e=0})=>{let n=null;return r?(this._objectCache.setMxObjects(t),n=t.map(t=>this._objectCache.getObject(t.guid))):n=t.map(a.fromJson),[n,e]})},u.prototype.fetch=function(t,e,n,r,i,o){var a;a=(r=r||{}).schema?e.splice(-2,e.length):[],this._performFetch(t,e,a,n,r,i,o)},u.prototype.action=async function(t,e,n,r,i){const{actionResult:o}=await this._backend.action(t,e,n,r,i);let a;return o instanceof Array?(this._objectCache.setMxObjects(o),a=o.map(t=>this._objectCache.getObject(t.guid))):o&&"object"==typeof o&&o.guid?(this._objectCache.setMxObjects([o]),a=[this._objectCache.getObject(o.guid)]):a=o,a},u.prototype.runNanoflow=async function(t,e,n){try{const r=await this._nanoflowEngine.execute(t,e,n);return Array.isArray(r)||r instanceof a?(this._objectCache.setMxObjects([].concat(r).map(t=>t.jsonData)),Array.isArray(r)?r.map(t=>this._objectCache.getObject(t.getGuid())):this._objectCache.getObject(r.getGuid())):r}catch(t){throw await i(this._objectCache,t),t}},u.prototype.create=async function(t){const{actionResult:e}=await this._backend.create(t);return this._objectCache.getObject(e)},u.prototype.validate=async function(t){await this._backend.validate(t)},u.prototype.commit=async function(t,e,n,r){const i=t.map(l),a=await this._backend.commit(i,e);o(this._objectCache,t,a)},u.prototype.rollback=async function(t){const e=t.map(l),n=await this._backend.rollback(e);o(this._objectCache,t,n)},u.prototype.remove=function(t){return this._backend.remove(t)},u.prototype.saveDocument=async function(t,e,n,r){await this._backend.saveDocument(t,e,n,r),await this.getByGuid([t],{})},u.prototype.generateReport=async function(t,e,n,r){const{report:i}=await this._backend.generateReport(t,e,n,r);return i},u.prototype.generateExcelReport=async function(t,e){const{mxobject:n}=await this._backend.generateExcelReport(t,e);return a.fromJson(n)},u.prototype._removeObjectKeepChanges=function(t){this._shouldRemoveObjectImmediately(t)&&this._objectCache.removeObjectKeepChanges(t)},u.prototype._performFetch=function(t,e,n,r,i,o,a){var s,c,u,l;if(e.length+n.length===0)o(null==t?null:r?h(t,r):t);else if(0===e.length&&n.length>0)s=n[0],c=n[1],t.isObjectReferenceSet(s)?this._fetchReferenceSet(t,s,c,o,a):this._fetchReference(t,e,n.slice(2),r,i,s,c,i.schema,o,a);else if(s=e[0],c=e[1],t.isObjectReferenceSet(s))e.length>2||n.length>2?a&&a(new Error("reference set should be at end of path")):this._fetchReferenceSet(t,s,c,o,a);else if(t.isObjectReference(s))if(u=t.getChild(s))u.isA(c)?this._performFetch(u,e.slice(2),n,r,i,o,a):o&&o(null);else if(l=t.getReference(s))if(this._objectCache.has(l)){var f=this._objectCache.getObject(l);f.isA(c)?this._performFetch(f,e.slice(2),n,r,i,o,a):o&&o(null)}else i.usexpath&&e.length>2?this._fetchXPath(t,e.slice(2),n,r,i,l,c,o,a):this._fetchReference(t,e.slice(2),n,r,i,s,c,null,o,a);else o(null);else a&&a(new Error("attribute "+s+" is not a reference type"))},u.prototype._fetchReference=function(t,e,n,r,i,o,a,s,c,u){var l=this,h=t.getReference(o);h?this.getByGuid([h],{id:s}).then(({mxobjs:t,count:o})=>{var f,p=1===(f=s?t.filter(function(t){return t.getGuid()===h}):t).length?f[0]:null;p&&p.isA(a)?l._performFetch(p,e,n,r,i,c,u):c(null)},u):c(null)},u.prototype._fetchReferenceSet=function(t,e,n,r,i){0===t.getReferences(e).length?r([]):t.hasChildren(e)?r(t.getChildren(e).filter(function(t){return t.isA(n)})):this.getByGuid(t.getReferences(e)).then(({mxobjs:t,count:e})=>{var i=t.reduce(function(t,e){return e.isA(n)?t.matching.push(e):t.releasing.push(e),t},{matching:[],releasing:[]});r(i.matching)},i)},u.prototype._fetchXPath=function(t,e,n,r,i,o,a,s,c){var u=this,l=["//"+a+"[id="+o+"]"].concat(e).join("/");this.getByXPath(l).then(({mxobjs:t})=>{0===t.length?s(null):r&&1===t.length?s(h(t[0],r)):r?c&&c(new Error(r+" is not a reference type")):!function(t,e){var n,r,i=[t].concat(e);if(e.length<2)return!1;return n=window.mx.meta.getEntity(i.slice(-3)[0]),r=e.slice(-2)[0],n.isObjectReferenceSet(r)}(a,e)?u._performFetch(t[0],[],n,r,i,s,c):s(t)},c)},t.exports=u},function(t,e,n){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},function(t,e,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,s=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))i.call(n,u)&&(s[u]=n[u]);if(r){a=r(n);for(var l=0;l<a.length;l++)o.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}},function(t,e,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function o(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],o(n),o(r))}function a(t){try{return decodeURIComponent(t)}catch(i){for(var e=t.match(r),n=1;n<e.length;n++)e=(t=o(e,n).join("")).match(r);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"","%FF%FE":""},n=i.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch(t){var r=a(n[0]);r!==n[0]&&(e[n[0]]=r)}n=i.exec(t)}e["%C2"]="";for(var o=Object.keys(e),s=0;s<o.length;s++){var c=o[s];t=t.replace(new RegExp(c,"g"),e[c])}return t}(t)}}},function(t,e){e.reachability=function(t,e){var n=new Array(t.length);return function e(r){for(var i=0;i<r.length;++i){var o=r[i];if(o<0||o>=n.length)throw new Error("graph: index "+o+" out of bounds in graph of size "+t.length);n[o]||(n[o]=!0,e(t[o]))}}(e),function(){for(var t=[],e=0;e<n.length;++e)n[e]&&t.push(e);return t}()}},function(t,e){function n(t){for(var e in this.__values={},t)this.__values[e+""]=!0}n.of=n.prototype.of=function(t){return n.fromArray([t])},n.fromArray=function(t){for(var e={},r=0;r<t.length;++r)e[t[r]]=!0;return new n(e)},n.empty=n.prototype.empty=function(){return n.fromArray([])},n.prototype.contains=function(t){return this.__values[t]||!1},n.prototype.union=n.prototype.concat=function(t){var e={};for(var r in this.__values)e[r]=!0;for(var i in t.__values)e[i]=!0;return new n(e)},n.prototype.intersection=function(t){var e={};for(var r in this.__values)t.contains(r)&&(e[r]=!0);return new n(e)},n.prototype.difference=function(t){var e={};for(var r in this.__values)t.contains(r)||(e[r]=!0);return new n(e)},n.prototype.length=function(){return this.values().length},n.prototype.reduce=function(t,e){return this.values().reduce(t,e)},n.prototype.chain=function(t){return this.reduce(function(e,n){return e.concat(t(n))},this.empty())},n.prototype.map=function(t){return this.chain(function(e){return this.of(t(e))}.bind(this))},n.prototype.values=function(){return Object.keys(this.__values)},n.prototype.toString=function(){return"StringSet("+this.values()+")"},t.exports=n},function(t,e,n){const r=n(142),i=n(147),o=n(148),a=n(87),s=n(103);function c(){return window.openDatabase("MendixDatabase","1","Mendix Database",10485760)}function u(t,e){o.call(this),e=e||c,this._tableNames=t;const n=e();this._databasePromise=this._initialize(n)}u.prototype=Object.create(o.prototype),u.prototype._getDatabase=function(){return this._databasePromise},u.prototype._initialize=function(t){var e=r.createCreateTransaction(this._tableNames);return s.promiseFromTask(i.runWriteTransaction(t,e)).then(()=>t)},u.prototype._fetch=function(t){return function(e){var n=r.createFetchByGuidTransaction(t);return s.promiseFromTask(i.runReadTransaction(e,n))}},u.prototype._fetchSlice=function(t,e,n){return function(o){var a=r.createFetchSliceTransaction(t,e,n.offset,n.limit,n.sort);return s.promiseFromTask(i.runReadTransaction(o,a))}},u.prototype._rebuildDb=function(t){return a.ask().chain(function(e){var n=r.createRebuildTransaction(this._tableNames,t);return new a(function(t){return i.runWriteTransaction(e,n)})}.bind(this))},u.prototype._insertOrReplace=function(t){return function(e){var n=r.createInsertOrReplaceTransaction(t);return s.promiseFromTask(i.runWriteTransaction(e,n))}},u.prototype._cleanDatabase=function(){return t=>{var e=r.createCleanTransaction(this._tableNames);return s.promiseFromTask(i.runWriteTransaction(t,e))}},u.prototype._fetchDirty=function(){return a.ask().chain(function(t){var e=r.createFetchDirtyObjectsTransaction();return new a(function(n){return i.runWriteTransaction(t,e)})})},u.prototype._makeClean=function(t){return a.ask().chain(function(e){var n=r.createMakeCleanTransaction(t);return new a(function(t){return i.runWriteTransaction(e,n)})})},u.prototype._cleanupDirtyObjects=function(){return function(t){var e=r.createDirtyCleanupTransaction();return s.promiseFromTask(i.runWriteTransaction(t,e))}},t.exports=u},function(t,e,n){const r=n(64),{SqlSelectBuilder:i,constraintBuilder:o}=n(143),a=n(144),s=n(145),c=n(87),u=n(65),l=n(7),h="_guidToTable",f={String:"text",Integer:"text",Long:"text",Decimal:"text",Float:"text",Currency:"text",Enum:"text",HashString:"text",ObjectReference:"text",DateTime:"integer",Boolean:"integer",AutoNumber:"integer",Binary:"blob"},p={String:j,Integer:O,Long:O,Decimal:O,Float:O,Currency:O,Enum:j,HashString:j,ObjectReference:j,DateTime:function(t){return null!=t?Number(t):null},Boolean:Number,AutoNumber:j,Binary:j},d={String:j,Integer:j,Long:j,Decimal:j,Float:j,Currency:j,Enum:j,HashString:j,ObjectReference:j,DateTime:_,Boolean:Boolean,AutoNumber:j,Binary:j},b={String:_,Integer:_,Long:_,Decimal:_,Float:_,Currency:_,Enum:_,HashString:_,ObjectReference:_,DateTime:function(t){return t?Number(t):null},Boolean:function(t){return"false"!==t},AutoNumber:_,Binary:_};var g={createCreateTransaction:m,createCleanTransaction:function(t){var e=[h].concat(t).map(E).map(t=>`DELETE FROM '${t}'`).map(t=>D(t,[]));return c.parallel(e).map(t=>void 0)},createFetchByGuidTransaction:function(t){return D((new i).from(h).where(o.equals("guid")).select(),[t]).chain(function(e){if(0===e.rows.length)return c.of(null);if(1!==e.rows.length)return c.rejected(new Error("db consistency error"));const n=e.rows.item(0),r=n.tableName,a=Boolean(n.dirty),s=n.readonlyAttrs;return D((new i).from(E(r)).where(o.equals("guid")).select(),[t]).chain(function(t){return 0===t.rows.length?c.rejected(new Error("entity not found")):1!==t.rows.length?c.rejected(new Error("db consistency error")):c.of(T(window.mx.meta.getEntity(r),a,s,t.rows.item(0)))})})},createFetchSliceTransaction:function(t,e,n,a,s){e=e||[],s=s||[];const u=window.mx.meta.getEntity(t),l=function(t,e){const n=[];return{builder:(new i).where(e.map(function e(i){if(i.constraints)return o[i.operator](i.constraints.map(e).filter(t=>null!==t));if(null==i.value)switch(i.operator){case"contains":return null;case"equals":return o.isNull(E(i.attribute),i.negate)}const a=t.getAttributeType(i.attribute);const s=b[a];const c=p[a];const u=c(s(i.value));n.push("contains"===i.operator?(l=u,h=r.LIKE_ESCAPE_CHAR,l.replace(new RegExp(h,"g"),h+h).replace(/%/g,h+"%").replace(/_/g,h+"_")):u);var l,h;return o[i.operator](E(i.attribute),i.negate)}).filter(t=>null!==t)),args:n}}(u,e),f=l.builder.from(E(t)),d=l.args;let g=f.offset(n).limit(a).join(h,"guid",["dirty","readonlyAttrs"]);var m=D((g=s.reduce(function(t,e){return t.order(e[0],e[1])},g)).select(),d).map(function(t){const e=[];for(let n=0;n<t.rows.length;++n){const r=t.rows.item(n),i=Boolean(r[`${h}.dirty`]),o=C(r,"readonlyAttrs");e.push(T(u,i,o,r))}return e}),y=D(f.selectCount("cnt"),d).map(function(t){return t.rows.item(0).cnt});return c.parallel([m,y])},createInsertOrReplaceTransaction:function(t){return c.parallel(t.map(t=>{const e=t.$objectType,n=v(),r=w(e,t);return[D(n.insertOrReplace(),[t.guid,e,1,JSON.stringify(t.$readonlyAttrs)]),D(r.builder.insertOrReplace(),r.values)]}).reduce((t,e)=>t.concat(e),[])).map(t=>void 0)},createFetchDirtyObjectsTransaction:function(){return y().chain(function(t){const e=x(t.rows).map(({tableName:t})=>{const e=(new i).from(E(t)).join(h,"guid",["dirty","readonlyAttrs"]).where(o.equals(`${h}.dirty`)).select(),n=window.mx.meta.getEntity(t);return D(e,[1]).map(t=>x(t.rows).map(t=>T(n,!0,C(t,"readonlyAttrs"),t)))});return c.parallel(e)}).map(t=>t.reduce((t,e)=>t.concat(e),[]))},createMakeCleanTransaction:function(t){var e=t.map(t=>D(`UPDATE ${h} set dirty = 0 where guid = ?`,[t.guid]));return c.parallel(e).map(t=>void 0)},createDirtyCleanupTransaction:function(){return y().chain(function(t){var e=x(t.rows).map(function(t){var e=t.tableName;return D(`DELETE FROM ${E(e)} WHERE guid IN (\n                            SELECT guid FROM ${h} WHERE tableName = ? AND dirty = 1)`,[e])});return c.sequence([c.parallel(e),D(`DELETE FROM ${h} WHERE dirty = 1`)]).map(t=>void 0)})},createRebuildTransaction:function(t,e){const n=function(t){var e=[h].concat(t).map(E).map(function(t){return"DROP TABLE IF EXISTS '"+t+"'"}).map(function(t){return D(t,[])});return c.sequence([c.parallel(e),m(t)])}(t),r=t.map(t=>{const n=e.filter(e=>e.$objectType===t);return function(t,e){var n=e.reduce(function(e,n){var r=v(),i=w(t,n);return e.concat([D(r.insert(),[n.guid,t,0,JSON.stringify(n.$readonlyAttrs)]),D(i.builder.insert(),i.values)])},[]);return c.parallel(n).map(t=>void 0)}(t,n)});return c.sequence([n,c.parallel(r)]).map(t=>void 0)}};function m(t){var e,n=[(e=(new a).table(h).primaryKeyColumn("guid","text").column("tableName","text").column("dirty","boolean").column("readonlyAttrs","text").createIfNotExists(),D(e,[]))].concat(t.map(function(t){return D(function(t){var e=window.mx.meta.getEntity(t);return e.getAttributes().map(function(t){var n=e.getAttributeType(t);return{attr:t,type:f[n]}})}(t).reduce(function(t,e){return t.column(E(e.attr),e.type)},(new a).table(E(t)).primaryKeyColumn("guid","text")).createIfNotExists(),[])}));return c.parallel(n).map(t=>void 0)}function y(){return D((new i).from(h).where(o.equals("dirty")).selectDistinct("tableName"),[1])}function v(){return(new s).into(h).column("guid").column("tableName").column("dirty").column("readonlyAttrs")}function w(t,e){var n=window.mx.meta.getEntity(t),r=n.getAttributes().reduce(function(t,r){var i=n.getAttributeType(r),o=p[i];if(!o)return t;var a=o(e[r]);return{attrs:t.attrs.concat([r]),values:t.values.concat([a])}},{attrs:["guid"],values:[e.guid]});return{builder:r.attrs.reduce(function(t,e){return t.column(E(e))},(new s).into(E(t))),values:r.values}}function O(t){if(null==t)return null;var e=new l(t),n=20-Math.max(0,e.e)-1;return(e.s<0?"-":"")+new Array(n+1).join("0")+e.abs().toFixed()}function j(t){return null!=t?String(t):null}function _(t){return t}function x(t){for(var e=[],n=0;n<t.length;++n)e.push(t.item(n));return e}function E(t){return t.replace(".","$")}function S(t){return t.replace("$",".")}function T(t,e,n,r){const i={guid:r.guid,$objectType:t.getEntity(),$dirty:e,$readonlyAttrs:JSON.parse(n)};for(const e in r){if("guid"===(o=e)||o.indexOf(".")>-1)continue;const n=S(e),a=t.getAttributeType(n),s=d[a];s&&(i[n]=s(r[e]))}var o;return i}function C(t,e){return t[`${h}.${e}`]}function D(t,e){return e=e||[],new c(function(n){return new u(function(r,i){n.executeSql(t,e,(t,e)=>i(e),(t,e)=>r(e))})})}t.exports=g},function(t,e,n){"use strict";n.r(e),n.d(e,"SqlSelectBuilder",function(){return i}),n.d(e,"constraintBuilder",function(){return u});const r=n(64);class i{constructor(t,e){this._select=e&&e.select||t&&t._select||null,this._from=e&&e.from||t&&t._from||null,this._join=e&&e.join||t&&t._join||null,this._constraints=e&&e.constraints||t&&t._constraints||[],this._orderBy=e&&e.orderBy||t&&t._orderBy||[],this._limit=e&&e.limit||t&&t._limit||null,this._offset=e&&e.offset||t&&t._offset||null}from(t){return new i(this,{from:t})}join(t,e,n){return new i(this,{join:{tableName:t,joinOnColumn:e,selectedColumns:n}})}where(t){return new i(this,{constraints:this._constraints.concat(t)})}order(t,e){return new i(this,{orderBy:this._orderBy.concat([[t,e]])})}limit(t){return new i(this,{limit:t})}offset(t){return new i(this,{offset:t})}selectDistinct(t){return Array.isArray(t)&&(t=t.join(", ")),`SELECT DISTINCT ${t} ${this._buildSql()}`}selectCount(t){return`SELECT COUNT(*) AS ${t}`+this._buildSql()}select(){let t=`SELECT ${this._from}.*`;return this._join&&this._join.selectedColumns.forEach(e=>{t+=`, ${this._join.tableName}.[${e}] as "${this._join.tableName}.${e}"`}),t+this._buildSql()}_buildSql(){let t=` FROM ${this._from} AS ${this._from}`;return this._join&&(t+=` JOIN ${this._join.tableName} AS ${this._join.tableName} USING (${this._join.joinOnColumn})`),this._constraints.length>0&&(t+=" WHERE "+this._constraints.map(t=>t.build(this._from)).join(" AND ")),this._orderBy.length>0&&(t+=" ORDER BY "+this._orderBy.map(t=>`${this._from}.[${t[0]}] ${t[1]}`).join(", ")),this._limit&&(t+=" LIMIT "+this._limit),this._offset&&(t+=" OFFSET "+this._offset),t}}const o={equals:l("="),lessThan:l("<"),lessThanOrEquals:l("<="),greaterThan:l(">"),greaterThanOrEquals:l(">="),contains:function(t){let e="";return e+=t,e+=" LIKE '%' || ? || '%'",e+=" ESCAPE '"+r.LIKE_ESCAPE_CHAR+"'"}};class a{constructor(t,e,n){this._column=t,this._operator=e,this._negate=!!n}build(t){const e=o[this._operator],n=this._column.indexOf(".")>-1?this._column:`${t}.[${this._column}]`;return(this._negate?"NOT ":"")+e(n)}}class s{constructor(t,e){this._column=t,this._negate=!!e}build(t){return(this._column.indexOf(".")>-1?this._column:`${t}.[${this._column}]`)+" IS "+(this._negate?"NOT ":"")+"NULL"}}class c{constructor(t,e){this.group=t,this.constraints=e||[]}add(t){this.constraints.push(t)}build(t){return"("+this.constraints.map(e=>e.build(t)).join(` ${this.group} `)+")"}}const u={and:t=>new c("and",t),or:t=>new c("or",t),equals:(t,e)=>new a(t,"equals",e),isNull:(t,e)=>new s(t,e),lessThan:(t,e)=>new a(t,"lessThan",e),lessThanOrEquals:(t,e)=>new a(t,"lessThanOrEquals",e),greaterThan:(t,e)=>new a(t,"greaterThan",e),greaterThanOrEquals:(t,e)=>new a(t,"greaterThanOrEquals",e),contains:(t,e)=>new a(t,"contains",e)};function l(t){return function(e){return e+" "+t+" ?"}}},function(t,e,n){const r=n(64);function i(t,e){this._tableName=e&&e.tableName||t&&t._tableName||null,this._columns=e&&e.columns||t&&t._columns||[]}function o(t){var e=r.QUOTE_CHAR;return e+t+e}i.prototype.table=function(t){return new i(this,{tableName:t})},i.prototype.column=function(t,e){return new i(this,{columns:this._columns.concat({columnName:t,columnType:e,isPrimary:!1})})},i.prototype.primaryKeyColumn=function(t,e){return new i(this,{columns:this._columns.concat({columnName:t,columnType:e,isPrimary:!0})})},i.prototype.createIfNotExists=function(){var t="";return t+="CREATE TABLE IF NOT EXISTS "+o(this._tableName),t+=this._buildSql()},i.prototype._buildSql=function(){var t="";return this._columns.length>0&&(t+=" (",t+=this._columns.map(function(t){return[o(t.columnName),t.columnType,"text"===t.columnType?" COLLATE NOCASE ":"",t.isPrimary?"PRIMARY KEY ":""].join(" ").slice(0,-1)},this).join(", "),t+=")"),t},t.exports=i},function(t,e,n){const r=n(64);function i(t,e){if(!(this instanceof i))return new i;this._tableName=e&&e.tableName||t&&t._tableName||null,this._columnNames=e&&e.columnNames||t&&t._columnNames||[]}function o(t){var e=r.QUOTE_CHAR;return e+t+e}i.prototype.into=function(t){return new i(this,{tableName:t})},i.prototype.column=function(t){return new i(this,{columnNames:this._columnNames.concat(t)})},i.prototype.insert=function(){var t="";return t+="INSERT INTO "+o(this._tableName),t+=this._buildSql()},i.prototype.insertOrReplace=function(){var t="";return t+="INSERT OR REPLACE INTO "+o(this._tableName),t+=this._buildSql()},i.prototype._buildSql=function(){var t="";return this._columnNames.length>0&&(t+=" (",t+=this._columnNames.map(o).join(", "),t+=")"),t+=" VALUES (",t+="?"+new Array(this._columnNames.length).join(", ?"),t+=")"},t.exports=i},function(t,e){t.exports=function(t){function e(t){this.run=t}return e.prototype.chain=function(t){return new e(function(e){return this.run(e).chain(function(n){return t(n).run(e)})}.bind(this))},e.prototype.ap=function(t){return new e(function(e){return this.run(e).ap(t.run(e))}.bind(this))},e.prototype.map=function(t){return this.chain(function(n){return e.of(t(n))})},e.of=function(n){return new e(function(e){return t.of(n)})},e.ask=function(){return new e(t.of)},e}},function(t,e,n){const r=n(65);function i(t){return function(e,n){return new r(function(r,i){var o,a=2;e[t](function(t){n.run(t).fork(r,function(t){o=t,0==--a&&i(o)})},r,function(){0==--a&&i(o)})})}}t.exports={runReadTransaction:i("readTransaction"),runWriteTransaction:i("transaction")}},function(t,e,n){const r=n(103),i=n(87);function o(){}o.prototype.getSlice=function(t,e,n={}){return this._getDatabase().then(this._fetchSlice(t,e,n))},o.prototype.getByGuid=function(t){return this._getDatabase().then(this._fetch(t))},o.prototype.insertOrReplace=function(t){return this._getDatabase().then(this._insertOrReplace(t))},o.prototype.cleanDatabase=function(){return this._getDatabase().then(this._cleanDatabase())},o.prototype.rebuildDatabase=function(t){return this._getDatabase().then(e=>r.promiseFromTask(this._rebuildDb(t).run(e)))},o.prototype.fetchDirty=function(){return this._getDatabase().then(t=>r.promiseFromTask(this._fetchDirty().run(t)))},o.prototype.makeClean=function(t){return this._getDatabase().then(e=>r.promiseFromTask(this._makeClean(t).run(e)))},o.prototype.cleanupDirtyObjects=function(){return this._getDatabase().then(this._cleanupDirtyObjects())},o.prototype._getDatabase=function(){return Promise.reject(new Error("not implemented"))},o.prototype._initialize=function(){return Promise.reject(new Error("not implemented"))},o.prototype._fetch=function(t){return function(t){return Promise.reject(new Error("not implemented"))}},o.prototype._fetchSlice=function(t,e,n){return function(t){return Promise.reject(new Error("not implemented"))}},o.prototype._insertOrReplace=function(t){return function(t){return Promise.reject(new Error("not implemented"))}},o.prototype._cleanDatabase=function(){return function(t){return Promise.reject(new Error("not implemented"))}},o.prototype._rebuildDb=function(t){return i.rejected(new Error("not implemented"))},o.prototype._fetchDirty=function(){return i.rejected(new Error("not implemented"))},o.prototype._makeClean=function(){return i.rejected(new Error("not implemented"))},o.prototype._cleanupDirtyObjects=function(){return function(t){return Promise.reject(new Error("not implemented"))}},t.exports=o},function(t,e){var n={parse:function(t){for(var e,n,r=/^\s*at (?:(?:(?:Anonymous function)?|((?:\[object object\])?\S+(?: \[as \S+\])?)) )?\(?((?:file|http|https):.*?):(\d+)(?::(\d+))?\)?\s*$/i,i=/^(?:\s*([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i,o=/^\s*at (?:((?:\[object object\])?\S+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=t.split("\n"),s=[],c=0,u=a.length;c<u;++c){if(e=i.exec(a[c]))n={file:e[3],methodName:e[1]||"<unknown>",lineNumber:+e[4],column:e[5]?+e[5]:null};else if(e=r.exec(a[c]))n={file:e[2],methodName:e[1]||"<unknown>",lineNumber:+e[3],column:e[4]?+e[4]:null};else{if(!(e=o.exec(a[c])))continue;n={file:e[2],methodName:e[1]||"<unknown>",lineNumber:+e[3],column:e[4]?+e[4]:null}}s.push(n)}return s}};t.exports=n},function(t,e,n){"use strict";n.r(e);n(109),n(122);var r=n(0),i=n(9);function o(t){return!!t&&(t instanceof i.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var a=n(76),s=n(154),c=n(3),u=n(4),l=n(2);function h(t,e){return class extends e{componentDidUpdate(n,r,i){if(this.props[t]!==n[t])throw new l.a(`Parent of component ${Object(c.d)(e)} did not correctly assign keys.`);super.componentDidUpdate&&super.componentDidUpdate(n,r,i)}}}function f(t){return e=>d((n,r)=>t(e,n,r))}const p=Symbol("isProperty");function d(t){const e=t;return e[p]=!0,e}const{Provider:b,Consumer:g}=Object(r.createContext)(void 0),m=t=>Object(r.createElement)(b,{value:Object(c.c)(t.store)},t.children);function y(t){const e=h("$store",t);return t=>Object(r.createElement)(g,null,n=>Object(r.createElement)(e,Object.assign({},t,{$store:Object(c.c)(n)}),t.children))}const v=new Map;function w(t){const e=v.get(t);if(void 0!==e)return e;const n=y(h("$widgetId",class extends r.Component{constructor(t){super(t);const e=function(t){const e=Object.assign({},t);delete e.$widgetId,delete e.$store;const n=Object(c.i)(e,function e(n){if(function(t){const e=t;return e&&e.props&&e.props.$widgetId}(n))return n;if(function(t){return null!=t&&Boolean(t[p])}(n))return n(t.$store,t.$widgetId);if(Array.isArray(n)){const t=n.map(e);return t.some(o)?Object(s.a)(t.map(O)):t}if(Object(c.f)(n)){const t=Object(c.i)(n,e);return Object.values(t).some(o)?Object(u.b)(Object(c.i)(t,O)):t}return n});return Object.values(n).some(o)?Object(u.m)(Object(u.b)(Object(c.i)(n,O))):Object(a.a)(n)}(t);let n;this.subscription=e.subscribe({next:t=>void 0===n?n=t:this.setState(t),error:t=>mx.onError(t)}),void 0===n&&Object(u.d)(),this.state=Object(c.c)(n)}componentWillUnmount(){this.subscription.unsubscribe()}render(){return Object(r.createElement)(t,this.state,this.props.children)}}));return n.displayName=`pluginWidget(${Object(c.d)(t)})`,v.set(t,n),n}function O(t){return o(t)?t:Object(a.a)(t)}var j=n(1),_=n(40),x=n(104);class E extends Error{constructor(t=""){super("Not implemented"+(""!==t?": "+t:"")),Object.setPrototypeOf(this,E.prototype)}}var S=n(105);const T=Object(S.createIconSet)({"glyphicon-asterisk":42,"glyphicon-plus":43,"glyphicon-euro":8364,"glyphicon-eur":8364,"glyphicon-minus":8722,"glyphicon-cloud":9729,"glyphicon-envelope":9993,"glyphicon-pencil":9999,"glyphicon-glass":57345,"glyphicon-music":57346,"glyphicon-search":57347,"glyphicon-heart":57349,"glyphicon-star":57350,"glyphicon-star-empty":57351,"glyphicon-user":57352,"glyphicon-film":57353,"glyphicon-th-large":57360,"glyphicon-th":57361,"glyphicon-th-list":57362,"glyphicon-ok":57363,"glyphicon-remove":57364,"glyphicon-zoom-in":57365,"glyphicon-zoom-out":57366,"glyphicon-off":57367,"glyphicon-signal":57368,"glyphicon-cog":57369,"glyphicon-trash":57376,"glyphicon-home":57377,"glyphicon-file":57378,"glyphicon-time":57379,"glyphicon-road":57380,"glyphicon-download-alt":57381,"glyphicon-download":57382,"glyphicon-upload":57383,"glyphicon-inbox":57384,"glyphicon-play-circle":57385,"glyphicon-repeat":57392,"glyphicon-refresh":57393,"glyphicon-list-alt":57394,"glyphicon-lock":57395,"glyphicon-flag":57396,"glyphicon-headphones":57397,"glyphicon-volume-off":57398,"glyphicon-volume-down":57399,"glyphicon-volume-up":57400,"glyphicon-qrcode":57401,"glyphicon-barcode":57408,"glyphicon-tag":57409,"glyphicon-tags":57410,"glyphicon-book":57411,"glyphicon-bookmark":57412,"glyphicon-print":57413,"glyphicon-camera":57414,"glyphicon-font":57415,"glyphicon-bold":57416,"glyphicon-italic":57417,"glyphicon-text-height":57424,"glyphicon-text-width":57425,"glyphicon-align-left":57426,"glyphicon-align-center":57427,"glyphicon-align-right":57428,"glyphicon-align-justify":57429,"glyphicon-list":57430,"glyphicon-indent-left":57431,"glyphicon-indent-right":57432,"glyphicon-facetime-video":57433,"glyphicon-picture":57440,"glyphicon-map-marker":57442,"glyphicon-adjust":57443,"glyphicon-tint":57444,"glyphicon-edit":57445,"glyphicon-share":57446,"glyphicon-check":57447,"glyphicon-move":57448,"glyphicon-step-backward":57449,"glyphicon-fast-backward":57456,"glyphicon-backward":57457,"glyphicon-play":57458,"glyphicon-pause":57459,"glyphicon-stop":57460,"glyphicon-forward":57461,"glyphicon-fast-forward":57462,"glyphicon-step-forward":57463,"glyphicon-eject":57464,"glyphicon-chevron-left":57465,"glyphicon-chevron-right":57472,"glyphicon-plus-sign":57473,"glyphicon-minus-sign":57474,"glyphicon-remove-sign":57475,"glyphicon-ok-sign":57476,"glyphicon-question-sign":57477,"glyphicon-info-sign":57478,"glyphicon-screenshot":57479,"glyphicon-remove-circle":57480,"glyphicon-ok-circle":57481,"glyphicon-ban-circle":57488,"glyphicon-arrow-left":57489,"glyphicon-arrow-right":57490,"glyphicon-arrow-up":57491,"glyphicon-arrow-down":57492,"glyphicon-share-alt":57493,"glyphicon-resize-full":57494,"glyphicon-resize-small":57495,"glyphicon-exclamation-sign":57601,"glyphicon-gift":57602,"glyphicon-leaf":57603,"glyphicon-fire":57604,"glyphicon-eye-open":57605,"glyphicon-eye-close":57606,"glyphicon-warning-sign":57607,"glyphicon-plane":57608,"glyphicon-calendar":57609,"glyphicon-random":57616,"glyphicon-comment":57617,"glyphicon-magnet":57618,"glyphicon-chevron-up":57619,"glyphicon-chevron-down":57620,"glyphicon-retweet":57621,"glyphicon-shopping-cart":57622,"glyphicon-folder-close":57623,"glyphicon-folder-open":57624,"glyphicon-resize-vertical":57625,"glyphicon-resize-horizontal":57632,"glyphicon-hdd":57633,"glyphicon-bullhorn":57634,"glyphicon-bell":57635,"glyphicon-certificate":57636,"glyphicon-thumbs-up":57637,"glyphicon-thumbs-down":57638,"glyphicon-hand-right":57639,"glyphicon-hand-left":57640,"glyphicon-hand-up":57641,"glyphicon-hand-down":57648,"glyphicon-circle-arrow-right":57649,"glyphicon-circle-arrow-left":57650,"glyphicon-circle-arrow-up":57651,"glyphicon-circle-arrow-down":57652,"glyphicon-globe":57653,"glyphicon-wrench":57654,"glyphicon-tasks":57655,"glyphicon-filter":57656,"glyphicon-briefcase":57657,"glyphicon-fullscreen":57664,"glyphicon-dashboard":57665,"glyphicon-paperclip":57666,"glyphicon-heart-empty":57667,"glyphicon-link":57668,"glyphicon-phone":57669,"glyphicon-pushpin":57670,"glyphicon-usd":57672,"glyphicon-gbp":57673,"glyphicon-sort":57680,"glyphicon-sort-by-alphabet":57681,"glyphicon-sort-by-alphabet-alt":57682,"glyphicon-sort-by-order":57683,"glyphicon-sort-by-order-alt":57684,"glyphicon-sort-by-attributes":57685,"glyphicon-sort-by-attributes-alt":57686,"glyphicon-unchecked":57687,"glyphicon-expand":57688,"glyphicon-collapse-down":57689,"glyphicon-collapse-up":57696,"glyphicon-log-in":57697,"glyphicon-flash":57698,"glyphicon-log-out":57699,"glyphicon-new-window":57700,"glyphicon-record":57701,"glyphicon-save":57702,"glyphicon-open":57703,"glyphicon-saved":57704,"glyphicon-import":57705,"glyphicon-export":57712,"glyphicon-send":57713,"glyphicon-floppy-disk":57714,"glyphicon-floppy-saved":57715,"glyphicon-floppy-remove":57716,"glyphicon-floppy-save":57717,"glyphicon-floppy-open":57718,"glyphicon-credit-card":57719,"glyphicon-transfer":57720,"glyphicon-cutlery":57721,"glyphicon-header":57728,"glyphicon-compressed":57729,"glyphicon-earphone":57730,"glyphicon-phone-alt":57731,"glyphicon-tower":57732,"glyphicon-stats":57733,"glyphicon-sd-video":57734,"glyphicon-hd-video":57735,"glyphicon-subtitles":57736,"glyphicon-sound-stereo":57737,"glyphicon-sound-dolby":57744,"glyphicon-sound-5-1":57745,"glyphicon-sound-6-1":57746,"glyphicon-sound-7-1":57747,"glyphicon-copyright-mark":57748,"glyphicon-registration-mark":57749,"glyphicon-cloud-download":57751,"glyphicon-cloud-upload":57752,"glyphicon-tree-conifer":57753,"glyphicon-tree-deciduous":57856,"glyphicon-cd":57857,"glyphicon-save-file":57858,"glyphicon-open-file":57859,"glyphicon-level-up":57860,"glyphicon-copy":57861,"glyphicon-paste":57862,"glyphicon-alert":57865,"glyphicon-equalizer":57872,"glyphicon-king":57873,"glyphicon-queen":57874,"glyphicon-pawn":57875,"glyphicon-bishop":57876,"glyphicon-knight":57877,"glyphicon-baby-formula":57878,"glyphicon-tent":9978,"glyphicon-blackboard":57880,"glyphicon-bed":57881,"glyphicon-apple":63743,"glyphicon-erase":57889,"glyphicon-hourglass":8987,"glyphicon-lamp":57891,"glyphicon-duplicate":57892,"glyphicon-piggy-bank":57893,"glyphicon-scissors":57894,"glyphicon-bitcoin":57895,"glyphicon-btc":57895,"glyphicon-xbt":57895,"glyphicon-yen":165,"glyphicon-jpy":165,"glyphicon-ruble":8381,"glyphicon-rub":8381,"glyphicon-scale":57904,"glyphicon-ice-lolly":57905,"glyphicon-ice-lolly-tasted":57906,"glyphicon-education":57907,"glyphicon-option-horizontal":57908,"glyphicon-option-vertical":57909,"glyphicon-menu-hamburger":57910,"glyphicon-modal-window":57911,"glyphicon-oil":57912,"glyphicon-grain":57913,"glyphicon-sunglasses":57920,"glyphicon-text-size":57921,"glyphicon-text-color":57922,"glyphicon-text-background":57923,"glyphicon-object-align-top":57924,"glyphicon-object-align-bottom":57925,"glyphicon-object-align-horizontal":57926,"glyphicon-object-align-left":57927,"glyphicon-object-align-vertical":57928,"glyphicon-object-align-right":57929,"glyphicon-triangle-right":57936,"glyphicon-triangle-left":57937,"glyphicon-triangle-bottom":57938,"glyphicon-triangle-top":57939,"glyphicon-console":57940,"glyphicon-superscript":57941,"glyphicon-subscript":57942,"glyphicon-menu-left":57943,"glyphicon-menu-right":57944,"glyphicon-menu-down":57945,"glyphicon-menu-up":57952},"GLYPHICONS Halflings","glyphicons-halflings-regular.ttf"),C=async t=>Promise.all(t.map(t=>(async t=>T.getImageSource(t,20,"black"))(t))).then(e=>t.reduce(D(e),{})),D=t=>(e,n,r)=>(e[n]=t[r],e);class k{constructor(t){this.key=t}get(){return new Promise((t,e)=>j.AsyncStorage.getItem(this.key,(n,r)=>{n?e(n):t(r)}))}set(t){return new Promise((e,n)=>j.AsyncStorage.setItem(this.key,t,t=>{t?n(t):e()}))}remove(){return new Promise((t,e)=>j.AsyncStorage.removeItem(this.key,n=>{n?e(n):t()}))}}var A=n(7),P=n(59),M=n(155);const N=["amount","offset","selection"],I="$pageParameter",R="unavailable";class V{constructor(t){this.parentStore=t,this.stateMap={}}set(t,e,n){const r=this.getState(t,e,!1);P.b.structural(r.subject.value,n)||Object(u.n)(()=>{r.box.set(n),r.subject.next(n)})}get(t,e){return this.getState(t,e,!0).box.get()}get$(t,e){return this.getState(t,e,!0).subject}dehydrate(){return Object.keys(this.stateMap).map(t=>JSON.parse(t)).filter(({slot:t})=>N.includes(t)).map(({widgetId:t,slot:e})=>({widgetId:t,slot:e,value:this.get(t,e)}))}hydrate(t){t.forEach(({widgetId:t,slot:e,value:n})=>{if(!N.includes(e))throw new l.a(`Invalid slot for restoring the state: ${e}`);switch(e){case"amount":case"offset":this.set(t,e,n instanceof A?n:A(n.toString()));break;default:this.set(t,e,n)}})}getState(t,e,n){const r=JSON.stringify({widgetId:t,slot:e});if(r in this.stateMap)return this.stateMap[r];if(n&&this.parentStore){const t=this.parentStore.findState(r);if(t)return t}const i=P.c.box(void 0,{deep:!1}),o=new M.a(void 0);return this.stateMap[r]={box:i,subject:o},this.stateMap[r]}findState(t){return t in this.stateMap?this.stateMap[t]:this.parentStore?this.parentStore.findState(t):void 0}}class F{constructor(t,e,n,r){this.componentId=t,this.name=e,this.title=n,this.formParameterGuid=r,this.store=new V,this.place="content",this.store.set(I,"form",[this,""]),this.store.set(I,"applyContextCount",1),r&&mx.data.get({guid:r,callback:this.setFormParameter.bind(this),error:mx.onError})}setFormParameter(t){this.pageObject=t,this.store.set(I,"object",t)}getComponentId(){return this.componentId}getTitle(){return this.title}getName(){return this.name}getGuid(){return this.formParameterGuid}getSubmitObjects(){return void 0!==this.pageObject?[this.pageObject]:[]}setSuspend(t){}close(t){_.Navigation.pop(this.componentId,{}).then(t,mx.onError)}publish(t,e){e()}}const $=new k("pageState"),B={},U={},G={},L={};let W,q,z={};class H{async openForm2(t,e,n,r,i){const o=t.replace("/",".").replace(".page.xml",""),a=B[o],s=void 0!==n?n:a.title,u=H.createLayoutConfig(a.layout,o,s,e);return await _.Navigation.push(r.getComponentId(),u),Object(c.c)(q)}static createLayoutConfig(t,e,n,r){const i=Object(x.v4)();return{component:{name:t.main,passProps:{pageName:e,title:n,formParameterGuid:r,pageUuid:i},options:{topBar:Object.assign({visible:!!t.topBar},t.topBar?Object.assign({title:{text:n}},H.createTopBarButtonConfiguration(i,t.topBar,"left"),H.createTopBarButtonConfiguration(i,t.topBar,"right")):{_height:0,drawBehind:!0})}}}}static createTopBarButtonConfiguration(t,e,n){if(e&&e[n])return{[`${n}Buttons`]:[{id:e[n],component:{name:e[n],passProps:{pageUuid:t}}}]}}reload(){}confirmation(t){t.handler()}showLogin(){throw new E("showLogin")}showProgress(){return 0}hideProgress(){}downloadFile(){}info(t,e){}warning(t,e){}error(t,e){}getJavaScriptAction(t){return Promise.resolve(L[t]())}static registerJavaScriptAction(t,e){L[t]=e}static savePageState(){if(!q)return Promise.resolve();const t={name:q.getName(),title:q.getTitle(),formParameterGuid:q.getGuid(),cache:mx.data.dehydrateCache()};return $.set(JSON.stringify(t))}static async loadPageState(){const t=await $.get();let e=null;try{e=JSON.parse(t)}catch(t){}return e}static registerPage(t,e){B[t]=e}static registerComponent(t,e){_.Navigation.registerComponent(t,t.endsWith(":main")?()=>(function(t){return class extends r.Component{constructor(t){super(t),_.Navigation.events().bindComponent(this)}componentWillMount(){let t=U[this.props.pageUuid];t||(t=new F(this.props.componentId,this.props.pageName,this.props.title,this.props.formParameterGuid),U[this.props.pageUuid]=t),this.setState({form:t})}componentWillUnmount(){delete U[this.props.pageUuid]}componentDidAppear(){q=this.state.form}render(){return Object(r.createElement)(j.SafeAreaView,{style:{flex:1,backgroundColor:"white"}},Object(r.createElement)(m,{store:this.state.form.store},t()))}}})(e):()=>(function(t){return class extends r.Component{componentWillMount(){const t=this.props.pageUuid||G[this.props.componentId];G[this.props.componentId]=t;const e=U[t];this.setState({form:e})}render(){return Object(r.createElement)(m,{store:this.state.form.store},t())}}})(e))}static setTabBar(t){const e=t.filter(t=>t.icon).map(t=>t.icon);W=C(e).then(e=>{return{bottomTabs:{children:t.map((t,n)=>{const r=B[t.pageName],i=void 0!==t.title?t.title:r.title,o=this.createLayoutConfig(r.layout,t.pageName,i);return{stack:{children:[Object.assign({},o)],options:{bottomTab:{text:t.caption,icon:e[t.icon],testID:`bottomTab$item${n}`}}}}})}}})}static setHomePage(t){const e=B[t],n=e.title,r=this.createLayoutConfig(e.layout,t,n);W=Promise.resolve({stack:{children:[Object.assign({},r)]}})}static setDefaultStyling(t={}){const e=t.topBar?t.topBar:{},n=t.bottomBar?t.bottomBar:{};z=Object.assign({},z,{bottomTab:{fontFamily:n.fontFamily,fontSize:n.fontSize,iconColor:n.iconColor,selectedIconColor:n.selectedIconColor,selectedTextColor:n.selectedTextColor,textColor:n.textColor},bottomTabs:{backgroundColor:n.backgroundColor},topBar:{backButton:{color:e.backButtonColor},background:{color:e.backgroundColor},title:{color:e.titleColor,fontFamily:e.titleFontFamily,fontSize:e.titleFontSize,component:{alignment:e.titleAlignment}}}})}static async startApp(){if(!W)throw new Error("Navigation not configured");_.Navigation.setDefaultOptions(z);const t=await W,e=await H.restorePreviousPageState(t);return _.Navigation.setRoot({root:e})}static async restorePreviousPageState(t){const e=await this.loadPageState();let n=t;if(e&&e.name){n=Object.assign({},t);const r=B[e.name];mx.data.hydrateCache(e.cache);const i=H.createLayoutConfig(r.layout,e.name,e.title,e.formParameterGuid);n.bottomTabs?n.bottomTabs.children[0].stack.children.push(i):n.stack&&n.stack.children.push(i),await $.remove()}return n}}var Y=n(106),J=n(107),K=n(24),X=n(17),Q=n(49);class Z extends Error{constructor(t="Could not synchronize data"){super(t),Object.setPrototypeOf(this,Z.prototype)}}const{MxObject:tt}=n(11),{MxContext:et}=n(134),nt=n(13),rt=n(135),it=n(140),ot=n(56);function at(t,e){t=t||{};var n=this;const r=[];let i,o,a;const s=nt.curryN(3,b),c=nt.curry(g);async function h(){try{await o.upload()}catch(t){throw t instanceof Z&&await o.cleanupDirtyObjects(),t}}function f(t){if("object"!=typeof t)throw new l.a("args is not an object");if("function"!=typeof t.callback)throw new l.a("callback is not a function");if(t.mxobj&&!(t.mxobj instanceof tt))throw new l.a("mxobj is not a MxObject");if(t.mxobjs&&!(t.mxobjs instanceof Array))throw new l.a("mxobjs is not an Array");if(!t.mxobj&&!t.mxobjs||t.mxobj&&t.mxobjs)throw new l.a("one of mxobj or mxobjs should be passed");return t.mxobj?[t.mxobj]:t.mxobjs}function p(){const n=e.getAllObjects(),i=it.fromArray(n.map(t=>t.getGuid())),o=i.difference(it.fromArray(function(){const t=window.mx.session.getUserId(),e=window.mx.session.getSessionObjectId(),i=nt.unique(Object(X.a)().concat(r.map(t=>t.guid)).concat([t,e]));return ot.findReachableGuidsToRetain(n,i)}())).values();t.logCleanupStatistics&&window.mx.logger.debug(function(){const t=nt.groupBy(o,t=>e.getObject(t).getEntity()),n=nt.arrayFromObject(t).map(([t,e])=>t+": "+e.join(", ")).join("\n");return`Garbage collecting ${o.length} of ${i.length()}\n${n}`}()),e.removeObjects(o)}function d(t,e){return function(){b(t,e)}}function b(t,e,...n){try{t&&t.apply(e,n)}catch(t){window.mx.onError(t)}}function g(t,e,n){t?t.call(e,n):window.mx.onError(n)}function m(t){return e.has(t.getGuid())}function y(t){return t.getGuid()}function v(t){return t.getEntity()}this.getBacktrack=function(t,e,r,i,o){if("function"!=typeof i&&(o=i,i=null),e&&0!==e.length){var a=null,s=[],u=0,h=!0,f=function(){var t=e[u++];t?function(t,e,r,i){var o=e.split("/"),a=function(t){var e,n=o.shift(),i=o.shift();if(null!=t&&null!=t.length&&0!==t.length){for(var a=[],s=0;s<t.length;s++)null!=t[s]&&a.push("id='"+t[s].getGuid()+"'");a.length?(e="["+i+"/"+n+"["+a.join(" or ")+"]]",1===o.length?r(e):(n=o.shift(),i=o.shift(),r("["+i+"/"+n+e+"]"))):r(null)}else r(null)};!function(){var e=o.shift(),s=o.shift();if(1===o.length){var c="["+s+"='"+t.getGuid()+"']";return void r(c)}const u=window.mx.meta.getEntity(e);null!=u?t.isA(e)?u.isReference(s)?""!==t.get(s)?n.get({guids:t.getReferences(s),callback:a,error:i}):r(null):g(i,null,new Error(`Reference ${s} not found in entity ${e}`)):g(i,null,new l.a(`Entity ${t.getEntity()} is not a ${e} or one of its subclasses`)):g(i,null,new Error(`Entity ${e} does not exist`))}()}(a,t,function(t){t?s.push(t):h=!1,f()},c(i,o)):r.call(o,s.join(""),h)};t?n.get({guid:t,callback:function(t){t?(a=t,f()):r.call(o,"",!1)},error:c(i,o)}):r.call(o,"",!1)}else r.call(o,"",!0)},this.toString=function(){return"mendix.sys.Data"},this.startup=function(n){o=n,i=new rt(n,e,function(t){return!function(t){return Object(X.a)().includes(t)}(t)});const r=null!=t.garbageCollectionInterval?Number(t.garbageCollectionInterval):1e4;0!==r&&(a=window.setInterval(p,r))},this.subscribe=function(t,n){if(!t.val)return Object(X.d)(Object.assign({},t,{callback(){if(t.callback){if(t.entity)return t.callback.apply(n,[t.entity]);if(t.attr){const r=e.getObject(t.guid);return t.callback.apply(n,[t.guid,t.attr,null!=r&&r.get(t.attr)||""])}return t.callback.apply(n,[t.guid])}}}));const i=Object.assign({},t,{callback(...e){t.callback&&t.callback.apply(n,e)}});return r.push(i),{unsubscribe:()=>{const t=r.indexOf(i);-1!==t&&r.splice(t,1)}}},this.unsubscribe=function(t){if(!("unsubscribe"in t))throw new l.a("Trying to unsubscribe using an invalid subscription handle");t.unsubscribe()},this.sendValidationUpdates=Object(u.g)(function(t){const e=[];if(t.forEach(t=>{const n=t.clone(),i=t.getAttributes().map(t=>t.name);r.filter(({val:e,guid:n,attr:r})=>e&&null!=r&&n===t.getGuid()&&i.includes(r)).forEach(({attr:e,callback:r})=>{r(t.getErrorReason(e)),n.removeAttribute(e)}),r.filter(({val:e,guid:n,attr:r})=>e&&null==r&&n===t.getGuid()).forEach(({callback:e})=>{const r=t.clone();e([r]);const i=r.getAttributes().map(t=>t.name);n.getAttributes().forEach(({name:t})=>{i.includes(t)||n.removeAttribute(t)})}),n.getAttributes().length>0&&e.push(n)}),e.length){const t=Q.a.describe(e);window.mx.ui.error(t,!1)}}),this.updateInCache=function(t){return e.removeAllChanges([t.guid]),e.setMxObjects([t]),e.getObject(t.guid)},this.removeChanges=function(t){e.removeAllChanges([t])},this.action=function(t){i.action(t.params,t.context||new et,t.origin,!!t.async,t.onValidation).then(t.callback,c(t.error,null))},this.callNanoflow=function({nanoflow:{nanoflow:t,paramsSpec:e},context:r,origin:o,callback:a,error:u}){const l=Object.keys(e).map(t=>({name:t,guid:r.getContext(e[t])||void 0})),h=l.map(t=>t.guid).filter(t=>Boolean(t));var f;(f=h,new Promise((t,e)=>{n.get({guids:f,callback:t,error:e})})).then(e=>{const n=l.map(({name:t,guid:n})=>({name:t,value:e.find(t=>t.getGuid()===n)}));return i.runNanoflow(t,n,o)}).then(s(a,null),c(u,null))},this.get=function(t,e){var r=t.xpath,o=t.path,a=t.guid,u="guids"in t||!a?""===t.guids?[]:t.guids:[a],h=t.entity,f=t.direction||"reverse",p=t.callback,d=t.error,m=!!t.count,y=t.filter,v=t.context||new et,w=t.microflow;if("guid"in t&&null==a)b(p,e,null);else{if(!(r||u||w||h))throw new l.a("xpath, guid|guids and microflow arguments are undefined");if(o&&1!==u.length)throw new l.a("path can only be used with a single guid");if("function"!=typeof p)throw new l.a("callback is not a function");if(d&&"function"!=typeof d)throw new l.a("error is not a function");y&&y.limit&&(y.amount=y.limit,delete y.limit);var O=function(t,e,n){if(!e)return t;for(var r in n)r in e&&null!=e[r]&&(t[r]=e[r]);return t}({},y,a?{id:null}:{id:null,attributes:null,offset:null,sort:null,amount:null,distinct:null,references:null}),j=c(d,e);if(O.id&&u&&!a&&delete O.id,O.id&&(delete O.attributes,delete O.distinct),w){var _=u?"selection":r?"set":"none",x={actionname:w,applyto:_};"selection"===_?x.guids=u:"set"===_&&(x.xpath=r,O.sort&&(x.sort=O.sort)),n.action({params:x,context:v,callback:s(p,e),error:j})}else if(o&&u)i.getByPath(u[0],o,h,f).then(({mxobjs:t,count:n})=>{b(p,e,t,{count:n})},c(d,e));else if(u){if(0===u.length)return void b(p,e,a?null:[],{count:0});i.getByGuid(u,O).then(({mxobjs:t,count:n})=>{var r;if(a)if(O.id){if(void 0===(r=t.filter(t=>t.getGuid()===a)[0]))return void g(d,e,new Error("Returned objects do not contain requested one"))}else r=t[0]||null;else r=t;b(p,e,r,{count:n})},j)}else if(h)if(window.mx.isOffline()){const{amount:t,offset:n,sort:r}=O;i.getSlice(h,[],{limit:t,offset:n,sort:r},!1).then(([t,n])=>{b(p,e,t,{count:n})})}else{const{amount:t,offset:n,sort:r}=O;i.getByXPath(`//${h}`,{amount:t,offset:n,sort:r},m).then(({mxobjs:t,count:n})=>{b(p,e,t,{count:n})},j)}else i.getByXPath(r,O,m).then(({mxobjs:t,count:n,aggregates:r})=>{b(p,e,t,{count:n,aggregates:r})},j)}},this.getOffline=function(t,e,n,r,i){return this.getSlice(t,e,n,!1,r,i)},this.getSlice=function(t,e,n,r,o,a){i.getSlice(t,e,n,r).then(([t,e])=>{b(o,null,t,e)}).catch(c(a,null))},this.fetch=function(t,e,n,r,o){var a,s;"function"==typeof n&&(o=r,r=n),a=e?e instanceof Array?e.slice():e.split("/"):[],t&&t.isA(a[0])&&a.shift(),s=a.length%2==1?a.pop():"",i.fetch(t,a,s,n,r,c(o,null))},this.create=function(t,e){if("function"!=typeof t.callback)throw new l.a("callback is not a function");if(t.error&&"function"!=typeof t.error)throw new l.a("error is not a function");if("string"!=typeof t.entity)throw new l.a("entity is not a string");i.create(t.entity).then(function(r){t.context&&n.setObjectToContext(r,t.context);b(t.callback,e,r)},c(t.error,e))},this.remove=function(t){const e="guid"in t?[t.guid]:""===t.guids?[]:t.guids;if("guids"in t&&!(t.guids instanceof Array))throw new l.a("parameter guids set but not of type Array");if(t.error&&"function"!=typeof t.error)throw new l.a("parameter error set but not of type Function");if(t.callback&&"function"!=typeof t.callback)throw new l.a("parameter callback set but not of type Function");i.remove(e).then(d(t.callback),c(t.error,null))},this.validate=function(t,e,n){0!==t.length?i.validate(t.map(y)).then(d(e),c(n,null)):b(e)},this.commit=function(t,e){const n=d(t.callback,e),r=c(t.error,e),o=f(t);0===o.length&&t.callback?n():i.commit(o,t.context||new et,t.store,t.onValidation).then(function(){const t=nt.unique(o.filter(m).map(v)).map(t=>({entity:t})),e=nt.unique(o.map(y)).map(t=>({guid:t})),i=t.concat(e);Object(X.c)(...i).then(n,r)},r)},this.rollback=function(t,e){const n=c(t.error,e),r=f(t);if(0===r.length)return void b(t.callback,e);const o=nt.unique(r.map(v)).map(t=>({entity:t}));i.rollback(r).then(function(){const i=nt.unique(r.filter(m).map(y)).map(t=>({guid:t})),a=o.concat(i);Object(X.c)(...a).then(s(t.callback,e),n)},n)},this.uploadOfflineObjectsAndFiles=function(t,e){h().then(d(t),c(e,null))},this.downloadOfflineObjectsAndFiles=function(t,e){this.downloadObjects().then(()=>this.downloadFiles()).then(d(t),c(e,null))},this.synchronizeOffline=function({fast:t},e,n){h().then(()=>this.downloadObjects()).then(()=>t?null:this.downloadFiles()).then(d(e),c(n,null))},this.downloadObjects=function(){const t=window.mx.session.getConfig("sync_config.fetch")||[];return o.downloadObjects(t)},this.downloadFiles=function(){const t=(window.mx.session.getConfig("sync_config.fetch")||[]).map(t=>t.store).filter(t=>window.mx.meta.getEntity(t).isA("System.FileDocument"));return o.downloadFiles(t)},this.saveDocument=function(t,e,n,r,o,a){i.saveDocument(t,e,n,r).then(o,c(a,null))},this.generateReport=function(t,e,n,r,o,a){i.generateReport(t,e,n,r).then(o,c(a,null))},this.generateExcelReport=function(t,e,n,r){i.generateExcelReport(t,e).then(n,c(r,null))},this.getReportParameters=function(t,e,n){o.getReportParameters(t).then(e,c(n,null))},this.setObjectToContext=function(t,e){if("object"!=typeof t)throw new l.a("parameter mxObj is not of type Object");if("object"!=typeof e)throw new l.a("parameter context is not of type Object");for(var n=t.getAttributes(),r=0;r<n.length;r++)if(t.isReference(n[r])){var i=t.getSelectorEntity(n[r]);if("System.owner"===n[r]||"System.changedBy"===n[r])continue;e.hasContext(i)&&t.addReference(n[r],e.getContext(i));var o=window.mx.meta.getEntity(i);if(o&&o.hasSubEntities())for(var a=o.getSubEntities(),s=0;s<a.length;s++)e.hasContext(a[s])&&t.addReference(n[r],e.getContext(a[s]))}},this.getObjectFromContext=function(t,e){var n=t.getObject(),r=t.getTrackId();n?e(n):r?window.mx.data.get({guid:r,callback:function(t){t||window.mx.onError("Error while fetching object with guid "+r),e(t)},error:function(t){window.mx.onError(t),e(null)}},this):e(null)},this.isDirty=function(t){return o.isDirty(t)},this.isNew=function(t){return e.isNew(t)},this.makeChange=function(t,n,r){e.makeChange(t,n,r)},this.getChanges=function(t){return e.getChanges(t)},this.getCachedObject=function(t){return e.getObject(t)},this.dehydrateCache=function(){return e.dehydrate()},this.hydrateCache=function(t){return e.hydrate(t)},this.getDocumentUrl=function(t,e,n){return o.getDocumentUrl(t,e,n)},this.getImageUrl=function(t,e,n){o.getImageUrl(t).then(e,n)},this.clear=function(t){e.clear(),o.cleanup().then(t)},this.uninitialize=function(){a&&window.clearInterval(a)},this.getObjectsStatistics=function(){return e.getAllObjects().map(t=>({object:t,changes:e.getChanges(t.getGuid()),uncommitted:e.isNew(t.getGuid()),subscriptions:Object(X.b)(t.getGuid()).concat(r.filter(e=>e.guid===t.getGuid()).map(t=>t.tag))}))}}class st{constructor(t){this.url=t,this.reloadHandlers=[],this.connectHandlers=[]}isConnected(){return void 0!==this.socket&&this.socket.readyState===WebSocket.OPEN}onConnect(t){this.isConnected()?t():this.connectHandlers.push(t)}onReloadMessage(t){this.reloadHandlers.push(t)}sendLog(t,e){if(this.isConnected()){const n=6e4;for(let r=0;r<e.length;r+=n){const i=e.substr(r,n);Object(c.c)(this.socket).send(`log:${t}:${i}`)}}}connect(){try{this.socket=new WebSocket(this.url),this.socket.onopen=(()=>{this.connectHandlers.forEach(t=>t()),this.connectHandlers.splice(0)}),this.socket.onmessage=(t=>{if("MENDIX_RELOAD"!==t.data)throw new l.a(`Unexpected command received from the runtime: ${t.data}`);this.reloadHandlers.forEach(t=>t())}),this.socket.onclose=(()=>this.reconnect())}catch(t){this.reconnect()}}reconnect(){this.socket=void 0,setTimeout(()=>this.connect(),1e3)}}class ct{constructor(t){this.connection=new st(t.replace(/^http/,"ws")+"reload/")}connect(){this.connection.connect()}addOnReload(t){this.connection.onReloadMessage(t)}log(t,...e){const n=e.map(ut);this.connection.onConnect(()=>this.connection.sendLog(t,n.join("\n")))}}function ut(t){if("string"==typeof t)return t;if(t instanceof Error)return`${t.message} ${t.stack}`;if(t&&void 0!==t.outerHTML)return t.outerHTML;try{return JSON.stringify(t)}catch(t){return"[Unserializable data. See browser console for the details]"}}class lt{constructor({handleErrors:t=!0,isQuiet:e=!1}={}){this.logHandlers=[],e||this.addHandler(this.createConsoleLogHandler()),t&&"function"==typeof window.addEventListener&&(window.addEventListener("error",t=>this.error(t.error)),window.addEventListener("unhandledrejection",t=>this.error(t.reason)))}addHandler(t){this.logHandlers.push(t)}trace(...t){this.log("trace",...t)}debug(...t){this.log("debug",...t)}info(...t){this.log("info",...t)}warn(...t){this.log("warning",...t)}error(...t){this.log("error",...t)}critical(...t){this.log("critical",...t)}log(t,...e){this.logHandlers.forEach(n=>n(t,...e))}createConsoleLogHandler(){const t={};return["debug","info","log","warn","error"].forEach(e=>{t[e]=console[e];const n=function(t){switch(t){case"warn":return"warning";case"log":return"debug";default:return t}}(e);console[e]=((...t)=>this.log(n,...t))}),(e,...n)=>{const r=function(t){switch(t){case"trace":return;case"critical":return"error";case"warning":return"warn";default:return t}}(e);void 0!==r&&t[r].call(console,...n)}}}const ht=n(13),{MxObject:ft}=n(11);function pt(){this._objectCache={},this._newGuids={},this._changes={}}pt.prototype.getAllObjects=function(){return Object.values(this._objectCache)},pt.prototype.dehydrate=function(){return ht.clone({data:this.getAllObjects(),newGuids:this._newGuids,changes:this._changes})},pt.prototype.hydrate=function({data:t,newGuids:e,changes:n}){this._objectCache={},t.map(t=>ft.fromJson(t)).forEach(t=>{this._objectCache[t.getGuid()]=t}),this._newGuids=ht.clone(e),this._changes=ht.clone(n)},pt.prototype.getObject=function(t){return this._objectCache[t]||null},pt.prototype.removeObjectKeepChanges=function(t){delete this._objectCache[t],delete this._newGuids[t]},pt.prototype.setMxObjects=function(t){t.forEach(function(t){var e=t.guid,n=this._objectCache[e];n?n.resetFromJSON(t):this._objectCache[e]=new ft({json:t,meta:window.mx.meta.getEntity(t.objectType)})},this)},pt.prototype.has=function(t){return!!this.getObject(t)},pt.prototype.isNew=function(t){return this.has(t)&&Boolean(this._newGuids[t])},pt.prototype.clear=function(){this._objectCache={},this._newGuids={},this._changes={}},pt.prototype.hasChanges=function(t){return t in this._changes},pt.prototype.getChanges=function(t){return ht.clone(this._changes[t]||{})},pt.prototype.makeChange=function(t,e,n){this._changes[t]=this._changes[t]||{},this._changes[t][e]={value:n}},pt.prototype.removeAllChanges=function(t){t.forEach(function(t){delete this._changes[t]},this)},pt.prototype.removeChanges=function(t){Object.keys(t).forEach(e=>{const n=this._changes[e];n&&(t[e].forEach(t=>delete n[t]),0===Object.keys(n).length&&delete this._changes[e])})},pt.prototype.onCreate=function(t){t.forEach(t=>{this._newGuids[t]=!0})},pt.prototype.onCommit=function(t){t.forEach(t=>delete this._newGuids[t])},pt.prototype.onDelete=function(t){for(const e of t)e in this._objectCache&&this._objectCache[e].markAsUnavailable();this.removeObjects(t)},pt.prototype.addChanges=function(t){for(const e in t){const n=t[e];null==this._changes[e]&&(this._changes[e]={});const r=this._changes[e];for(const t in n)r[t]=n[t]}},pt.prototype.removeObjects=function(t){t.forEach(t=>{delete this._objectCache[t],delete this._newGuids[t],delete this._changes[t]})};var dt=n(14);const bt=j.NativeModules.NativeFsModule.DocumentDirectoryPath,gt={};class mt{async readFile(t){const e=await j.NativeModules.NativeFsModule.read(mt.toAbsolutePath(t)),n=new Blob;return n.data=e,n}async storeFile(t,e){await j.NativeModules.NativeFsModule.save(t,e),t.close()}moveFile(t,e){return j.NativeModules.NativeFsModule.move(mt.toAbsolutePath(t),mt.toAbsolutePath(e))}async downloadFile(t,e){return gt[e]=Object(dt.a)(t,"blob").then(async t=>(await j.NativeModules.NativeFsModule.save(t.data,mt.toAbsolutePath(e)),t.close(),t)).then(t=>(delete gt[e],t))}removeDir(t){return j.NativeModules.NativeFsModule.remove(mt.toAbsolutePath(t))}readAsDataURL(t){return(gt[t]?gt[t]:Promise.resolve({})).then(()=>j.NativeModules.NativeFsModule.readAsDataURL(mt.toAbsolutePath(t)))}static toAbsolutePath(t){return[bt,t].join("/")}}var yt=n(8),vt=n(55),wt=n(6);var Ot={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function jt(t){return function(e){var n=e||{},r=n.width?String(n.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}var _t={date:jt({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:jt({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:jt({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},xt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Et(t){return function(e,n){var r=n||{},i=r.width?String(r.width):t.defaultWidth;return("formatting"===(r.context?String(r.context):"standalone")&&t.formattingValues?t.formattingValues[i]||t.formattingValues[t.defaultFormattingWidth]:t.values[i]||t.values[t.defaultWidth])[t.argumentCallback?t.argumentCallback(e):e]}}function St(t){return function(e,n){var r=String(e),i=n||{},o=i.width,a=o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth],s=r.match(a);if(!s)return null;var c,u=s[0],l=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth];return c="[object Array]"===Object.prototype.toString.call(l)?l.findIndex(function(t){return t.test(r)}):function(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}(l,function(t){return t.test(r)}),c=t.valueCallback?t.valueCallback(c):c,{value:c=i.valueCallback?i.valueCallback(c):c,rest:r.slice(u.length)}}}var Tt,Ct={formatDistance:function(t,e,n){var r;return n=n||{},r="string"==typeof Ot[t]?Ot[t]:1===e?Ot[t].one:Ot[t].other.replace("{{count}}",e),n.addSuffix?n.comparison>0?"in "+r:r+" ago":r},formatLong:_t,formatRelative:function(t,e,n,r){return xt[t]},localize:{ordinalNumber:function(t,e){var n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Et({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Et({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:Et({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Et({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Et({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(Tt={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t,e){var n=String(t),r=e||{},i=n.match(Tt.matchPattern);if(!i)return null;var o=i[0],a=n.match(Tt.parsePattern);if(!a)return null;var s=Tt.valueCallback?Tt.valueCallback(a[0]):a[0];return{value:s=r.valueCallback?r.valueCallback(s):s,rest:n.slice(o.length)}}),era:St({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:St({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:St({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:St({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:St({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},Dt=864e5;function kt(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(wt.a)(t,e),r=n.getUTCDay(),i=(r<1?7:0)+r-1;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function At(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(wt.a)(t,e),r=n.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(r+1,0,4),i.setUTCHours(0,0,0,0);var o=kt(i,e),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var s=kt(a,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}var Pt=6048e5;function Mt(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(wt.a)(t,e),r=kt(n,e).getTime()-function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=At(t,e),r=new Date(0);return r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0),kt(r,e)}(n,e).getTime();return Math.round(r/Pt)+1}function Nt(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=e||{},r=n.locale,i=r&&r.options&&r.options.weekStartsOn,o=null==i?0:Object(yt.a)(i),a=null==n.weekStartsOn?o:Object(yt.a)(n.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=Object(wt.a)(t,n),c=s.getUTCDay(),u=(c<a?7:0)+c-a;return s.setUTCDate(s.getUTCDate()-u),s.setUTCHours(0,0,0,0),s}function It(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(wt.a)(t,e),r=n.getUTCFullYear(),i=e||{},o=i.locale,a=o&&o.options&&o.options.firstWeekContainsDate,s=null==a?1:Object(yt.a)(a),c=null==i.firstWeekContainsDate?s:Object(yt.a)(i.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=new Date(0);u.setUTCFullYear(r+1,0,c),u.setUTCHours(0,0,0,0);var l=Nt(u,e),h=new Date(0);h.setUTCFullYear(r,0,c),h.setUTCHours(0,0,0,0);var f=Nt(h,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}var Rt=6048e5;function Vt(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(wt.a)(t,e),r=Nt(n,e).getTime()-function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=e||{},r=n.locale,i=r&&r.options&&r.options.firstWeekContainsDate,o=null==i?1:Object(yt.a)(i),a=null==n.firstWeekContainsDate?o:Object(yt.a)(n.firstWeekContainsDate),s=It(t,e),c=new Date(0);return c.setUTCFullYear(s,0,a),c.setUTCHours(0,0,0,0),Nt(c,e)}(n,e).getTime();return Math.round(r/Rt)+1}var Ft="midnight",$t="noon",Bt="morning",Ut="afternoon",Gt="evening",Lt="night";function Wt(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}function qt(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t);return r+Wt(Math.floor(i/60),2)+n+Wt(i%60,2)}function zt(t,e){return t%60==0?(t>0?"-":"+")+Wt(Math.abs(t)/60,2):qt(t,e)}function Ht(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var a=e||"";return n+String(i)+a+Wt(o,2)}var Yt={G:function(t,e,n){var r=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n,r){var i=t.getUTCFullYear(),o=i>0?i:1-i;return"yy"===e?Wt(o%100,2):"yo"===e?n.ordinalNumber(o,{unit:"year"}):Wt(o,e.length)},Y:function(t,e,n,r){var i=It(t,r),o=i>0?i:1-i;return"YY"===e?Wt(o%100,2):"Yo"===e?n.ordinalNumber(o,{unit:"year"}):Wt(o,e.length)},R:function(t,e,n,r){return Wt(At(t,r),e.length)},u:function(t,e,n,r){return Wt(t.getUTCFullYear(),e.length)},Q:function(t,e,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Wt(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Wt(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n,r){var i=t.getUTCMonth();switch(e){case"M":return String(i+1);case"MM":return Wt(i+1,2);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n,r){var i=t.getUTCMonth();switch(e){case"L":return String(i+1);case"LL":return Wt(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){var i=Vt(t,r);return"wo"===e?n.ordinalNumber(i,{unit:"week"}):Wt(i,e.length)},I:function(t,e,n,r){var i=Mt(t,r);return"Io"===e?n.ordinalNumber(i,{unit:"week"}):Wt(i,e.length)},d:function(t,e,n,r){var i=t.getUTCDate();return"do"===e?n.ordinalNumber(i,{unit:"date"}):Wt(i,e.length)},D:function(t,e,n,r){var i=function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(wt.a)(t,e),r=n.getTime();n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0);var i=r-n.getTime();return Math.floor(i/Dt)+1}(t,r);return"Do"===e?n.ordinalNumber(i,{unit:"dayOfYear"}):Wt(i,e.length)},E:function(t,e,n,r){var i=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){var i=t.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Wt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){var i=t.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Wt(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n,r){var i=t.getUTCDay(),o=0===i?7:i;switch(e){case"i":return String(o);case"ii":return Wt(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){var r,i=t.getUTCHours();switch(r=12===i?$t:0===i?Ft:i/12>=1?"pm":"am",e){case"b":case"bb":case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){var r,i=t.getUTCHours();switch(r=i>=17?Gt:i>=12?Ut:i>=4?Bt:Lt,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n,r){var i=t.getUTCHours()%12;return 0===i&&(i=12),"ho"===e?n.ordinalNumber(i,{unit:"hour"}):Wt(i,e.length)},H:function(t,e,n,r){var i=t.getUTCHours();return"Ho"===e?n.ordinalNumber(i,{unit:"hour"}):Wt(i,e.length)},K:function(t,e,n,r){var i=t.getUTCHours()%12;return"Ko"===e?n.ordinalNumber(i,{unit:"hour"}):Wt(i,e.length)},k:function(t,e,n,r){var i=t.getUTCHours();return 0===i&&(i=24),"ko"===e?n.ordinalNumber(i,{unit:"hour"}):Wt(i,e.length)},m:function(t,e,n,r){var i=t.getUTCMinutes();return"mo"===e?n.ordinalNumber(i,{unit:"minute"}):Wt(i,e.length)},s:function(t,e,n,r){var i=t.getUTCSeconds();return"so"===e?n.ordinalNumber(i,{unit:"second"}):Wt(i,e.length)},S:function(t,e,n,r){var i=e.length,o=t.getUTCMilliseconds();return Wt(Math.floor(o*Math.pow(10,i-3)),i)},X:function(t,e,n,r){var i=(r._originalDate||t).getTimezoneOffset();if(0===i)return"Z";switch(e){case"X":return zt(i);case"XXXX":case"XX":return qt(i);case"XXXXX":case"XXX":default:return qt(i,":")}},x:function(t,e,n,r){var i=(r._originalDate||t).getTimezoneOffset();switch(e){case"x":return zt(i);case"xxxx":case"xx":return qt(i);case"xxxxx":case"xxx":default:return qt(i,":")}},O:function(t,e,n,r){var i=(r._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Ht(i,":");case"OOOO":default:return"GMT"+qt(i,":")}},z:function(t,e,n,r){var i=(r._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Ht(i,":");case"zzzz":default:return"GMT"+qt(i,":")}},t:function(t,e,n,r){var i=r._originalDate||t;return Wt(Math.floor(i.getTime()/1e3),e.length)},T:function(t,e,n,r){return Wt((r._originalDate||t).getTime(),e.length)}};function Jt(t,e,n){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function Kt(t,e,n){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}var Xt={p:Kt,P:function(t,e,n){var r,i=t.match(/(P+)(p+)?/),o=i[1],a=i[2];if(!a)return Jt(t,e);switch(o){case"P":r=e.dateTime({width:"short"});break;case"PP":r=e.dateTime({width:"medium"});break;case"PPP":r=e.dateTime({width:"long"});break;case"PPPP":default:r=e.dateTime({width:"full"})}return r.replace("{{date}}",Jt(o,e)).replace("{{time}}",Kt(a,e))}};function Qt(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");return function(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object(wt.a)(t,n).getTime(),i=Object(yt.a)(e);return new Date(r+i)}(t,-Object(yt.a)(e),n)}var Zt=["D","DD","YY","YYYY"];var te=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ne=/^'(.*?)'?$/,re=/''/g;function ie(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=String(e),i=n||{},o=i.locale||Ct,a=o.options&&o.options.firstWeekContainsDate,s=null==a?1:Object(yt.a)(a),c=null==i.firstWeekContainsDate?s:Object(yt.a)(i.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=o.options&&o.options.weekStartsOn,l=null==u?0:Object(yt.a)(u),h=null==i.weekStartsOn?l:Object(yt.a)(i.weekStartsOn);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var f=Object(wt.a)(t,i);if(!function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(wt.a)(t,e);return!isNaN(n)}(f,i))return"Invalid Date";var p=Qt(f,Object(vt.a)(f),i),d={firstWeekContainsDate:c,weekStartsOn:h,locale:o,_originalDate:f};return r.match(ee).map(function(t){var e=t[0];return"p"===e||"P"===e?(0,Xt[e])(t,o.formatLong,d):t}).join("").match(te).map(function(t){if("''"===t)return"'";var e=t[0];if("'"===e)return t.match(ne)[1].replace(re,"'");var n,r=Yt[e];return r?(i.awareOfUnicodeTokens||(n=t,-1===Zt.indexOf(n))||function(t){throw new RangeError("`options.awareOfUnicodeTokens` must be set to `true` to use `"+t+"` token; see: https://git.io/fxCyr")}(t),r(p,t,o.localize,d)):t}).join("")}var oe,ae,se,ce,ue,le=n(27);!function(t){t.Month="months",t.DayOfWeek="days"}(oe||(oe={})),function(t){t.Long="wide",t.Short="abbr",t.Narrow="narrow"}(ae||(ae={})),function(t){t.Date="date",t.Time="time",t.DateTime="datetime"}(se||(se={})),function(t){t.Short="short",t.Medium="medium",t.Long="long",t.Full="full"}(ce||(ce={})),function(t){t.Gregorian="gregorian",t.ThaiBuddhist="thai-buddhist"}(ue||(ue={}));class he{constructor(t,e,n,r){this.year=t,this.monthOfYear=e,this.dayOfMonth=n,this.chronology=r}isSameDate(t){return this.chronology===t.chronology&&this.getYear()===t.getYear()&&this.getMonthOfYear()===t.getMonthOfYear()&&this.getDayOfMonth()===t.getDayOfMonth()}getChronology(){return this.chronology}getYear(){return this.year}getMonthOfYear(){return this.monthOfYear}getDayOfMonth(){return this.dayOfMonth}getDayOfWeek(){return this.chronology.getDayOfWeek(this)}lengthOfYearInMonths(){return this.chronology.lengthOfYearInMonths(this.year)}plusYears(t){return this.chronology.plusYears(this,t)}plusMonths(t){return this.chronology.plusMonths(this,t)}plusDays(t){return this.chronology.plusDays(this,t)}minusYears(t){return this.chronology.minusYears(this,t)}minusMonths(t){return this.chronology.minusMonths(this,t)}minusDays(t){return this.chronology.minusDays(this,t)}withDayOfMonth(t){return this.chronology.withDayOfMonth(this,t)}withMonthOfYear(t){return this.chronology.withMonthOfYear(this,t)}withYear(t){return this.chronology.withYear(this,t)}toJsDate(){return this.chronology.toJsDate(this)}toString(){const t=fe(this.monthOfYear,2),e=fe(this.dayOfMonth,2),n=pe[this.getDayOfWeek()],r=this.getChronology().getCalendarSystem();return`${this.year}-${t}-${e} ${n} (${r})`}}function fe(t,e){const n=t.toString();return new Array(e-n.length+1).join("0")+n}const pe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];class de{constructor(t=0,e=0,n=0,r=0){this.hour=t,this.minute=e,this.second=n,this.millisecond=r}getHour(){return this.hour}getMinute(){return this.minute}getSecond(){return this.second}getMillisecond(){return this.millisecond}isSameTime(t){return this.hour===t.hour&&this.minute===t.minute&&this.second===t.second&&this.millisecond===t.millisecond}toString(){return be(this.hour,2)+":"+be(this.minute,2)+":"+be(this.second,2)+"."+be(this.millisecond,3)}}function be(t,e){const n=t.toString();return new Array(e-n.length+1).join("0")+n}class ge{constructor(t){this.calendarSystem=t}getCalendarSystem(){return this.calendarSystem}convertInput(t){if(t.getChronology()!==this)throw new Error(`Incompatible chronology: LocalDate should be ${this.getCalendarSystem()} but was ${t.getChronology().getCalendarSystem()}`);return{localDate:t instanceof he?t:t.getDate(),localTime:t instanceof he?new de:t.getTime()}}static getInstance(){return this.instance}}function me(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(wt.a)(t,e),r=n.getFullYear(),i=n.getMonth(),o=new Date(0);return o.setFullYear(r,i+1,0),o.setHours(0,0,0,0),o.getDate()}function ye(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object(wt.a)(t,n),i=Object(yt.a)(e),o=r.getMonth()+i,a=new Date(0);a.setFullYear(r.getFullYear(),o,1),a.setHours(0,0,0,0);var s=me(a,n);return r.setMonth(o,Math.min(s,r.getDate())),r}function ve(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");return ye(t,12*Object(yt.a)(e),n)}function we(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object(wt.a)(t,n),i=Object(yt.a)(e);return r.setDate(r.getDate()+i),r}class Oe{constructor(t,e=new de){this.date=t,this.time=e}getDate(){return this.date}getTime(){return this.time}withDate(t){return new Oe(t,this.time)}withTime(t){return new Oe(this.date,t)}toJsDate(){return this.date.getChronology().toJsDate(this)}isSameDateTime(t){return this.date.isSameDate(t.date)&&this.time.isSameTime(t.time)}getChronology(){return this.date.getChronology()}toString(){return this.date.toString()+" "+this.time.toString()}}class je extends ge{constructor(t=ue.Gregorian,e=0){super(t),this.yearOffset=e}getDayOfWeek(t){return function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Object(wt.a)(t,e).getDay()}(this.toJsDate(t))}lengthOfMonthInDays(t,e){return me(new Date(t,e-1,1))}lengthOfYearInMonths(t){return 12}plusYears(t,e){return _e(this.fromJsDate(ve(this.toJsDate(t),e)),t)}minusYears(t,e){return _e(this.fromJsDate(function(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");return ve(t,-Object(yt.a)(e),n)}(this.toJsDate(t),e)),t)}plusMonths(t,e){return _e(this.fromJsDate(ye(this.toJsDate(t),e)),t)}minusMonths(t,e){return _e(this.fromJsDate(function(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");return ye(t,-Object(yt.a)(e),n)}(this.toJsDate(t),e)),t)}plusDays(t,e){return _e(this.fromJsDate(we(this.toJsDate(t),e)),t)}minusDays(t,e){return _e(this.fromJsDate(function(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");return we(t,-Object(yt.a)(e),n)}(this.toJsDate(t),e)),t)}withDayOfMonth(t,e){return _e(this.fromJsDate(function(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object(wt.a)(t,n),i=Object(yt.a)(e);return r.setDate(i),r}(this.toJsDate(t),e)),t)}withMonthOfYear(t,e){return _e(this.fromJsDate(function(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object(wt.a)(t,n),i=Object(yt.a)(e),o=r.getFullYear(),a=r.getDate(),s=new Date(0);s.setFullYear(o,i,15),s.setHours(0,0,0,0);var c=me(s,n);return r.setMonth(i,Math.min(a,c)),r}(this.toJsDate(t),e-1)),t)}withYear(t,e){return _e(this.fromJsDate(function(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object(wt.a)(t,n),i=Object(yt.a)(e);return isNaN(r)?new Date(NaN):(r.setFullYear(i),r)}(this.toJsDate(t),e)),t)}fromJsDate(t){const e=new he(t.getFullYear()+this.yearOffset,t.getMonth()+1,t.getDate(),this),n=new de(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());return new Oe(e,n)}toJsDate(t){const{localDate:e,localTime:n}=this.convertInput(t);return new Date(e.getYear()-this.yearOffset,e.getMonthOfYear()-1,e.getDayOfMonth(),n.getHour(),n.getMinute(),n.getSecond(),n.getMillisecond())}}function _e(t,e){return e instanceof he?t.getDate():t}je.instance=new je;class xe extends je{}xe.instance=new xe(ue.ThaiBuddhist,543);var Ee=n(19);const Se={[le.validation.NOT_INTEGER]:"invalid_number",[le.validation.RANGE_INTEGER]:"range_integer",[le.validation.RANGE_LONG]:"range_long",[le.validation.RANGE_DECIMAL]:"range_decimal",[le.validation.RANGE_NUMBER]:"range_number"},Te="[No translation]";function Ce(t,e,...n){if(!mx.session.isValid())return Te;return(mx.session.getConfig("uiconfig.translations")[`${t}.${e}`]||Te).replace(/\{(\d+)\}/g,(t,e)=>n.length>=e?n[e-1]:t)}class De{constructor(t){this.defaultPatterns=t}formatValue(t,e,n){if(""===t||null===t)return"";switch(e){case"Decimal":case"Float":case"Currency":case"Integer":case"Long":if(!(t instanceof A))throw new Error(`Value '${t}' cannot be formatted as a numeric value.`);return function(t,e){const n=t.lt(0);let[r,i=""]=t.toFixed().split(".");n&&(r=r.slice(1));void 0!==e&&(i=i.padEnd(e,"0"));return(n?"-":"")+r+(i?"."+i:"")}(t,"Decimal"===e||"Float"===e?void 0:"Currency"===e?2:0);case"DateTime":if("number"!=typeof t)throw new Error(`Value '${t}' cannot be formatted as Date.`);const r=n,i=function(t){return"custom"===t.type}(r)?r.pattern:this.defaultPatterns[r.type];return ie(new Date(t),function(t,e){const n=t.match(/(.)\1*/g)||[];return e.reduce((t,{existing:e,replacement:n})=>t.map(t=>t===e?n:t),n).join("")}(i,[{existing:"yyy",replacement:"yyyy"},{existing:"E",replacement:"e"},{existing:"EE",replacement:"ee"},{existing:"YYY",replacement:"YYYY"}]));case"Boolean":if("boolean"!=typeof t)throw new Error(`Value '${t}' cannot be formatted as boolean.`);return Ce("mxui.common",t.toString());default:if("string"!=typeof t)throw new Error(`Value '${t}' cannot be formatted as ${e}.`);return t}}parseValue(t,e,n){if(""===t)return"";switch(e.toLowerCase()){case"float":case"currency":case"integer":case"long":case"decimal":return function(t,e){let n;try{n=new A(t)}catch(t){return null}return e&&e>=0?n.round(e):n}(t,n.decimalPrecision);case"enum":return t;case"boolean":return t===Ce("mxui.common","true");default:return t}}getDateFormatPlaceholder(t){return""}getI18nBundle(){}getDecimalSeparator(){return""}}var ke=n(11),Ae=n(26),Pe=n(38);function Me(t){const e=["get_session_data","login","logout"];let n,r=0;return async(i,o)=>{const a=r;try{return await o(i)}catch(s){const u=Object(c.f)(i.body)?i.body.action:void 0;if(!(s instanceof Pe.a)||void 0!==u&&e.includes(u))throw s;if(a!==r)return o(i);if(n)return await n,o(i);n=t();try{await n}finally{n=void 0}return++r,o(i)}}}const Ne=t=>{if(null===t||"object"!=typeof t)return t;const e=Array.isArray(t)?[]:{};return Object.keys(t).forEach(n=>e[n]=Ne(t[n])),e};var Ie=n(12);function Re(t){if(t.startsWith("data:"))return t;var e;/^\w+:\/\//.test(t)||(t=(e=t).startsWith("data:")?e:mx.appUrl+e);const n=mx.session.getConfig("cachebust");return t.startsWith(mx.appUrl)&&!t.endsWith(n)&&(t+=(/\?/.test(t)?"&":"?")+n),t}class Ve{constructor(t,e,n){this.sessionStore=t,this.tokenStore=e,this.config=n,this.clientMetadata={}}isValid(){return void 0!==this.sessionData}getConfig(t){if(void 0===this.sessionData)throw new Error("Session is not available");if(!t)return Ne(this.sessionData);const e=t.split(".");let n=this.sessionData;for(let t=0;t<e.length&&n;t++)n=n[e[t]];return Ne(n)}getUserObject(){return this.userObject||(this.userObject=ke.MxObject.fromJson(this.getConfig("user"))),this.userObject}isGuest(){return this.getUserObject().get("IsAnonymous")}getSessionObjectId(){return this.getConfig("sessionObjectId")}getUserId(){return this.getUserObject().getGuid()}getUserRoleNames(){return this.getConfig("roles")}hasSomeRole(t){if(void 0===t)return!0;const e=this.getUserRoleNames();return t.some(t=>e.indexOf(t)>-1)}getMicroflowInfo(t){return this.clientMetadata[t]}async login(t){const e=await Object(Ee.d)(t.username,t.password,this.config.shouldGenerateToken);e.authtoken&&await this.tokenStore.set(e.authtoken)}destroySession(t){t()}async logout(){try{const t=await this.tokenStore.get();await Object(Ee.e)(t)}catch(t){if(!(t instanceof Ae.a))throw t}finally{await this.tokenStore.remove(),await this.sessionStore.remove()}}async startup(t){const e=await this.tokenStore.get();this.sessionParams=e?Object.assign({authtoken:e},t):t;const{sessionData:n,fromCache:r}=await this.loadSessionData();this.sessionData=n;const i=Boolean(n.sync_config);var o,a;return i&&await this.sessionStore.set(JSON.stringify(n)),e&&i?Object(K.c)(Me(this.restoreSessionOnUnauthorized.bind(this))):e?Object(K.c)(Me(async()=>mx.reload())):Object(K.c)((o=this.failOnUnauthorized.bind(this),async(t,e)=>{try{return await e(t)}catch(e){const n=Object(c.f)(t.body)&&t.body.action;if(e instanceof Pe.a&&"login"!==n)return await o(e);throw e}})),!n.sync_config&&n.keepalive&&setInterval(Ee.c,n.keepalive),Object(K.c)((a=(()=>Object(c.c)(this.sessionData).csrftoken),(t,e)=>{const n={url:t.url,init:Object.assign({},t.init,{headers:new Headers(t.init.headers)}),body:t.body};return n.init.headers.append("X-Csrf-Token",a()),e(n)})),await this.loadClientMetadata(),!r}onUnauthorized(t){return t}async loadSessionData(){const t=await this.sessionStore.get(),e=void 0!==t?JSON.parse(t):void 0;if(e&&e.cachebust===this.config.currentCacheBust)return{fromCache:!0,sessionData:e};try{return{fromCache:!1,sessionData:await Object(Ee.a)(Object(c.c)(this.sessionParams))}}catch(t){if(401===t.status)throw await this.sessionStore.remove(),await this.tokenStore.remove(),t;if(460!==t.status&&e)return{fromCache:!0,sessionData:e};throw t}}async loadClientMetadata(){const t=await Object(dt.a)(Re("metamodel.json"),"json");Object.keys(t).forEach(e=>{const n=t[e];this.clientMetadata[e]={parameters:n.p},n.a&&(this.clientMetadata[e].followedAssociations=n.a.map(([t,e])=>({association:t,fromEntity:e})))})}async restoreSessionOnUnauthorized(){try{const{csrftoken:t}=await Object(Ee.a)(Object(c.c)(this.sessionParams));Object(c.c)(this.sessionData).csrftoken=t,await this.sessionStore.set(JSON.stringify(this.sessionData))}catch(t){if(!(t instanceof Pe.a))throw t;await this.failOnUnauthorized(t)}}async failOnUnauthorized(t){return await this.sessionStore.remove(),await this.tokenStore.remove(),this.onUnauthorized(t.status),Object(Ie.b)()}}const Fe=n(13),$e="files/documents/",Be="files/thumbnails/";function Ue(t){return t.replace(/:/g,"_")}const Ge="GUID:",Le=new RegExp("^"+Ge);function We(t){return!Le.test(t)}function qe(t){return"guid"===t||"$"===t[0]}function ze(t,e){return t.$readonlyAttrs.includes(e)}function He(t){const e=Object.keys(t).filter(t=>!qe(t)).reduce((e,n)=>(e[n]={value:t[n]},ze(t,n)&&(e[n].readonly=!0),e),{});return{guid:t.guid,objectType:t.$objectType,attributes:e}}function Ye(t){const e={guid:t.guid,$objectType:t.objectType,$readonlyAttrs:[]};for(const n in t.attributes)e[n]=t.attributes[n].value,t.attributes[n].readonly&&e.$readonlyAttrs.push(n);return e}var Je=n(37);class Ke{getByGuid(t,e){return Promise.reject(new E("getByGuid"))}getByPath(t,e,n,r){return Promise.reject(new E("getByPath"))}getByXPath(t,e,n){return Promise.reject(new E("getByXPath"))}getSlice(t,e,n){return Promise.reject(new E("getSlice"))}action(t,e,n,r,i){return Promise.reject(new E("action"))}create(t){return Promise.reject(new E("create"))}commit(t,e,n,r){return Promise.reject(new E("commit"))}rollback(t){return Promise.reject(new E("rollback"))}remove(t){return Promise.reject(new E("remove"))}validate(t){return Promise.reject(new E("validate"))}saveDocument(t,e,n,r){return Promise.reject(new E("saveDocument"))}generateReport(t,e,n,r){return Promise.reject(new E("generateReport"))}generateExcelReport(t,e){return Promise.reject(new E("generateExcelReport"))}getReportParameters(t){return Promise.reject(new E("getReportParameters"))}getDocumentUrl(t,e,n){throw new E("getDocumentUrl")}getImageUrl(t){return Promise.reject(new E("getImageUrl"))}upload(){return Promise.reject(new E("upload"))}downloadObjects(t){return Promise.reject(new E("downloadObjects"))}downloadFiles(t){return Promise.reject(new E("downloadFiles"))}cleanupDirtyObjects(){return Promise.reject(new E("cleanupDirtyObjects"))}isDirty(t){throw new E("isDirty")}cleanup(){return Promise.reject(new E("cleanup"))}}const Xe=n(13),Qe={String:null,Integer:"0",Long:"0",Decimal:"0",Float:"0",Currency:"0",Enum:null,HashString:null,ObjectReference:null,DateTime:null,Boolean:!1,AutoNumber:"0",Binary:null};class Ze extends Ke{constructor(t,e,n,r,i){super(),t=t||{},this._store=n,this._getDocumentUrl=t.getDocumentUrlFn||nn,this._objectCache=e,this._fileBackend=r,this._synchronizer=i,this._dirtyGuids=[]}async initialize(){const t=await this._store.fetchDirty();this._dirtyGuids=t.map(t=>t.guid)}getByGuid(t,e){return Promise.all(t.map(this._getByGuid,this)).then(t=>{return{mxobjects:t.filter(t=>null!=t).map(He)}})}async getByPath(t,e,n,r){if("reverse"===r){const r=this._objectCache.getAllObjects().filter(n=>n.getReferences(e).includes(t)).map(t=>t.jsonData),{mxobjects:i}=await this.getSlice(n,[{attribute:e,operator:"equals",value:t}]),o=i.map(t=>ke.MxObject.fromJson(t)).filter(n=>n.getReferences(e).includes(t)).filter(t=>!r.some(e=>e.guid===t.getGuid())).map(t=>t.jsonData);return{mxobjects:r.concat(o)}}{let n=this._objectCache.getObject(t);if(!n){const{mxobjects:[e]}=await this.getByGuid([t]);e&&(n=ke.MxObject.fromJson(e))}if(!n)return{mxobjects:[]};const r=n.getReferences(e),i=r.map(t=>this._objectCache.getObject(t)).filter(t=>null!==t).map(t=>t.jsonData),o=r.filter(t=>!this._objectCache.has(t)),{mxobjects:a}=await this.getByGuid(o);return{mxobjects:a.concat(i)}}}getSlice(t,e,n){const r=window.mx.meta.getEntity(t),i=(e||[]).map(t=>(t.attribute&&r.isReference(t.attribute)&&(t.value=this._synchronizer.getInternalGuid(t.value)),t));return this._store.getSlice(t,i,n).then(([t,e])=>{return{mxobjects:t.map(this._synchronizer.makeObjectExternal,this._synchronizer).map(He),count:e}})}create(t){const e=Ge+Fe.getUniqueId();return this._objectCache.onCreate([e]),this._objectCache.setMxObjects([en(e,t)]),Promise.resolve({actionResult:e})}async commit(t,e){const n=Xe.objectFromArray(t.map(t=>[t,this._objectCache.getChanges(t)])),[r,i]=Xe.partition(t=>this._objectCache.has(t),t),o=r.map(t=>this._objectCache.getObject(t)),[a,s]=Xe.partition(t=>t.isPersistable(),o),c=a.map(tn),u=(await Promise.all(i.map(this._getByGuid,this))).concat(c).map(h);u.length>0&&(await this._store.insertOrReplace(u.map(this._synchronizer.makeObjectInternal,this._synchronizer)),this._dirtyGuids.push(...u.map(t=>t.guid)),this._objectCache.setMxObjects(u.map(t=>He(t))));const l=s.map(tn).map(h);return this._objectCache.setMxObjects(l.map(t=>He(t))),this._objectCache.onCommit(t),this._objectCache.removeChanges(function(t){const e={};return Object.keys(t).forEach(n=>{e[n]=Object.keys(t[n])}),e}(n)),{};function h(t){return Object.assign({},t,Xe.mapObject(n[t.guid],t=>t.value))}}rollback(t){this._objectCache.removeAllChanges(t);const e=t.filter(t=>this._objectCache.isNew(t));return this._objectCache.removeObjects(e),Promise.resolve({})}validate(t){return Promise.resolve({})}saveDocument(t,e,n,r){if(r.size/1048576>n.maxFileSize)return Promise.reject(new Je.a("File too large"));const i=Ue(this._synchronizer.getInternalGuid(t));return this._fileBackend.storeFile(r,$e+i).then(()=>(this._objectCache.makeChange(t,"HasContents",!0),this.commit([t],null)))}getDocumentUrl(t,e,n){return this._getDocumentUrl(Ue(this._synchronizer.getInternalGuid(t)),e,n)}getImageUrl(t){return Promise.resolve(t)}upload(){return this._synchronizer.upload()}async downloadObjects(t){await this._synchronizer.downloadObjects(t),this._dirtyGuids=[]}downloadFiles(t){return this._synchronizer.downloadFiles(t)}cleanupDirtyObjects(){return this._store.cleanupDirtyObjects()}isDirty(t){return this._dirtyGuids.includes(t)}async cleanup(){await this._store.cleanDatabase(),await this._fileBackend.removeDir($e),await this._fileBackend.removeDir(Be),this._dirtyGuids=[]}_getByGuid(t){return this._store.getByGuid(this._synchronizer.getInternalGuid(t)).then(t=>this._synchronizer.makeObjectExternal(t))}}function tn(t){return Ye(t.jsonData)}function en(t,e){const n={guid:t,objectType:e,attributes:{}},r=window.mx.meta.getEntity(e);return r.getAttributes().forEach(t=>{n.attributes[t]={value:Qe[r.getAttributeType(t)]}}),n}function nn(t,e,n){var r=n?"thumbnails":"documents";return"filesystem:"+window.mx.appUrl+"temporary/files/"+r+"/"+t+"?"+ +new Date}class rn extends Je.a{constructor(t){super(t),Object.setPrototypeOf(this,rn.prototype)}}class on extends Error{constructor(t="Could temporarily not synchronize data. Please try again later."){super(t),Object.setPrototypeOf(this,on.prototype)}}var an=n(13),sn=n.n(an),cn=n(89);class un{constructor(t,e,n){this._store=t,this._fileBackend=e,this._objectCache=n,this._internalToExternal={}}async upload(){try{await this._upload()}catch(t){throw t instanceof Ae.a?new on:t instanceof rn?t:new Z}}async downloadObjects(t){try{await this._downloadObjects(t)}catch(t){throw t instanceof Ae.a?new on:new Z}}async downloadFiles(t){try{await this._downloadFiles(t)}catch(t){throw t instanceof Ae.a?new on:new Z}}async _upload(){const t=this._fileBackend,e=await this._store.fetchDirty();if(0===e.length)return{};!function(t){const e=t.map(t=>t.guid),n=sn.a.unique(t.map(t=>p(t).map(([t,e])=>e)).reduce((t,e)=>t.concat(e),[])).filter(t=>!We(t)).filter(t=>!e.includes(t));if(n.length>0){const e=sn.a.unique(t.map(t=>p(t).filter(([t,e])=>n.includes(e)).map(([e,n])=>`object of type ${t.$objectType} (reference ${e})`)).reduce((t,e)=>t.concat(e),[])).join(", "),r=`Sync has failed due to a modeling error. Your database contains objects that reference uncommitted objects:\n${e}.`;throw new rn(r)}}(e);const[n,r]=sn.a.partition(t=>We(t.guid),e),i=r.filter(d),o=n.filter(d),[a,s]=await Promise.all([Promise.all(i.concat(o).map(async function(e){const n=$e+Ue(e.guid),r=await t.readFile(n);return{tempGuid:(await Object(cn.uploadWithRetries)("__sync__","",r,2)).commits[0],fileObjGuid:e.guid}})),Promise.all(r.map(function(t){return Object(Ee.b)(t.$objectType).then(e=>{const n=e.objects.find(t=>t.guid===e.actionResult);return{internalObj:t,remoteJson:n}})}))]),c=sn.a.objectFromArray(s.map(({internalObj:t,remoteJson:e})=>[t.guid,e.guid])),u=sn.a.objectFromArray(a.map(({tempGuid:t,fileObjGuid:e})=>We(e)?[t,e]:[t,c[e]])),l=n.map(t=>t.guid).concat(s.map(({remoteJson:t})=>t.guid)),h=s.map(({remoteJson:t})=>t),f=sn.a.objectFromArray(e.map(t=>(function(t,e){const n=window.mx.meta.getEntity(t.$objectType),r=Object.keys(t).filter(function(e){return!qe(e)&&n.isSyncable(e)&&!ze(t,e)}).map(r=>{const i=t[r],o=n.isObjectReference(r)&&null!=i&&!We(i)?e[i]:i;return[r,{value:o}]});return[We(t.guid)?t.guid:e[t.guid],sn.a.objectFromArray(r)]})(t,c)));return await Object(Ee.h)(l,u,f,h),await this._store.makeClean(e),await Promise.all(i.map(async e=>{const n=$e+Ue(e.guid),r=$e+Ue(c[e.guid]);await t.moveFile(n,r)})),sn.a.arrayFromObject(c).forEach(([t,e])=>this._mapInternalGuid(t,e)),{};function p(t){const e=window.mx.meta.getEntity(t.$objectType);return sn.a.arrayFromObject(t).filter(([t,n])=>"guid"===t||!qe(t)&&e.isReference(t))}function d(t){return window.mx.meta.getEntity(t.$objectType).isA("System.FileDocument")&&t.HasContents}}async _downloadObjects(t){const e=sn.a.flatten(await Promise.all(t.map(({store:t,xpath:e})=>(function(t,e){return Object(Ee.g)(e).then(e=>e.mxobjects.map(Ye).map(e=>Object.assign({},e,{$objectType:t})))})(t,e))));await this._store.rebuildDatabase(e);const n=e.map(this.makeObjectExternal,this),r=this._objectCache.getAllObjects().filter(t=>t.isPersistable()).map(t=>[n.find(e=>e.guid===t.getGuid()),t]),[i,o]=sn.a.partition(([t])=>void 0!==t,r);return this._objectCache.setMxObjects(i.map(([t])=>He(t))),this._objectCache.onDelete(o.map(([t,e])=>e.getGuid())),await Object(X.c)(...t.map(({store:t})=>({entity:t})),...i.map(([{guid:t}])=>({guid:t})),...o.map(([t,e])=>({guid:e.getGuid()}))),{}}async _downloadFiles(t){const e=this._store,n=this._fileBackend,r=sn.a.flatten(await Promise.all(t.map(t=>(function(t){return e.getSlice(t,[{attribute:"HasContents",operator:"equals",value:"true"}]).then(([t,e])=>t)})(t)))),i=r.map(t=>a(t,!1)),o=r.filter(t=>window.mx.meta.getEntity(t.$objectType).isA("System.Image")).map(t=>a(t,!0));return await Promise.all(i.concat(o)),{};function a(t,e){const r=function(t,e,n){return mx.remoteUrl+function(t,e,n){let r="file?"+["guid="+t,"changedDate="+e].join("&");return n&&(r+="&thumb=true"),r}(t,e,n)}(t.guid,t.changedDate,e),i=(e?Be:$e)+Ue(t.guid);return n.downloadFile(r,i)}}getExternalGuid(t){return this._internalToExternal[t]||t}getInternalGuid(t){for(const e in this._internalToExternal)if(this._internalToExternal[e]===t)return e;return t}makeObjectExternal(t){return ln(t,this.getExternalGuid.bind(this))}makeObjectInternal(t){return ln(t,this.getInternalGuid.bind(this))}_mapInternalGuid(t,e){this._internalToExternal[e]=t}}function ln(t,e){if(null===t)return null;const n=window.mx.meta.getEntity(t.$objectType);return sn.a.mapObject(t,(t,r)=>{return("guid"===r||!qe(r)&&n.isReference(r))&&null!=t?e(t):t})}const hn=n(141);function fn(t,...e){return new Promise((n,r)=>{const i=e.concat([n,r]);t(...i)})}function pn(t){return(e,n)=>{const r=n(e),i=new Promise((n,r)=>{setTimeout(()=>r(new Ae.a(`Request ${function(t){return(t.init.method||"get").toUpperCase()+" "+t.url+(Object(c.f)(t.body)&&t.body.action?`(${t.body.action})`:"")}(e)} timed out after ${t} ms.`)),t)});return Promise.race([r,i])}}var dn,bn=n(81);async function gn(t,e,n,r){Object(K.b)(),Object(K.c)(pn(3e4));const i=new pt,o=new Ve(new k("session"),new k("token"),{currentCacheBust:e,shouldGenerateToken:!0}),a=new Y,s=new at({garbageCollectionInterval:1e4,logCleanupStatistics:!1},i),c=new De(r),u=new lt;window.mx={version:"{{mendix-version}}",appUrl:"resources://",homeUrl:"not-supported",remoteUrl:t,ui:new H,onError:t=>j.NativeModules.NativeErrorHandler.handle(t.message,Object(bn.parse)(t.stack)),isOffline:()=>!0,reload:()=>j.NativeModules.NativeReloadHandler.reload(),logout:()=>{throw new E},logger:u,session:o,meta:a,data:s,parser:c},function(t){Object(K.c)((e,n)=>{if(!e.url.startsWith(window.mx.appUrl))return n(e);let r;if((r=-1===e.url.indexOf("?")?e.url.substring(window.mx.appUrl.length):e.url.substring(window.mx.appUrl.length,e.url.indexOf("?")))in t){const e=t[r]();return Promise.resolve(new Response(JSON.stringify(e),{status:200,statusText:"OK"}))}return Promise.reject(new Error(`Failed to locate resource ${r}`))})}(n);const l=await o.startup({hybrid:!0,offline:!0,profile:"hybridPhoneOffline",timezoneoffset:(new Date).getTimezoneOffset()});if(o.getConfig("isDevModeEnabled")){const e=new ct(t);e.connect(),e.addOnReload(H.savePageState),e.addOnReload(j.NativeModules.NativeReloadHandler.reload),u.addHandler((t,...n)=>{e.log(t,...n)})}a.startup();const h=await async function(t,e,{createStoreFn:n,getStorageDirFn:r,downloadFileFn:i,getDocumentUrlFn:o}){const a=new hn(window.mx.session.getConfig("sync_config.schema"),n),s=new e({downloadFileFn:i,getStorageDirFn:r}),c=new un(a,s,t),u=new Ze({getDocumentUrlFn:o},t,a,s,c);return await u.initialize(),u}(i,mt,{createStoreFn:()=>J.openDatabase("MendixDatabase","1","Mendix Database",-1)});s.startup(h),l&&(await fn(s.uploadOfflineObjectsAndFiles.bind(s)),await s.downloadObjects(),s.downloadFiles())}async function mn({cacheBust:t,resourcesMap:e,defaultPatterns:n}){try{const r=j.NativeModules.MxConfiguration.RUNTIME_URL;await gn(r,t,e,n),await H.startApp()}catch(t){j.NativeModules.NativeErrorHandler.handle(t.message,Object(bn.parse)(t.stack))}}function yn(t){const e={testID:t.name,style:t.style};return t.text.status!==dn.Loading?Object(r.createElement)(j.Text,e,t.text.value):null}function vn(t,e){return Object.keys(t).filter(t=>!e.includes(t)).reduce((e,n)=>Object.assign({},e,{[n]:t[n]}),{})}function wn(t,e){return e.filter(e=>void 0!==t[e]).reduce((e,n)=>Object.assign({},e,{[n]:t[n]}),{})}function On(t,e){return t.filter(t=>void 0!==t&&void 0!==t[e]).map(t=>t[e])}function jn(t,e){const n=On(t,e);return n.length>0?n[n.length-1]:null}!function(t){t.Loading="loading",t.Unavailable="unavailable",t.Available="available"}(dn||(dn={}));const _n=12;function xn(t){const{buttonStyles:e,captionStyles:n,iconStyles:i}=function(t){const e=On(t,"button"),n=On(t,"caption"),r=On(t,"icon");return{buttonStyles:e,captionStyles:n,iconStyles:r}}(t.style),o="android"===j.Platform.OS,a=o?j.TouchableNativeFeedback:j.TouchableOpacity,s={background:j.TouchableNativeFeedback.SelectableBackgroundBorderless()},c=t.caption.value||"",u=o&&c?c.toUpperCase():c,l=i&&Number(jn(i,"size")||_n),h=i&&jn(i,"color"),f={name:`${t.name}$icon`,color:h,size:l};return Object(r.createElement)(j.View,{style:e},Object(r.createElement)(a,Object.assign({testID:t.name,onPress:()=>t.onClick.execute(),disabled:!t.onClick||!t.onClick.canExecute},s,{accessible:!1}),Object(r.createElement)(j.View,{style:{flexDirection:"row",alignItems:"center"}},Object(r.createElement)(j.View,{testID:`${t.name}$iconWrapper`},t.icon&&t.icon(f)),Object(r.createElement)(j.Text,{testID:`${t.name}$caption`,style:n},u))))}const En=Symbol("mxObject");function Sn(t,e){return{id:t.getGuid(),[En]:{obj:t,scope:e}}}const Tn=y(class extends r.Component{constructor(t){super(t),this.store=new V(t.$store);const{obj:e,scope:n}=function(t){const e=t[En];if(void 0===e)throw new Error("Arbitrary object is used as a ListItem. This is not allowed.");return e}(t.scope);this.store.set(n,"object",e)}render(){return Object(r.createElement)(m,{store:this.store},this.props.children)}});function Cn(t){const{listWrapperStyles:e,listWrapperExtraStyleProps:n,listItemStyle:i}=function(t){const e=On(t,"list").map(t=>vn(t,Dn)),n=On(t,"list").map(t=>wn(t,Dn)).reduce((t,e)=>Object.assign({},t,e),{}),r=On(t,"listItem");return{listWrapperStyles:e,listWrapperExtraStyleProps:n,listItemStyle:r}}(t.style),o=Object.assign({testID:t.name,refreshing:t.listInfo.status===dn.Loading,style:e,data:t.listInfo.value?t.listInfo.value.items:[],horizontal:t.horizontal,listKey:t.id,keyExtractor:t=>t.id,renderItem:({item:e,index:n})=>Object(r.createElement)(Tn,{scope:e},Object(r.createElement)(j.View,{testID:`${t.name}$item${n}`,style:i},t.itemTemplate())),onEndReached:()=>{const e=Object(c.c)(t.amount.value).plus(t.pageSize);t.amount.setValue(e)}},n);return Object(r.createElement)(j.FlatList,Object.assign({},o))}const Dn=["numColumns"];function kn(t){const e={testID:t.name,style:t.style};return Object(r.createElement)(j.View,e,t.content)}class An extends r.Component{constructor(){super(...arguments),this.onPressHandler=this.onPress.bind(this)}onPress(){this.props.onClick&&this.props.onClick.canExecute&&this.props.onClick.execute()}render(){return Object(r.createElement)(j.TouchableWithoutFeedback,{testID:this.props.name,onPress:this.onPressHandler},Object(r.createElement)(j.Image,{source:this.props.source,style:this.props.style}))}}class Pn extends r.Component{constructor(t){super(t),this.state={selectedValue:t.selectedValue},this.onValueChanged=this.onValueChanged.bind(this)}render(){const{name:t,inline:e,style:n,items:i,disabled:o}=this.props,{selectedValue:a}=this.state,s=e?"dropdown":"dialog";return Object(r.createElement)(j.Picker,{testID:t,selectedValue:a,mode:s,style:n,onValueChange:this.onValueChanged,key:`${t}$picker`,enabled:!o},i.map(Pn.renderItem))}onValueChanged(t){this.setState({selectedValue:t}),this.props.onValueChanged&&this.props.onValueChanged(t)}static renderItem(t,e){const{value:n,label:i}=t;return Object(r.createElement)(j.Picker.Item,{label:i,value:n,key:n,testID:`dropDownItem${e}`})}}class Mn extends r.Component{constructor(t){super(t),this.state={pickerVisible:!1},this.togglePicker=this.togglePicker.bind(this)}render(){const{selectedValue:t,valueStyle:e,style:n,disabled:i,items:o}=this.props,{pickerVisible:a}=this.state,s=Object.assign({},this.props,{onClose:this.props.onClose||this.togglePicker}),c=this.props.inline?Object(r.createElement)(Nn,Object.assign({},s)):In(Nn,s);return Object(r.createElement)(j.View,{style:n},Object(r.createElement)(j.TouchableOpacity,{onPress:()=>this.togglePicker(),key:"button",disabled:i,testID:`${this.props.name}$openButton`,accessible:!1},Object(r.createElement)(j.Text,{style:e},t||o[0].label)),a?c:null)}togglePicker(){this.setState({pickerVisible:!this.state.pickerVisible})}}class Nn extends r.Component{constructor(t){super(t),this.state={selectedValue:this.props.selectedValue},this.onValueChanged=this.onValueChanged.bind(this)}render(){const{valueStyle:t,items:e,pickerStyle:n,name:i}=this.props,{selectedValue:o}=this.state;return Object(r.createElement)(j.PickerIOS,{selectedValue:o,itemStyle:t,onValueChange:this.onValueChanged,style:n,key:`picker${i}`},e.map(Nn.renderItem))}onValueChanged(t){this.setState({selectedValue:t}),this.props.onValueChanged&&this.props.onValueChanged(t)}static renderItem(t){const{value:e,label:n}=t;return Object(r.createElement)(j.PickerIOS.Item,{label:n,value:e,key:e})}}const In=(t,e)=>Object(r.createElement)(j.Modal,{animationType:"fade",key:"modal",transparent:!0},Object(r.createElement)(j.TouchableWithoutFeedback,{accessible:!1,onPress:e.onClose},Object(r.createElement)(j.View,{style:Rn.modalWrapper},Object(r.createElement)(j.View,{style:[...e.backdropStyle||[],{position:"absolute",height:"100%",width:"100%"}]}),Object(r.createElement)(j.View,{style:Rn.container},Object(r.createElement)(j.View,{style:[Rn.topWrapper,...e.topStyle||[]]},Object(r.createElement)(j.Button,{testID:`${e.name}$closeButton`,title:Ce("mxui.widget.native","ModalDialog.close"),onPress:e.onClose})),Object(r.createElement)(t,Object.assign({},e)))))),Rn=j.StyleSheet.create({modalWrapper:{backgroundColor:"rgba(0, 0, 0, 0.3)",flex:1,flexDirection:"row",alignItems:"flex-end"},container:{backgroundColor:"#FFFFFF",flex:1},topWrapper:{alignItems:"flex-end"}});var Vn=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n};const Fn=t=>{const{error:e}=t,n=Vn(t,["error"]);return e?Object(r.createElement)(j.Text,n,e):null},$n=({name:t,label:e,style:n})=>e&&e.status!==dn.Loading?Object(r.createElement)(j.Text,{testID:t,style:n},e.value):null;class Bn extends r.Component{constructor(t){super(t),this.state={pickerVisible:!1},this.onValueChange=this.onValueChange.bind(this)}render(){const{name:t,inline:e,inputValue:n,style:i,label:o}=this.props,a=[...On(this.props.style,"label"),"horizontal"===this.props.formOrientation?{flex:this.props.labelWidth}:void 0],s=On(this.props.style,"validationMessage"),c="horizontal"===this.props.formOrientation?{flexDirection:"row",alignItems:"center"}:void 0,u="horizontal"===this.props.formOrientation?{flex:12-this.props.labelWidth}:void 0,l=n.readOnly||n.status!==dn.Available,h=this.props.inputValue.validation&&this.props.inputValue.validation[0],f={name:t,inline:e,disabled:l,key:t,items:this.makeItems(),selectedValue:n.value,onValueChanged:this.onValueChange};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(j.View,{key:"inputGroup",style:c},Object(r.createElement)($n,{name:`${t}$label`,key:`${t}$label`,label:o,style:a}),"android"===j.Platform.OS?Object(r.createElement)(Pn,Object.assign({},f,{style:[...On(i,"value")||[],u]})):Object(r.createElement)(Mn,Object.assign({},f,{style:[u],pickerStyle:On(this.props.style,"pickerIOS"),topStyle:On(i,"pickerTopIOS"),backdropStyle:On(i,"pickerBackdropIOS"),valueStyle:On(i,"value")||[]}))),Object(r.createElement)(Fn,{key:"error",testID:`${t}$alert`,error:h,style:s}))}onValueChange(t){const e=t!==this.props.emptyOptionCaption.value?String(t):void 0;e!==this.props.inputValue.value&&this.props.inputValue.setValue(e)}makeItems(){const{inputValue:{universe:t,formatter:e},emptyOptionCaption:n}=this.props;return[n.value,...t||[]].map(t=>({value:t||"",label:e.format(t)}))}}class Un extends r.Component{constructor(t){super(t),this.onChange=this.onChange.bind(this)}onChange(t){this.props.value.status!==dn.Available||this.props.value.readOnly||this.props.value.setValue(t)}render(){const{inputStyles:t,inputErrorStyles:e,labelStyles:n,validationMessageStyles:i,inputSwitchStyleProps:o,inputErrorSwitchStyleProps:a,inputDirectionStyle:s}=this.processStyles(),c="horizontal"===this.props.formOrientation?{flexDirection:"row",alignItems:"center"}:void 0,u=this.props.value.validation&&this.props.value.validation[0],l=this.props.caption?Object(r.createElement)(j.Text,{testID:`${this.props.name}$label`,key:"label",style:n},this.props.caption.value):null,h=Object.assign({testID:this.props.name,style:u?e:t,onValueChange:this.onChange,value:this.props.value.value||!1,disabled:this.props.value.readOnly},u?a:o);return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(j.View,{key:"inputGroup",style:c},l,Object(r.createElement)(j.Switch,Object.assign({key:"input"},h))),Object(r.createElement)(Fn,{key:"alert",testID:`${this.props.name}$alert`,error:u,style:[...i,s]}))}processStyles(){const t=["tintColor","thumbTintColor"],e=On(this.props.style,"input").map(e=>vn(e,t)),n=On(this.props.style,"inputError").map(e=>vn(e,t)),r=On(this.props.style,"input").map(e=>wn(e,t)).reduce((t,e)=>Object.assign({},t,e),{}),i=On(this.props.style,"inputError").map(e=>wn(e,t)).reduce((t,e)=>Object.assign({},t,e),{});return{inputStyles:e,inputErrorStyles:n,labelStyles:[...On(this.props.style,"label"),"horizontal"===this.props.formOrientation?{flex:this.props.labelWidth}:void 0],validationMessageStyles:On(this.props.style,"validationMessage"),inputSwitchStyleProps:r,inputErrorSwitchStyleProps:i,inputDirectionStyle:"horizontal"===this.props.formOrientation?{flex:12-this.props.labelWidth}:void 0}}}const Gn={default:{android:"default",iOS:"default"},"number-pad":{android:"numeric",iOS:"number-pad"},"decimal-pad":{android:"numeric",iOS:"decimal-pad"},"phone-pad":{android:"phone-pad",iOS:"phone-pad"},url:{android:"default",iOS:"url"},"email-address":{android:"email-address",iOS:"email-address"}};class Ln extends r.Component{constructor(t){super(t),this.state={focused:!1,displayValue:t.inputValue.displayValue},this.onChangeText=this.onChangeText.bind(this),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this)}componentDidUpdate(){this.state.focused||this.props.inputValue.displayValue===this.state.displayValue||this.setState({displayValue:this.props.inputValue.displayValue})}render(){const{inputStyles:t,inputErrorStyles:e,labelStyles:n,validationMessageStyles:i,inputTextInputStyleProps:o,inputErrorTextInputStyleProps:a,inputGroupWrapperStyle:s,inputDirectionStyle:c}=this.processStyles(),u=this.props.inputValue.validation&&this.props.inputValue.validation[0],l=Object.assign({maxLength:this.props.maxLength,testID:this.props.name,style:[...u?[t,e]:[t],c],editable:!this.props.inputValue.readOnly&&this.props.inputValue.status===dn.Available,onChangeText:this.onChangeText,onFocus:this.onFocus,onBlur:this.onBlur,placeholder:this.props.placeholder.value||void 0,value:this.state.displayValue,keyboardType:Ln.getPlatformKeyboardType(this.props.keyboardType),clearButtonMode:"always",secureTextEntry:this.props.isPassword},u?a:o);return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(j.View,{key:"inputGroup",style:s},this.props.label&&Object(r.createElement)(j.Text,{testID:`${this.props.name}$label`,key:"label",style:n},this.props.label.value),Object(r.createElement)(j.TextInput,Object.assign({key:"input"},l))),Object(r.createElement)(Fn,{key:"alert",testID:`${this.props.name}$alert`,style:i,error:u}))}onChangeText(t){this.setState({displayValue:t})}onFocus(){this.setState({focused:!0,displayValue:this.props.inputValue.displayValue}),this.dispatchAction("onEnter")}onBlur(){this.submitValue(),this.dispatchAction("onLeave"),this.setState({focused:!1})}submitValue(){this.state.displayValue!==this.props.inputValue.displayValue&&this.props.inputValue.setTextValue(this.state.displayValue)}dispatchAction(t){const e=this.props[t];this.props.inputValue.status===dn.Available&&e&&e.execute()}static getPlatformKeyboardType(t){const e=Gn[t];return"android"===j.Platform.OS?e.android:e.iOS}processStyles(){const t=["placeholderTextColor","selectionColor","underlineColorAndroid"],e=On(this.props.style,"input").map(e=>vn(e,t)),n=On(this.props.style,"inputError").map(e=>vn(e,t)),r=On(this.props.style,"input").map(e=>wn(e,t)).reduce((t,e)=>Object.assign({},t,e),{}),i=On(this.props.style,"inputError").map(e=>wn(e,t)).reduce((t,e)=>Object.assign({},t,e),{}),o="horizontal"===this.props.formOrientation?{flex:this.props.labelWidth}:void 0,a=On(this.props.style,"label"),s=On(this.props.style,"validationMessage"),c="horizontal"===this.props.formOrientation?{flexDirection:"row",alignItems:"center"}:void 0,u="horizontal"===this.props.formOrientation?{flex:12-this.props.labelWidth}:void 0;let l=Array();return o&&(l=[...l,o]),a&&(l=[...l,...a]),{inputStyles:e,inputErrorStyles:n,labelStyles:l,validationMessageStyles:s,inputTextInputStyleProps:r,inputErrorTextInputStyleProps:i,inputGroupWrapperStyle:c,inputDirectionStyle:u}}}class Wn extends r.Component{constructor(){super(...arguments),this.state={internalValue:this.props.inputValue.displayValue||""},this.onChangeTextHandler=this.onChangeText.bind(this),this.onFocusHandler=this.onFocus.bind(this),this.onBlurHandler=this.onBlur.bind(this)}componentDidUpdate(t){this.props.inputValue.displayValue!==t.inputValue.displayValue&&this.setState({internalValue:this.props.inputValue.displayValue})}onChangeText(t){this.setState({internalValue:t})}onFocus(){this.dispatchAction("onEnter")}onBlur(){this.state.internalValue!==this.props.inputValue.displayValue&&this.props.inputValue.setValue(this.state.internalValue),this.dispatchAction("onLeave")}render(){const{inputStyles:t,inputErrorStyles:e,labelStyles:n,validationMessageStyles:i,inputTextInputStyleProps:o,inputErrorTextInputStyleProps:a,inputGroupWrapperStyle:s,inputDirectionStyle:c}=this.processStyles(),u=this.props.inputValue.validation[0],l=this.props.label?Object(r.createElement)(j.Text,{testID:`${this.props.name}$label`,key:"label",style:n},this.props.label.value):null,h=Object.assign({multiline:!0,numberOfLines:this.props.numberOfLines,testID:this.props.name,style:[...u?[t,e]:[t],c],editable:!this.props.inputValue.readOnly&&this.props.inputValue.status===dn.Available,onChangeText:this.onChangeTextHandler,onFocus:this.onFocusHandler,onBlur:this.onBlurHandler,maxLength:this.props.maxLength,placeholder:this.props.placeholder.value||void 0,value:this.state.internalValue},u?a:o);return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(j.View,{key:"inputGroup",style:s},l,Object(r.createElement)(j.TextInput,Object.assign({key:"input"},h))),Object(r.createElement)(Fn,{key:"alert",testID:`${this.props.name}$alert`,style:i,error:u}))}dispatchAction(t){const e=this.props[t];this.props.inputValue.status===dn.Available&&e&&e.execute()}processStyles(){const t=["placeholderTextColor","selectionColor","underlineColorAndroid"],e=On(this.props.style,"input").map(e=>vn(e,t)),n=On(this.props.style,"inputError").map(e=>vn(e,t)),r=On(this.props.style,"input").map(e=>wn(e,t)).reduce((t,e)=>Object.assign({},t,e),{}),i=On(this.props.style,"inputError").map(e=>wn(e,t)).reduce((t,e)=>Object.assign({},t,e),{}),o="horizontal"===this.props.formOrientation?{flex:this.props.labelWidth}:void 0;return{inputStyles:e,inputErrorStyles:n,labelStyles:[...On(this.props.style,"label"),o],validationMessageStyles:On(this.props.style,"validationMessage"),inputTextInputStyleProps:r,inputErrorTextInputStyleProps:i,inputGroupWrapperStyle:"horizontal"===this.props.formOrientation?{flexDirection:"row",alignItems:"center"}:void 0,inputDirectionStyle:"horizontal"===this.props.formOrientation?{flex:12-this.props.labelWidth}:void 0}}}const qn=t=>Object(r.createElement)(j.ScrollView,{style:[t.style]},t.content);class zn extends r.Component{constructor(){super(...arguments),this.onDatePressHandler=this.onDatePress.bind(this)}async onDatePress(){if(this.props.inputValue.readOnly)return;this.dispatchAction("onEnter");const t=this.props.inputValue.status===dn.Available&&void 0===this.props.inputValue.value?new Date:this.props.inputValue.value;try{const e=await this.selectDate(t).then(this.selectTime.bind(this));this.props.inputValue.setValue(e)}catch(t){}finally{this.dispatchAction("onLeave")}}render(){const t=tr(this.props.style,this.props),e=this.props.inputValue.validation&&this.props.inputValue.validation[0];return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(j.View,{key:"inputGroup",style:t.inputGroupWrapperStyle},Object(r.createElement)(Xn,{key:"label",name:this.props.name,label:this.props.label,style:t.label}),Object(r.createElement)(Qn,{key:"value",name:this.props.name,inputValue:this.props.inputValue,placeholder:this.props.placeholder,onPress:this.onDatePressHandler,style:t.value})),Object(r.createElement)(Fn,{key:"error",testID:`${this.props.name}$alert`,error:e,style:t.validationMessage}))}async selectDate(t){if("date"===this.props.mode||"datetime"===this.props.mode){const{action:e,year:n,month:r,day:i}=await j.DatePickerAndroid.open({date:t});return e===j.DatePickerAndroid.dateSetAction&&n&&void 0!==r&&i?new Date(n,r,i):Promise.reject()}return t}async selectTime(t){if("time"===this.props.mode||"datetime"===this.props.mode){const{action:e,hour:n,minute:r}=await j.TimePickerAndroid.open({hour:t.getHours(),minute:t.getMinutes()});if(e===j.TimePickerAndroid.timeSetAction){const e=new Date(t);return e.setHours(n,r),e}return Promise.reject()}return t}dispatchAction(t){const e=this.props[t];this.props.inputValue.status===dn.Available&&e&&e.execute()}}class Hn extends r.Component{constructor(t){super(t),this.onDateChangeHandler=this.onDateChange.bind(this),this.onDatePressHandler=this.onDatePress.bind(this),this.onToggleHandler=this.toggleVisibility.bind(this,!0),this.state={visible:!1}}onDateChange(t){const e=this.props.inputValue;e.status!==dn.Available||e.readOnly||this.props.inputValue.setValue(t)}onDatePress(){this.props.inputValue.readOnly||(this.props.inputValue.status===dn.Available&&void 0===this.props.inputValue.value?(this.dispatchAction("onEnter"),this.onDateChange(new Date),this.toggleVisibility(!1)):this.toggleVisibility())}toggleVisibility(t=!0){this.setState({visible:!this.state.visible},()=>t&&this.dispatchAction(this.state.visible?"onEnter":"onLeave"))}render(){const t=tr(this.props.style,this.props),e=this.props.inputValue.validation&&this.props.inputValue.validation[0];return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(j.View,{key:"inputGroup",style:t.inputGroupWrapperStyle},Object(r.createElement)(Xn,{key:"label",name:this.props.name,label:this.props.label,style:t.label}),Object(r.createElement)(Qn,{key:"value",name:this.props.name,inputValue:this.props.inputValue,placeholder:this.props.placeholder,onPress:this.onDatePressHandler,style:t.value})),this.renderDatePicker(),Object(r.createElement)(Fn,{key:"error",testID:`${this.props.name}$alert`,error:e,style:t.validationMessage}))}renderDatePicker(){if(!this.state.visible)return null;const t=Object(r.createElement)(j.DatePickerIOS,{key:"datePicker",date:this.props.inputValue.value,onDateChange:this.onDateChangeHandler,mode:this.props.mode});return this.props.inline?t:this.renderModal(t)}renderModal(t){return Object(r.createElement)(j.Modal,{key:"modal",transparent:!0,onRequestClose:()=>{}},Object(r.createElement)(j.TouchableWithoutFeedback,{accessible:!1,onPress:this.onToggleHandler},Object(r.createElement)(j.View,{style:Yn.backdropWrapper},Object(r.createElement)(j.View,{style:Yn.container},Object(r.createElement)(j.View,{style:Yn.topWrapper},Object(r.createElement)(j.Button,{testID:`${this.props.name}$closeButton`,title:Ce("mxui.widget.native","ModalDialog.close"),onPress:this.onToggleHandler})),t))))}dispatchAction(t){const e=this.props[t];this.props.inputValue.status===dn.Available&&e&&e.execute()}}const Yn=j.StyleSheet.create({backdropWrapper:{backgroundColor:"rgba(0, 0, 0, 0.3)",flex:1,flexDirection:"row",alignItems:"flex-end"},container:{backgroundColor:"#FFFFFF",flex:1},topWrapper:{alignItems:"flex-end"}});var Jn=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n};const Kn=t=>Object(r.createElement)("android"===j.Platform.OS?zn:Hn,t),Xn=({name:t,label:e,style:n})=>e&&void 0!==e.value?Object(r.createElement)(j.Text,{testID:`${t}$label`,style:n},e.value):null,Qn=t=>{const e="android"===j.Platform.OS?j.TouchableNativeFeedback:j.TouchableOpacity,n=Zn(t.inputValue,t.placeholder);return Object(r.createElement)(n=>{var{children:i}=n,o=Jn(n,["children"]);return t.inputValue.readOnly?r.Children.only(i):Object(r.createElement)(e,Object.assign({onPress:()=>t.onPress()},o,{style:t.style}),i)},{key:"touchable",testID:`${t.name}$value`,accessible:!0,accessibilityLabel:n,style:t.style},Object(r.createElement)(j.Text,{key:"value",testID:`${t.name}$value`,style:t.style},n))},Zn=(t,e)=>t.value?t.displayValue:e.value||" ",tr=(t,e)=>({label:[...On(t,"label").filter(t=>!!t),"horizontal"===e.formOrientation?{flex:e.labelWidth}:void 0],value:[...On(t,"value").filter(t=>!!t),"horizontal"===e.formOrientation?{flex:12-e.labelWidth}:void 0],validationMessage:On(t,"validationMessage").filter(t=>!!t),inputGroupWrapperStyle:"horizontal"===e.formOrientation?{flexDirection:"row",alignItems:"center"}:void 0});const er=t=>{const e={testID:t.name,style:[{width:t.width||100,height:t.height||100},...t.style||[]]},n=t.placeholder?Object(r.createElement)(j.Image,Object.assign({source:t.placeholder},e)):null;return t.source.value?t.source.value(e):n},nr=(rr=er,ir=er,or=300,class extends r.Component{constructor(t){super(t),this.placeHolderElement=Object(r.createElement)(rr,t),this.state={ignoreUpdates:!0}}componentDidMount(){this.timeoutId=window.setTimeout(()=>this.setState({ignoreUpdates:!1}),or)}componentWillUnmount(){window.clearTimeout(this.timeoutId)}render(){return this.state.ignoreUpdates?this.placeHolderElement:Object(r.createElement)(ir,Object.assign({},this.props))}});var rr,ir,or;const ar=t=>{const e="android"===j.Platform.OS?j.TouchableNativeFeedback:j.TouchableOpacity;return t.onClick?Object(r.createElement)(e,{useForeground:!0,accessible:!1,onPress:()=>t.onClick.canExecute&&t.onClick.execute()},Object(r.createElement)(j.View,null,Object(r.createElement)(nr,Object.assign({},t)))):Object(r.createElement)(nr,Object.assign({},t))},sr=t=>t.caption.status===dn.Available?Object(r.createElement)(j.Text,{testID:t.name,style:t.style},t.caption.value):null;function cr(t){const e=Object(r.createElement)(j.View,null,t.content),n="android"===j.Platform.OS?j.TouchableNativeFeedback:j.TouchableOpacity,i={onPress:()=>t.onClick.canExecute&&t.onClick.execute(),accessible:!1};return t.onClick?Object(r.createElement)(n,i,e):e}const ur=t=>{return!(void 0===t.visible||Boolean(t.visible.value))||t.needsNamedUser&&mx.session.isGuest()?null:t.contents};var lr=n(5),hr=n(36),fr=n(47),pr=n(34),dr=n(74),br=n(39);function gr(t,e){return"function"==typeof e?function(n){return n.pipe(gr(function(n,r){return Object(br.a)(t(n,r)).pipe(Object(dr.a)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new mr(t))}}var mr=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new yr(t,this.project))},t}(),yr=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return lr.a(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new fr.a(this,void 0,void 0);this.destination.add(i),this.innerSubscription=Object(pr.a)(this,t,e,n,i)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(hr.a),vr=n(85),wr=n(153),Or=n(30),jr=n(84),_r=new(n(83).a)(jr.a),xr=n(46);function Er(t,e){var n;return void 0===t&&(t=0),void 0===e&&(e=_r),n=t,(Object(xr.a)(n)||!(n-parseFloat(n)+1>=0)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=_r),new i.a(function(n){return n.add(e.schedule(Sr,t,{subscriber:n,counter:0,period:t})),n})}function Sr(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}function Tr(t,e){return new i.a(function(n){var r,i;try{r=t()}catch(t){return void n.error(t)}try{i=e(r)}catch(t){return void n.error(t)}var o=(i?Object(br.a)(i):Or.a).subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}})}var Cr=n(10);function Dr(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Dr.prototype=Object.create(Error.prototype);var kr=Dr;function Ar(t){return function(e){return 0===t?Object(Or.b)():e.lift(new Pr(t))}}var Pr=function(){function t(t){if(this.total=t,this.total<0)throw new kr}return t.prototype.call=function(t,e){return e.subscribe(new Mr(t,this.total))},t}(),Mr=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return lr.a(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(Cr.a);function Nr(t){return function(e){return e.lift(new Ir(t))}}var Ir=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new Rr(t,this.value))},t}(),Rr=function(t){function e(e,n){var r=t.call(this,e)||this;return r.value=n,r}return lr.a(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(Cr.a);function Vr(t){return function(e){return e.lift(new Fr(t))}}var Fr=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new $r(t,this.total))},t}(),$r=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return lr.a(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(Cr.a),Br=n(156),Ur=n(152),Gr=n(23),Lr=n(43);function Wr(t,e,n){return function(r){return r.lift(new qr(t,e,n))}}var qr=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new zr(t,this.nextOrObserver,this.error,this.complete))},t}(),zr=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._tapNext=Gr.a,o._tapError=Gr.a,o._tapComplete=Gr.a,o._tapError=r||Gr.a,o._tapComplete=i||Gr.a,Object(Lr.a)(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||Gr.a,o._tapError=n.error||Gr.a,o._tapComplete=n.complete||Gr.a),o}return lr.a(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(Cr.a),Hr=n(25),Yr=n(77),Jr=n(29);function Kr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n=t[t.length-1];Object(Jr.a)(n)?t.pop():n=null;var r=t.length;return 1!==r||n?r>0?Object(vr.a)(Object(Hr.a)(t,n),e):Object(vr.a)(Object(Or.b)(n),e):Object(vr.a)(Object(Yr.a)(t[0]),e)}}const Xr={status:dn.Loading};function Qr(){return Xr}const Zr={status:dn.Unavailable};function ti(){return Zr}function ei(t){return{status:dn.Available,value:t}}function ni(t){return e=>ii(e,t)}function ri(t){return e=>oi(e,t)}function ii(t,e){return oi(t,t=>ei(e(t)))}function oi(t,e){return t.status===dn.Available?e(t.value):t}function ai(t){return Object(br.a)(t).pipe(Object(dr.a)(ei),Kr(Qr()))}function si(t){return{status:t.status,value:t.status===dn.Available?t.value:void 0}}function ci(t,e,n,r){return Object(u.m)(Object(vr.a)(fi(t).pipe(Ar(1),Nr({forceReload:!1,resetOffset:!1})),Object(wr.a)(void 0!==r?r.pipe(Nr({forceReload:!0,resetOffset:!1})):Or.a,void 0!==n?n.pipe(Nr({forceReload:!1,resetOffset:!1})):Or.a,(i=e.entity,Object(u.f)({entity:i})).pipe(Nr({forceReload:!0,resetOffset:!1})),void 0!==e.refreshTime?Er(1e3*e.refreshTime).pipe(Nr({forceReload:!0,resetOffset:!1})):Or.a,fi(t).pipe(Vr(1),Nr({forceReload:!0,resetOffset:!0})))));var i}function ui(t,e){return t(e).pipe(gr(n=>n.status===dn.Available&&0===n.value.items.length&&e.offset>0&&e.amount>0?t(Object.assign({},e,{offset:0})).pipe(Object(Br.a)(t=>t.status!==dn.Loading)):Object(a.a)(n)))}class li{constructor(t,e,n){this.store=e,this.widgetId=n,this.initiatedPageChange=!1;const r={offset:0,amount:t.defaultAmount||Number.POSITIVE_INFINITY};this.value$=Object(s.a)(hi(n,"offset",e,r.offset),hi(n,"amount",e,r.amount)).pipe(Object(dr.a)(([t,e])=>({offset:t,amount:e}))),this.externalChange$=this.value$.pipe(Object(Br.a)(()=>!this.hasInitiatedPageChange()),Object(u.i)(),Nr(void 0))}updateFrom(t){Object(u.n)(()=>{if(t.status===dn.Available){const{totalCount:e,hasMoreItems:n,offset:r,items:i}=t.value;this.store.set(this.widgetId,"total",void 0!==e?A(e):void 0),this.store.set(this.widgetId,"hasMoreItems",n),this.store.set(this.widgetId,"pageGuids",i.map(t=>t.id)),this.store.set(this.widgetId,"count",A(i.length));const o=this.store.get(this.widgetId,"offset");void 0!==o&&o.eq(r)||(this.initiatedPageChange=!0,this.store.set(this.widgetId,"offset",A(r)))}})}hasInitiatedPageChange(){const t=this.initiatedPageChange;return this.initiatedPageChange=!1,t}}function hi(t,e,n,r){return n.get$(t,e).pipe(Object(dr.a)(t=>{if(void 0!==t){const e=Number(t);if(isNaN(e))throw new l.a;return e}return r}),Object(u.c)())}function fi(t){return t.get$(I,"applyContextCount").pipe(Object(Br.a)(t=>void 0!==t),Nr(void 0))}var pi=n(57),di=n(58);function bi(t,e){return 0===Object.keys(t).length?Object(u.e)({}):Object(u.a)(Object.keys(t).map(n=>{const r=t[n].source;return e.get$(t[n].widget,"allpages"===r?"allGuids":r).pipe(gr(t=>(function(t,e){if("unavailable"===t)return Object(a.a)(void 0);if(void 0===t)return Object(a.a)("selection"===e?{objects:[]}:void 0);if(t instanceof ke.MxObject)return Object(u.f)({guid:t.getGuid()}).pipe(Kr(void 0),Nr({object:t}));return Object(vr.a)(Object(a.a)([]),new Promise((e,n)=>{mx.data.get({guids:t,callback:e,error:n})})).pipe(gr(t=>Object(wr.a)(...t.map(t=>Object(u.f)({guid:t.getGuid()}))).pipe(Kr(void 0),Object(dr.a)(()=>({objects:t})))))})(t,r)),Object(dr.a)(t=>({[n]:t})))})).pipe(Object(dr.a)(t=>Object.assign({},...t)))}const gi=new di.NanoflowEngine(pi.executors);const mi=f(function(t,e,n){const r=t.source.allowedRoles;if(void 0!==r&&!mx.session.hasSomeRole(r))return mx.logger.debug("Unable to execute nanoflow because you do not have sufficient permissions."),Object(a.a)(si(ti()));const i=bi(t.argMap,e);return function(t,e,n,r,i){const o=new li(t,e,n),a=ci(e,t,void 0,r).pipe(Object(Ur.a)(r),gr(([{resetOffset:t},e],n)=>i(e).pipe(Object(dr.a)(ni(e=>({objects:e,version:n,resetOffset:t}))))),Wr(t=>ii(t,({objects:t})=>e.set(n,"allGuids",t.map(t=>t.getGuid())))),Object(u.j)(Qr()),Object(u.i)());return Object(wr.a)(a.pipe(Object(u.l)(o.externalChange$),Object(dr.a)(ni(t=>Object.assign({},t,{resetOffset:!1})))),a).pipe(Object(Ur.a)(o.value$),Object(dr.a)(([t,{offset:e,amount:r}])=>ii(t,({objects:t,version:i,resetOffset:o})=>{const a=t.length<=e||o?0:e;return{items:t.slice(a,a+r).map(t=>Sn(t,n)),offset:a,totalCount:t.length,hasMoreItems:a+r<t.length,version:i}})),Object(dr.a)(si),Wr(t=>o.updateFrom(t)))}(t,e,n,i,function(n){const r=Object(c.c)(e.get(I,"form"))[0];return ai(gi.execute(t.source.nanoflow,function(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];r&&e.push({name:n,value:"object"in r?r.object:Object(c.b)()})}),e}(n),r)).pipe(gr(t=>t.status===dn.Available?function(t,e){const n=Object(wr.a)(...t.concat(e).map(t=>Object(u.f)({guid:t.getGuid()})));return Tr(()=>n.subscribe(),()=>Object(u.e)(t))}(void 0!==t.value?t.value:[],[]).pipe(Object(dr.a)(ei)):Object(a.a)(Qr())))})});const yi=f(function(t,e,n){let r=-1;const i=new li(t,e,n);return ci(e,t,i.externalChange$).pipe(Object(Ur.a)(i.value$),Object(u.k)((t,[{forceReload:e,resetOffset:i},s])=>{const c=i?Object.assign({},s,{offset:0}):s;if(e||t.status!==dn.Available){const t=++r;return ui(e=>o(e,t,n),c)}return ui(e=>(function(t,e,n){const r={offset:t.offset,amount:t.items.length};if(function(t,e){return e.offset>=t.offset&&e.offset+e.amount<=t.offset+t.amount}(r,e))return Object(a.a)(ei({totalCount:t.totalCount,hasMoreItems:e.offset+e.amount<t.totalCount,offset:Math.max(t.offset,e.offset),version:t.version,items:t.items.slice(e.offset-t.offset,e.offset-t.offset+e.amount)}));if(function(t,e){return e.offset===t.offset&&e.amount>t.amount||e.offset+e.amount===t.offset+t.amount&&e.offset<t.offset}(r,e)){const i=function(t,e){return{offset:t.offset===e.offset?e.offset+e.amount:t.offset,amount:t.amount-e.amount}}(e,r);return o(i,t.version,n).pipe(Object(dr.a)(ni(n=>({totalCount:n.totalCount,hasMoreItems:e.offset+e.amount<n.totalCount,offset:e.offset,version:n.version,items:e.offset<r.offset?n.items.concat(t.items):t.items.concat(n.items)}))),Object(Br.a)(t=>t.status!==dn.Loading))}return o(e,t.version,n)})(t.value,e,n),c)},Qr()),Object(u.j)(Qr()),Object(dr.a)(si),Wr(t=>i.updateFrom(t)));function o({offset:e,amount:n},r,i){const o=t.sort?{sort:t.sort.map(t=>[t.attributePath,t.sortDirection])}:{},a=n!==Number.POSITIVE_INFINITY?{limit:n}:{};return ai(new Promise((s,c)=>mx.data.getSlice(t.entity,[],Object.assign({offset:e},a,o),!0,(t,o)=>s({items:t.map(t=>Sn(t,i)),totalCount:o,hasMoreItems:e+n<o,offset:e,version:r}),c)))}});var vi=n(41),wi=n(48),Oi=n(31);async function ji(t,e,n){const r=t.confirmation;if(r){if(!await new Promise(t=>mx.ui.confirmation({cancel:r.cancel,proceed:r.proceed,content:r.question,handler:()=>t(!0),onCancel:()=>t(!1)})))return}if(e.beforeExecuteAction&&e.beforeExecuteAction(),e.abortOnClientValidations)switch(t.validate){case"node":if(!e.widgetIsValid)throw new Oi.a({});break;case"view":await Object(Ie.a)(e.currentForm,"publish","validate")}const i=t.progress?mx.ui.showProgress(t.progress.message,t.progress.modal):void 0;try{await Object(Ie.a)(e.currentForm,"publish","submit");const r=e.abortOnServerValidations?e.currentForm.getSubmitObjects().map(t=>t.getGuid()):[];await mx.onlineData.executeMicroflow(t.name,function(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];r&&(e[n]="objects"in r?{guids:r.objects.map(t=>t.getGuid())}:"object"in r?{guid:r.object.getGuid()}:r)}),e}(n),e.currentForm,r,Boolean(t.async))}finally{void 0!==i&&mx.ui.hideProgress(i)}}const _i=new di.NanoflowEngine(pi.executors);async function xi(t,e,n){let r;if(n)if("object"in n)r=[n.object];else{if(!("objects"in n))throw new l.a;r=n.objects}else r=void 0;if(e.abortOnClientValidations&&await Object(Ie.a)(e.currentForm,"publish","validate"),e.abortOnServerValidations&&await Object(Ie.a)(mx.data,"validate",e.currentForm.getSubmitObjects()),r){const t=await Promise.all(r.map(i));return"objects"in n?t:t[0]}return i();async function i(n){const r=n&&t.specializations&&t.specializations[n.getEntity()]||t;return mx.ui.openForm2(r.name,n&&n.getGuid(),r.title,e.currentForm,Object.assign({},r,{formParams:e.formParams}))}}async function Ei(t,e){const n="addressAttribute"in t?await Object(Ie.a)(Object(c.c)(e),"fetch",t.addressAttribute):t.address,r=function(t,e){switch(t){case"email":return`mailto:${escape(e)}`;case"call":return`tel:${escape(e)}`;case"text":return`sms:${escape(e)}`;default:return e}}(t.schema,n);window.open(r,"web"===t.schema?"_blank":"_self")}async function Si(t){const e=mx.ui.showProgress(void 0,!0);try{await Object(Ie.a)(mx.data,"synchronizeOffline",t)}finally{mx.ui.hideProgress(e)}}function Ti(t,e,n,r,i){function o(t){i?i(t):t instanceof Oi.a||mx.onError(t)}mx.session.hasSomeRole(t.config.allowedRoles)?function(){switch(t.type){case"callMicroflow":return ji(t.config,e,n);case"callNanoflow":return async function(t,e,n){e.beforeExecuteAction&&e.beforeExecuteAction(),e.abortOnClientValidations&&await Object(Ie.a)(e.currentForm,"publish","validate"),await Object(Ie.a)(e.currentForm,"publish","submit");const r=Object.keys(n).map(t=>{const e=n[t];return{name:t,value:"object"in e?e.object:Object(c.b)()}});await _i.execute(t.nanoflow,r,e.currentForm)}(t.config,e,n);case"cancelChanges":return async function(t,{currentForm:e}){e.setSuspend(!0);try{await Object(Ie.a)(e,"publish","rollback"),await(n=e.getSubmitObjects(),new Promise((t,e)=>{mx.data.rollback({mxobjs:n,callback:t,error:e})})),t.closePage&&await Object(Ie.a)(e,"close")}finally{e.setSuspend(!1)}var n}(t.config,e);case"closePage":return Object(Ie.a)(e.currentForm,"close");case"doNothing":return Promise.resolve();case"openLink":const r="$object"in n?"object"in n.$object?n.$object.object:Object(c.b)():void 0;return Ei(t.config,r);case"openPage":return xi(t.config,e,n.$pageParameter).then(()=>void 0);case"saveChanges":return async function(t,{currentForm:e}){await Object(Ie.a)(e,"publish","validate"),e.setSuspend(!0);try{await Object(Ie.a)(e,"publish","submit"),await Object(Ie.a)(e,"publish","commit"),await(n=e.getSubmitObjects(),new Promise((t,e)=>{mx.data.commit({mxobjs:n,callback:t,error:e})}));let r=t.closePage;try{t.syncAutomatically&&await Si({fast:!0})}catch(t){throw t instanceof rn&&(r=!1),t}finally{r&&await Object(Ie.a)(e,"close")}}finally{e.setSuspend(!1)}var n}(t.config,e);case"signOut":return async function(){mx.session.isGuest()||(mx.ui.showProgress(void 0,!0),mx.logout())}();case"synchronize":return Si({fast:!1});case"deleteObject":return async function(t,{currentForm:e},n){let r;if("object"in n)r=[n.object];else{if(!("objects"in n))throw new l.a;r=n.objects}const i=Ce(r.length>1?"mxui.widget.DataGrid":"mxui.sys.UI","confirm_delete",r.length.toString());if(await new Promise(t=>mx.ui.confirmation({content:i,handler:()=>{t(!0)},onCancel:()=>{t(!1)}}))){e.setSuspend(!0);try{await mx.onlineData.delete(r),t.closePage&&await Object(Ie.a)(e,"close")}finally{e.setSuspend(!1)}}}(t.config,e,n.$object);case"createObject":const i="$object"in n?"object"in n.$object?n.$object.object:Object(c.b)():void 0;return async function(t,e,n){if("association"in t&&void 0===n)throw new l.a;const r=mx.ui.showProgress("",!1);try{const i=await new Promise((e,n)=>mx.data.create({entity:t.entity,callback:e,error:n}));t.association&&i.addReference(t.association,n.getGuid()),await xi(t.pageSettings,e,{object:i})}finally{mx.ui.hideProgress(r)}}(t.config,e,i);default:throw new l.a}}().then(r,o):mx.session.isGuest()?mx.ui.showLogin():o(new Je.a("Unable to execute action because you do not have sufficient permissions."))}var Ci;function Di(){return{access:Ci.None}}!function(t){t[t.None=0]="None",t[t.Read=1]="Read",t[t.Write=2]="Write"}(Ci||(Ci={}));var ki=n(16);class Ai{constructor(t){this.mxObject=t,this.attributes={},this.references={};const e="PluginWidget",n=Object(u.f)({guid:t.getGuid(),tag:e});this.self$=n.pipe(Kr(void 0),Object(dr.a)(()=>t.isUnavailable()?ti():ei(this)));const r=mx.meta.getEntity(t.getEntity());for(const i of r.getAttributes()){const o=Object(wr.a)(n,Object(u.f)({guid:t.getGuid(),attr:i,tag:e})).pipe(Kr(void 0),Object(dr.a)(()=>Pi(t,i)),Object(u.c)());this.attributes[i]=o,r.isReference(i)&&(this.references[i]=o.pipe(gr(t=>t.access===Ci.None?Object(a.a)(ti()):void 0===t.value?Object(a.a)(ti()):ai(Ni(t.value)).pipe(Object(dr.a)(ri(t=>null===t?ti():ei(Ai.from(t)))))),Object(u.c)(),Object(u.i)()))}}getGuid(){return this.mxObject.getGuid()}getEntity(){return this.mxObject.getEntity()}old(){return this.mxObject}get$(t){return Object.prototype.hasOwnProperty.call(this.attributes,t)?this.attributes[t]:Object(u.e)(Di())}set(t,e){if(this.mxObject.isUnavailable())throw new l.a(`Cannot modify attribute ${t} of a unavailable object.`);if(Mi(this.mxObject,t)!==Ci.Write)throw new l.a(`No write access to attribute ${t}`);this.mxObject.set(t,Object(ki.c)(e))}getByPath$(t){const[e,,...n]=t.split("/"),r=n.length?n.join("/"):void 0;return Object.prototype.hasOwnProperty.call(this.references,e)?this.references[e].pipe(gr(t=>t.status===dn.Available?r?t.value.getByPath$(r):t.value.self$:Object(a.a)(t)),Object(u.c)()):Object(u.e)(ti())}static from(t){return t.__cached_mxObj3||(t.__cached_mxObj3=new Ai(t))}static fromState$(t,e){if(void 0===t)return Object(u.e)(Qr());if(t===R)return Object(u.e)(ti());const n=Ai.from(t);return e?n.getByPath$(e):Object(u.e)(ei(n))}}function Pi(t,e){const n=Mi(t,e);return n===Ci.None?Di():function(t,e=Ci.Write){return{access:e,value:t}}(Object(ki.e)(t.get(e),t.getAttributeType(e)),n)}function Mi(t,e){return t.has(e)?t.isReadonlyAttr(e)?Ci.Read:Ci.Write:Ci.None}function Ni(t){return new Promise((e,n)=>mx.data.get({guid:t,callback:e,error:n}))}class Ii{constructor(t){this.defaultConfig=t}format(t,e){return!t||isNaN(t.getTime())?"":mx.parser.formatValue(t.getTime(),"DateTime",e||this.defaultConfig)}parse(t,e){const n=mx.parser.parseValue(t,"DateTime",e||this.defaultConfig);return null===n||n&&isNaN(n.getTime())?{valid:!1}:{valid:!0,value:""!==n?n:void 0}}getFormatPlaceholder(){return mx.parser.getDateFormatPlaceholder(this.defaultConfig)}}class Ri{constructor(t){this.universe=t}format(t,e){const n=this.universe.find(e=>e.key===t);return n?n.caption:t?t.toString():""}parse(t,e){throw new Error("Enumeration values cannot be parsed")}getFormatPlaceholder(){}}class Vi{constructor(t,e){this.attributeType=t,this.defaultConfig=e}format(t,e){return t?mx.parser.formatValue(t,this.attributeType,e||this.defaultConfig):""}parse(t,e){const n=mx.parser.parseValue(t,this.attributeType,e||this.defaultConfig);return null===n?{valid:!1}:{valid:!0,value:""!==n?n:void 0}}getFormatPlaceholder(){}}function Fi(t,e){switch(t){case"DateTime":return new Ii(e.dateFormat||{type:"date"});case"Float":case"Currency":case"Integer":case"Long":case"Decimal":return new Vi(t,e.numberFormat||{groupDigits:!1});default:return{format:e=>void 0!==e?mx.parser.formatValue(Object(ki.c)(e),t):"",parse:e=>{const n=mx.parser.parseValue(e,t);return null!==n?{valid:!0,value:Object(ki.e)(n,t)}:{valid:!1}},getFormatPlaceholder:()=>void 0}}}var $i=n(50),Bi=n(51),Ui=n(52),Gi=n(44),Li=n(157);class Wi{constructor(t){this.baseConfig=t,this.initiatedValueChange=!1,this.customValidation$=new M.a(void 0)}onValueChangeInitiated(){this.initiatedValueChange=!0}setCustomValidation(t){this.customValidation$.next(t)}getValidation$(t,e){const n=t.pipe(Object(Li.a)(t=>t.status===dn.Loading),Object(dr.a)(t=>{const e=this.initiatedValueChange;return this.initiatedValueChange=!1,Object.assign({internal:e},t)}),Object(u.i)(),Object(u.c)(),Vr(1)),r=t.pipe(Object(u.l)(Object(wr.a)(n.pipe(Object(Br.a)(t=>t.internal)),e)),Object(dr.a)(t=>t.status===dn.Available?this.validate(t.value):void 0),Kr(void 0),Object(u.h)(n.pipe(Object(Br.a)(t=>!t.internal),Nr(void 0)))),i=t.pipe(Object(dr.a)(t=>t.status===dn.Available?t.value.object:void 0),Kr(void 0),gr(t=>(function(t,e){if(void 0===t)return Object(a.a)(void 0);return Object(u.f)({val:!0,guid:t.getGuid(),attr:e.attribute,tag:`Validation of ${e.friendlyId}`})})(t,this.baseConfig)),Object(u.h)(Object(wr.a)(n,e).pipe(Nr(void 0))));return Object(s.a)(r,i,this.customValidation$).pipe(Object(dr.a)(t=>t.filter(t=>void 0!==t)),Object(u.c)())}isValid(t){return void 0===this.customValidation$.value&&void 0===this.validate(t)}}function qi(t){return{state:"parsed",value:t}}class zi extends Wi{constructor(t){super(t),this.config=t}validate(t){switch(t.attr.state){case"unparsed":return function(t,e){const n=mx.meta.getEntity(e.entity).getAttributeType(e.attribute);switch(n){case"Enum":case"Boolean":case"ObjectReference":case"ObjectReferenceSet":return Ce("mendix.lib.Validations","invalid_attribute",t,e.attribute);case"DateTime":return Ce("mendix.lib.Validations","invalid_date");case"Currency":return Ce("mendix.lib.Validations","invalid_currency");case"Float":case"Integer":case"Long":case"Decimal":return Ce("mendix.lib.Validations","invalid_number");default:throw new Error(`Attribute type ${n} is not supported.`)}}(t.attr.value,this.config);case"parsed":return function(t,e){return function(t,e){const n=le.validate(t,e);if(n!==le.validation.OK)return Ce("mendix.lib.Validations",Se[n])}(Object(ki.c)(t),mx.meta.getEntity(e.entity).getAttributeType(e.attribute))}(t.attr.value,this.config)||(this.config.validation?function(t,e,n){const r=new Gi.a({currentObject:()=>e.old(),value:()=>Object(ki.d)(t)});if(!Hi.evaluate(n.expression,r))return n.message||Ce("mendix.lib.Validations","required_field");return}(t.attr.value,t.object,this.config.validation):void 0)}}}const Hi=new $i.a(Bi.a,Object(Ui.a)(()=>new Date));function Yi(t){mx.logger.debug(`Widget ${t.friendlyId} is attempting to change the value of attribute "${t.attribute}" of entity "${t.entity}" which is not available.`)}function Ji(t){mx.logger.debug(`Widget ${t.friendlyId} is attempting to change the value of attribute "${t.attribute}" of entity "${t.entity}" which is not writable.`)}const Ki=f(function(t,e,n){const r=function(t,e,n){const r=mx.meta.getEntity(t),i=r.getAttributeType(e);return i?"Enum"===i?new Ri(r.getEnumMap(e)):Fi(i,n):{format:()=>"",parse:()=>{throw new Error("Cannot parse values for unresolved attribute")},getFormatPlaceholder:()=>void 0}}(t.entity,t.attribute,t),i=function(t){const e=mx.meta.getEntity(t.entity);switch(e.getAttributeType(t.attribute)){case"Enum":return e.getEnumMap(t.attribute).map(t=>t.key);case"Boolean":return[!0,!1];default:return}}(t),o=new zi(t),h=new M.a(r.defaultConfig),f=new wi.a;return Tr(()=>({unsubscribe:d}),()=>{const d=function(){const n=e.get$(t.scope,"object").pipe(gr(e=>Ai.fromState$(e,t.path)),Object(u.c)(),gr(e=>e.status===dn.Available?e.value.get$(t.attribute).pipe(Object(dr.a)(t=>ei({object:e.value,attr:t}))):Object(a.a)(e))),r=e.get$(I,"subtreeReadonly").pipe(Object(dr.a)(Boolean)),i=Object(s.a)(n,r).pipe(Object(dr.a)(([e,n])=>oi(e,({object:e,attr:r})=>{if(r.access===Ci.None)return ti();const i=r.access===Ci.Read||n||t.readOnly;return ei({object:e,readOnly:i,submitted:r.value,unsubmitted:void 0})})));return Object(wr.a)(i,f.pipe(Object(Ur.a)(i),Object(dr.a)(([t,e])=>e.status===dn.Available?ei(Object.assign({},e.value,{unsubmitted:t})):Object(c.b)())))}();return Object(s.a)(d,function(t){const r=t.pipe(Object(dr.a)(ni(t=>({object:t.object,attr:t.unsubmitted||qi(t.submitted)})))),i=e.get$(I,"validationRequest").pipe(Vr(1),Nr(void 0));return o.getValidation$(r,i).pipe(Wr(t=>{e.set(n,"isInvalid",t.length>0)}))}(d),h).pipe(Object(dr.a)(([e,n,a])=>{const s={status:e.status,formatter:r,validation:n,universe:i,setFormatting:Object(u.g)(t=>h.next(t)),setValidation:Object(u.g)(t=>o.setCustomValidation(t))};if(e.status!==dn.Available)return Object.assign({},s,{value:void 0,displayValue:"",readOnly:!0,setValue:()=>Yi(t),setTextValue:()=>Yi(t)});const{submitted:c,unsubmitted:d,readOnly:b}=e.value;let g;if(void 0===d||"parsed"===d.state){const t=d?d.value:c;g={value:t,displayValue:r.format(t,a)}}else g={value:void 0,displayValue:d.value};return b?Object.assign({},s,g,{readOnly:!0,setValue:()=>Ji(t),setTextValue:()=>Ji(t)}):Object.assign({},s,g,{readOnly:!1,setValue:Object(u.g)(t=>p(e.value,t)),setTextValue:Object(u.g)(t=>(function(t,e,n){const i=r.parse(e,n);i.valid?p(t,i.value):(o.onValueChangeInitiated(),f.next({state:"unparsed",value:e}))})(e.value,t,a)),setValidation:Object(u.g)(t=>(function(t,e){if(o.setCustomValidation(e),void 0!==t.unsubmitted&&o.isValid({object:t.object,attr:t.unsubmitted})){if("parsed"!==t.unsubmitted.state)throw new l.a;p(t,t.unsubmitted.value)}})(e.value,t))})}))});function p(n,r){const i=Object(ki.a)(r,t.entity,t.attribute),a=vi(i,n.submitted);!o.isValid({object:n.object,attr:qi(i)})||void 0!==n.unsubmitted&&a?(o.onValueChangeInitiated(),f.next(qi(r))):a||(o.onValueChangeInitiated(),n.object.set(t.attribute,i),function(){const n={};for(const r of Object.keys(t.onChange.argMap)){const i=e.get(t.onChange.argMap[r].widget,"object");if(!i||"unavailable"===i)return;n[r]={object:i}}Ti(t.onChange,{abortOnClientValidations:!0,abortOnServerValidations:!1,widgetIsValid:!0,currentForm:Object(c.c)(e.get(I,"form"))[0]},n)}())}function d(){e.set(n,"isInvalid",!1)}});const Xi=f(function(t,e,n){const r=new M.a(0),i=r.pipe(Object(dr.a)(t=>t>0)),o=bi(t.action.argMap,e);return Object(s.a)(o,i).pipe(Object(u.c)(),Object(dr.a)(([i,o])=>{const a=Object.values(i).every(t=>void 0!==t);return{canExecute:a,isExecuting:o,execute:a?Object(u.g)(()=>(function(i){if(Object.keys(i).some(e=>{const n=i[e];return"selection"===t.action.argMap[e].source&&"objects"in n&&0===n.objects.length}))return void mx.ui.info(Ce("mxui.widget.DataGrid","no_selection"),!1);const o=e.get(n,"isInvalid"),a=Object(c.c)(e.get(I,"form"))[0];r.next(r.value+1),Ti(t.action,{abortOnClientValidations:!0,abortOnServerValidations:t.abortOnServerValidation,widgetIsValid:!o,currentForm:a},i,()=>{r.next(r.value-1)},t=>{r.next(r.value-1),t instanceof Oi.a||mx.onError(t)})})(i)):()=>mx.logger.debug(`Widget is attempting to execute a ${t.action.type} action which is not executable.`)}}))});function Qi(t,e){const n=t.parameters||{},r=t.formats||{};return e.pipe(gr(e=>{const i=t.elements.map(t=>"string"==typeof t?Object(a.a)(ei(t)):function(t,e,n){const{attribute:r,entityPath:i}=Object(c.j)(e);return(t?i?t.getByPath$(i):Object(a.a)(ei(t)):Object(a.a)(Qr())).pipe(gr(t=>t.status===dn.Available?t.value.get$(r).pipe(Object(dr.a)(e=>e.access===Ci.None?ti():ei(Zi(t.value.getEntity(),r,e.value,n)))):Object(u.e)(t)))}(e,n[t.toString()],r[t.toString()]));return Object(u.a)(i)}),Object(dr.a)(t=>t.some(t=>t.status===dn.Loading)?Qr():ei(t.map(t=>t.status===dn.Available?t.value:"").join(""))))}function Zi(t,e,n,r){const i=mx.meta.getEntity(t),o=i.getAttributeType(e),a=Object(ki.c)(n);return"String"===o?a:"Enum"===o?i.getEnumCaption(e,a):mx.parser.formatValue(a,o,r)}const to=t=>{const e=function(t){return t.elements.every(t=>"string"==typeof t)?ei(t.elements.join("")):Qr()}(t.template);return e.status===dn.Available?si(e):d(e=>{const n=void 0!==t.scope?e.get$(t.scope,"object").pipe(Object(dr.a)(t=>t&&"unavailable"!==t?Ai.from(t):void 0)):Object(a.a)(void 0);return Qi(t.template,n).pipe(Object(dr.a)(si))})};function eo(t){switch(t){case"String":case"Boolean":case"ObjectReferenceSet":return Ce("mendix.lib.Validations","invalid_value");case"Decimal":return Ce("mendix.lib.Validations","invalid_number")}}const no=f(function({widgetId:t,slot:e,type:n,initialValue:r},i){void 0===i.get(t,e)&&void 0!==r&&i.set(t,e,"number"==typeof r?A(r):r);const o=Fi(n,{}),a=i.get$(t,e).pipe(Object(dr.a)(t=>({type:"submitted",value:t}))),c=new wi.a,l=new M.a(o.defaultConfig),h=new M.a(void 0),f=Object(wr.a)(a,c);return Object(s.a)(f,l,h).pipe(Object(dr.a)(([t,e,r])=>({status:dn.Available,validation:(void 0!==r?[r]:[]).concat("unparsed"===t.type?[eo(n)]:[]),universe:void 0,readOnly:!1,formatter:o,value:"unparsed"!==t.type?t.value:void 0,displayValue:"unparsed"!==t.type?o.format(t.value,e):t.value,setValue:Object(u.g)(t=>p(t,Boolean(r))),setTextValue:Object(u.g)(t=>(function(t,e,n){const r=o.parse(t,e);r.valid?p(r.value,n):c.next({type:"unparsed",value:t})})(t,e,Boolean(r))),setFormatting:Object(u.g)(t=>l.next(t)),setValidation:Object(u.g)(e=>(function(t,e){t!==h.value&&h.next(t),t||"unsubmitted"!==e.type||p(e.value,!1)})(e,t))})));function p(r,o){r=Object(ki.b)(r,n),o?c.next({type:"unsubmitted",value:r}):i.set(t,e,r)}});const ro=f(function(t,e){return e.get$(t.scope,"object").pipe(gr(t=>Ai.fromState$(t)),gr(e=>{if(e.status!==dn.Available)return Object(a.a)(e);const n=(t.showAsThumbnail?Be:$e)+e.value.getGuid();return ai((new mt).readAsDataURL(n)).pipe(Object(dr.a)(t=>{const e=t.status===dn.Available&&t.value;return e?ei(t=>Object(r.createElement)(j.Image,Object.assign({source:{uri:e}},t))):ti()}))}),Object(dr.a)(si))});var io=n(79),oo=n(80);const ao=new $i.a(Bi.a,Object(Ui.a)(()=>new Date));class so extends Error{constructor(){super(),Object.setPrototypeOf(this,so.prototype)}}const co=t=>{const e=function(t){const e=new Gi.a({pageTitle:()=>{throw new so},currentObject:()=>{throw new so}});try{return ei(ao.evaluate(t,e))}catch(t){return Qr()}}(t.expression);return e.status===dn.Available?si(e):d(e=>Object(s.a)(e.get$(t.scope,"object"),e.get$(I,"form")).pipe(gr(([e,n])=>(function t(e,n,r){const i=new Gi.a({pageTitle:()=>n.getTitle(),currentObject:()=>{if(!e||e===R)throw new so;return e}});try{const o=ao.evaluate(r,i),s=Object(wr.a)(...i.getDependencies().map(t=>Object(u.f)(t)));return Object(vr.a)(Object(a.a)(ei(o)),s.pipe(Ar(1),gr(()=>t(e,n,r))))}catch(t){if(t instanceof oo.a||t instanceof io.a||t instanceof so)return Object(a.a)(Qr());throw t}})(e,Object(c.c)(n)[0],t.expression)),Object(u.c)(),Object(dr.a)(si)))};function uo(t){if(!t.icon)return null;switch(t.icon.type){case"glyph":return Object(r.createElement)(T,{name:String(t.icon&&t.icon.iconClass),color:t.color,size:t.size});case"image":return Object(r.createElement)(j.Image,{testID:`${t.name}`,style:[{resizeMode:"contain",width:t.size,height:t.size}],source:t.icon.iconUrl})}}const lo=t=>Object(r.createElement)(j.View,{testID:t.name},Object(r.createElement)(uo,Object.assign({},t)));const ho=f(function(t){return Object(u.e)(e=>Object(r.createElement)(lo,Object.assign({icon:t.icon},e)))});var fo=n(78);const po=f(function(t,e){const n=e.get(t.widgetId,"uniqueId");if(n)return Object(u.e)(n);{const n=Object(fo.a)(t.widgetId);return e.set(t.widgetId,"uniqueId",n),Object(u.e)(n)}});n.d(e,"asPluginWidget",function(){return w}),n.d(e,"NativeUI",function(){return H}),n.d(e,"startApp",function(){return mn}),n.d(e,"Text",function(){return yn}),n.d(e,"Button",function(){return xn}),n.d(e,"NativeList",function(){return Cn}),n.d(e,"Container",function(){return kn}),n.d(e,"Image",function(){return An}),n.d(e,"DropDown",function(){return Bn}),n.d(e,"CheckBox",function(){return Un}),n.d(e,"TextBox",function(){return Ln}),n.d(e,"TextArea",function(){return Wn}),n.d(e,"ScrollContainer",function(){return qn}),n.d(e,"DatePicker",function(){return Kn}),n.d(e,"NativeDynamicImage",function(){return ar}),n.d(e,"Title",function(){return sr}),n.d(e,"ClickableArea",function(){return cr}),n.d(e,"ConditionalVisibilityWrapper",function(){return ur}),n.d(e,"NanoflowObjectListProperty",function(){return mi}),n.d(e,"OfflineObjectListProperty",function(){return yi}),n.d(e,"EditableAttributeProperty",function(){return Ki}),n.d(e,"ActionProperty",function(){return Xi}),n.d(e,"DynamicTextProperty",function(){return to}),n.d(e,"WidgetVariableProperty",function(){return no}),n.d(e,"NativeDynamicImageProperty",function(){return ro}),n.d(e,"ExpressionProperty",function(){return co}),n.d(e,"NativeIconProperty",function(){return ho}),n.d(e,"DerivedUniqueIdProperty",function(){return po})},function(t,e,n){"use strict";n.r(e);var r=n(49),i=n(31),o=n(17),a=n(3);async function s(t){for(const e of t.instructions||[])switch(e.type){case"logout":mx.logout();break;case"show_login":mx.ui.showLogin();break;case"download_file":const t=await new Promise((t,n)=>mx.data.get({guid:e.args.FileDocumentGuid,callback:t,error:n}));mx.ui.downloadFile({mxobject:Object(a.c)(t),target:e.args.Target});break;case"text_message":mx.ui[e.args.MessageType](e.args.MessageContent,e.args.MessageBlock)}}var c=n(11);function u(t,e){const n=Object.entries(e.changes||{}).map(([t,e])=>Object.keys(e).map(e=>({guid:t,attr:e}))),r=Object.entries(e.resets||{}).map(([t,e])=>e.map(e=>({guid:t,attr:e}))),i=(e.objects||[]).map(e=>{const n=t.getObject(e.guid);return null!==n?function(t,e){const n=mx.meta.getEntity(e.objectType),r=c.MxObject.fromJson(e);return n.getAttributes().filter(e=>!function(t,e,n){if(t.isReadonlyAttr(n)!==e.isReadonlyAttr(n))return!1;if(t.isReference(n)){if("System.changedBy"===n||"System.owner"===n)return!0;const r=t.getOriginalReferences(n).sort().join(","),i=e.getOriginalReferences(n).sort().join(",");return r===i}const r=t.getOriginalValue(n),i=e.getOriginalValue(n);return r===i||null!==r&&null!==i&&r.valueOf&&i.valueOf&&r.valueOf()===i.valueOf()}(t,r,e))}(n,e).map(t=>({guid:e.guid,attr:t})):[]}),o=Object(a.l)(Object(a.a)((e.instructions||[]).map(l)).concat(e.deletes||[]));return[...Object(a.m)(Object(a.a)([...n,...r,...i]),t=>`${t.guid}:${t.attr}`).map(({guid:t,attr:e})=>({guid:t,attr:e})).filter(({guid:e})=>!o.includes(e)&&t.has(e)),...o.filter(e=>t.has(e)).map(t=>({guid:t})),...Object(a.l)(Object(a.a)((e.instructions||[]).map(t=>"refresh_class"===t.type?t.args.classnames:[]))).map(t=>({entity:t}))]}function l(t){return"refresh_object_list"===t.type?t.args.ObjectIds:[]}async function h(t,e,n){const r=u(t,e);!function(t,e){const{objects:n=[],changes:r={},newpersistable:i=[],commits:o=[],deletes:a=[],resets:s={}}=e;t.removeChanges(s),t.addChanges(r);const c=n.filter(e=>(function(e){return!t.has(e.guid)})(e)).filter(t=>!function(t){return mx.meta.getEntity(t.objectType).isPersistable()}(t)?!o.includes(t.guid):i.includes(t.guid)).map(t=>t.guid);t.onCreate(c),t.onDelete(a),t.onCommit(o),t.setMxObjects(n)}(t,e),function(t,e){if((t.instructions||[]).some(t=>"close"===t.type)){const t=Object(a.c)(e);t.setSuspend(!0),t.close(()=>{t.setSuspend(!1)},e=>{t.setSuspend(!1),mx.onError(e)})}}(e,n),await Object(o.c)(...r),await async function(t,e){const n=[];for(const r of t.instructions||[])"open_form"===r.type&&n.push(mx.ui.openForm2(r.args.FormPath,r.args.FormGuid,r.args.FormTitle,e,{location:r.args.FormTarget,width:r.args.FormWidth,height:r.args.FormHeight,resizable:r.args.FormResizable}));await Promise.all(n)}(e,n),await s(e),p(e)}async function f(t,e,n){if(e instanceof i.a){const r=e.original,i=u(t,r).filter(t=>!("attr"in t));await Object(o.c)(...i),await s(r),p(r,n)}}function p(t,e){const n=r.a.fromResponse(t.datavalidation||[]);mx.data.sendValidationUpdates(n),n.length>0&&e&&e(n)}n.d(e,"handleRuntimeSuccess",function(){return h}),n.d(e,"handleRuntimeError",function(){return f})},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(5),i=n(36),o=n(34);function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n;"function"==typeof t[t.length-1]&&(n=t.pop());var r=t;return e.lift(new s(r,n))}}var s=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.observables,this.project))},t}(),c=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.observables=n,i.project=r,i.toRespond=[];var a=n.length;i.values=new Array(a);for(var s=0;s<a;s++)i.toRespond.push(s);for(s=0;s<a;s++){var c=n[s];i.add(Object(o.a)(i,c,c,s))}return i}return r.a(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e;var o=this.toRespond;if(o.length>0){var a=o.indexOf(n);-1!==a&&o.splice(a,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(9),i=n(29),o=n(82),a=n(25);function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,s=null,c=t[t.length-1];return Object(i.a)(c)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof c&&(n=t.pop()),null===s&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(n)(Object(a.a)(t,s))}},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(5),i=n(29),o=n(46),a=n(36),s=n(34),c=n(25),u={};function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return Object(i.a)(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&Object(o.a)(t[0])&&(t=t[0]),Object(c.a)(t,r).lift(new h(n))}var h=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.resultSelector))},t}(),f=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.a(e,t),e.prototype._next=function(t){this.values.push(u),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(s.a)(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,a=o[n],s=this.toRespond?a===u?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(a.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(5),i=n(48),o=n(32),a=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return r.a(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(5),i=n(10);function o(t,e){return function(n){return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.a(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(5),i=n(10);function o(t){return function(e){return e.lift(new a(t))}}var a=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate))},t}(),s=function(t){function e(e,n){var r=t.call(this,e)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return r.a(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(i.a)}]);