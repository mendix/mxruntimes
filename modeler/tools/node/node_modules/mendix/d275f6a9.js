import"./39c2a2fb.js";import"./fdd4c4ff.js";import{F as FormBase}from"./6c4f31e6.js";import{p as publish}from"./38d79760.js";window.mx.data.update=function(args){publish(args).then(args.callback,window.mx.onError)},window.mx.ui.openForm=function(path,args,scope){const pageObjectGuid=args.context&&args.context.getTrackId()||void 0,params=Object.assign({location:"content"},args,{context:void 0,contextParams:args.context?args.context.getParams():{}},args.domNode?{location:"node"}:void 0),callback=args.callback?args.callback.bind(scope):void 0,error=args.error?args.error.bind(scope):window.mx.onError;window.mx.ui.openForm2(path,pageObjectGuid,args.title,window.mx.ui.getContentForm(),params).then(callback,error)},window.mx.server={getCacheBust:()=>window.mx.session.getConfig("cachebust")},window.mx.session.getUserName=function(){return this.getUserObject().get("Name")},FormBase.prototype.commit=function(callback,error){const self=this;function handleError(e){self.setSuspend(!1),error?error(e):window.mx.onError(e)}this.setSuspend(!0),this.publish("submit",function(){self.publish("commit",function(){window.mx.data.commit({mxobjs:self.getSubmitObjects(),callback(){self.setSuspend(!1),callback&&callback()},error:handleError})},handleError)},handleError)},FormBase.prototype.rollback=function(callback,error){const self=this;function handleError(e){self.setSuspend(!1),error?error(e):window.mx.onError(e)}this.setSuspend(!0),this.publish("rollback",function(){window.mx.data.rollback({mxobjs:self.getSubmitObjects(),callback(){self.setSuspend(!1),callback&&callback()},error:handleError})},handleError)},FormBase.prototype.validate=function(callback,error){this.publish("validate",callback,error)};
