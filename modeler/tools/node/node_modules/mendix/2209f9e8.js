import{a as Big}from"./2bc24ff8.js";var DECIMAL_TOO_BIG=new Big("1e20"),INT_MIN=new Big(2).pow(31).times(-1),INT_MAX=new Big(2).pow(31).minus(1),LONG_MIN=new Big(2).pow(63).times(-1),LONG_MAX=new Big(2).pow(63).minus(1),FLOAT_MAX=new Big(2).pow(53);function checkRange(value,min,max){return value.gte(min)&&value.lte(max)}const validation={OK:0,NOT_INTEGER:1,RANGE_INTEGER:2,RANGE_LONG:3,RANGE_DECIMAL:4,RANGE_NUMBER:5};function validate(value,type){if(/^(Integer|Long|Decimal|Float|Currency)$/.test(type)){if(""===value)return validation.OK;if(value instanceof Big||(value=new Big(value)),("Integer"===type||"Long"===type)&&function(value){return!value.mod(1).eq(0)}(value))return validation.NOT_INTEGER;if("Integer"===type&&!checkRange(value,INT_MIN,INT_MAX))return validation.RANGE_INTEGER;if("Long"===type&&!checkRange(value,LONG_MIN,LONG_MAX))return validation.RANGE_LONG;if("Decimal"===type&&value.abs().gte(DECIMAL_TOO_BIG))return validation.RANGE_DECIMAL;if("Decimal"===type&&!value.mod(1e-8).eq(0))return validation.RANGE_DECIMAL;if(/^(Float|Currency)$/.test(type)&&value.abs().gt(FLOAT_MAX))return validation.RANGE_NUMBER}return validation.OK}class DescribedError extends Error{constructor(message){super(message),Object.setPrototypeOf(this,DescribedError.prototype)}}class DescribedServerError extends DescribedError{constructor(message){super(message),Object.setPrototypeOf(this,DescribedServerError.prototype)}}export{DescribedError as D,validation as a,DescribedServerError as b,validate as v};
