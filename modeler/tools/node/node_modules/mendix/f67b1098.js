import{b as AssertionError,a as friendlyName,d as ensure}from"./ff203afa.js";import{createContext,createElement}from"react";function withStableProp(keyProperty,Component){return class extends Component{componentDidUpdate(prevProps,prevState,snapshot){if(this.props[keyProperty]!==prevProps[keyProperty])throw new AssertionError(`Parent of component ${friendlyName(Component)} did not correctly assign keys.`);super.componentDidUpdate&&super.componentDidUpdate(prevProps,prevState,snapshot)}}}const{Provider:Provider,Consumer:Consumer}=createContext(void 0),StoreProvider=props=>createElement(Provider,{value:ensure(props.store)},props.children);function withStore(Component){const StableComponent=withStableProp("$store",Component);return props=>createElement(Consumer,null,store=>createElement(StableComponent,Object.assign({},props,{$store:ensure(store)}),props.children))}export{withStore as a,withStableProp as b,StoreProvider as c};
