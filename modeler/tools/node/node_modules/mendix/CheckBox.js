import{Text,View,Switch}from"react-native";import{Component,createElement,Fragment}from"react";import{p as pluckFromList,e as exclude,o as only}from"./c701e63b.js";import"./5b829f15.js";import{A as Alert}from"./14a5240d.js";class CheckBox extends Component{constructor(props){super(props),this.onChange=this.onChange.bind(this)}onChange(value){this.props.value.readOnly||this.props.value.setValue(value)}render(){const{inputStyles:inputStyles,inputDisabledStyles:inputDisabledStyles,inputErrorStyles:inputErrorStyles,labelStyles:labelStyles,labelStyleProps:labelStyleProps,validationMessageStyles:validationMessageStyles,inputSwitchStyleProps:inputSwitchStyleProps,inputDisabledSwitchStyleProps:inputDisabledSwitchStyleProps,inputErrorSwitchStyleProps:inputErrorSwitchStyleProps,containerStyle:containerStyle,inputContainerStyle:inputContainerStyle}=this.processStyles(),editable=!this.props.value.readOnly,hasValidationMessage=!!this.props.value.validation,labelComponent=this.props.caption?createElement(Text,Object.assign({testID:`${this.props.name}$label`,key:"label",style:labelStyles},labelStyleProps),this.props.caption.value):null,styleProps=editable?hasValidationMessage?inputErrorSwitchStyleProps:inputSwitchStyleProps:inputDisabledSwitchStyleProps,props={testID:this.props.name,style:editable?hasValidationMessage?inputErrorStyles:inputStyles:inputDisabledStyles,onValueChange:this.onChange,value:this.props.value.value||!1,disabled:!editable,trackColor:{true:styleProps.trackColorOn,false:styleProps.trackColorOff},thumbColor:this.props.value.value?styleProps.thumbColorOn:styleProps.thumbColorOff};return createElement(Fragment,null,createElement(View,{key:"container",style:containerStyle},labelComponent,createElement(View,{style:inputContainerStyle},createElement(Switch,Object.assign({key:"input"},props)),createElement(Alert,{key:"alert",testID:`${this.props.name}$alert`,error:this.props.value.validation,style:[...validationMessageStyles]}))))}processStyles(){const switchStylePropsKeys=["thumbColorOn","thumbColorOff","trackColorOn","trackColorOff"],labelStylePropsKeys=["numberOfLines"],isHorizontal="horizontal"===this.props.formOrientation,inputStyles=pluckFromList(this.props.style,"input").map(inputStyle=>{const checkBoxStyleProps=exclude(inputStyle,switchStylePropsKeys);return exclude(checkBoxStyleProps,labelStylePropsKeys)}),inputDisabledStyles=pluckFromList(this.props.style,"inputDisabled").map(inputDisabledStyle=>{const checkBoxStyleProps=exclude(inputDisabledStyle,switchStylePropsKeys);return exclude(checkBoxStyleProps,labelStylePropsKeys)}),inputErrorStyles=pluckFromList(this.props.style,"inputError").map(inputErrorStyle=>{const checkBoxStyleProps=exclude(inputErrorStyle,switchStylePropsKeys);return exclude(checkBoxStyleProps,labelStylePropsKeys)}),inputSwitchStyleProps=pluckFromList(this.props.style,"input").map(inputStyle=>only(inputStyle,switchStylePropsKeys)).reduce((result,style)=>Object.assign(Object.assign({},result),style),{}),inputDisabledSwitchStyleProps=pluckFromList(this.props.style,"inputDisabled").map(inputDisabledStyle=>only(inputDisabledStyle,switchStylePropsKeys)).reduce((result,style)=>Object.assign(Object.assign({},result),style),{}),inputErrorSwitchStyleProps=pluckFromList(this.props.style,"inputError").map(inputErrorStyle=>only(inputErrorStyle,switchStylePropsKeys)).reduce((result,style)=>Object.assign(Object.assign({},result),style),{}),labelStyleDirection=isHorizontal?{flex:this.props.labelWidth}:void 0,labelStyles=[...pluckFromList(this.props.style,"label").map(labelStyle=>{const labelStyleProps=exclude(labelStyle,switchStylePropsKeys);return exclude(labelStyleProps,labelStylePropsKeys)}),labelStyleDirection],labelStyleProps=pluckFromList(this.props.style,"label").map(labelStyle=>only(labelStyle,labelStylePropsKeys)).reduce((result,style)=>Object.assign(Object.assign({},result),style),{}),validationMessageStyles=pluckFromList(this.props.style,"validationMessage"),remainingFlexSpace=12-this.props.labelWidth;return{inputStyles:inputStyles,inputDisabledStyles:inputDisabledStyles,inputErrorStyles:inputErrorStyles,labelStyles:labelStyles,labelStyleProps:labelStyleProps,validationMessageStyles:validationMessageStyles,inputSwitchStyleProps:inputSwitchStyleProps,inputDisabledSwitchStyleProps:inputDisabledSwitchStyleProps,inputErrorSwitchStyleProps:inputErrorSwitchStyleProps,containerStyle:[...pluckFromList(this.props.style,"container"),isHorizontal?{flexDirection:"row",alignItems:"center"}:void 0],inputContainerStyle:isHorizontal?{flex:remainingFlexSpace,alignItems:"flex-end"}:{alignItems:"flex-start"}}}}export{CheckBox};
