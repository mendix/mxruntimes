import{r as reaction}from"./4887fae1.js";import{o as using,k as unavailable,d as mapL,l as loading}from"./764abf4b.js";function withObjectStoring(getObject$,store,widgetId){return using(()=>[reaction(()=>getObject$(),result=>{switch(result.status){case"available":case"unavailable":store.set(widgetId,"object",mapL(result,v=>v.old()));break;case"loading":const oldState=store.get$(widgetId,"object");void 0!==oldState&&"unavailable"!==oldState.status||store.set(widgetId,"object",loading())}},{fireImmediately:!0}),()=>store.set(widgetId,"object",unavailable())],getObject$)}export{withObjectStoring as w};
