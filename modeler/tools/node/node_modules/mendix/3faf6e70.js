import{r as reaction}from"./d4030583.js";import{b as using,u as unavailable,l as loading,m as mapL}from"./189c82c6.js";function withObjectStoring(getObject$,store,widgetId){return using(()=>[reaction(()=>getObject$(),result=>{switch(result.status){case"available":case"unavailable":store.set(widgetId,"object",mapL(result,v=>v.old()));break;case"loading":const oldState=store.get$(widgetId,"object");void 0!==oldState&&"unavailable"!==oldState.status||store.set(widgetId,"object",loading())}},{fireImmediately:!0}),()=>store.set(widgetId,"object",unavailable())],getObject$)}export{withObjectStoring as w};
