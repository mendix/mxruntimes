import{TextInput}from"react-native";import{Component,createElement}from"react";import"./5b829f15.js";import{f as flatten,e as extract}from"./84c5d961.js";import{I as InputContainer}from"./8e73ab64.js";class TextArea extends Component{constructor(){super(...arguments),this.state={displayValue:this.props.inputValue.displayValue||""},this.onChangeTextHandler=this.onChangeText.bind(this),this.onFocusHandler=this.onFocus.bind(this),this.onBlurHandler=this.onBlur.bind(this)}componentDidUpdate(prevProps){this.props.inputValue.displayValue!==prevProps.inputValue.displayValue&&this.setState({displayValue:this.props.inputValue.displayValue})}render(){const style=function(styles){const style=flatten(styles),{container:container,validationMessage:validationMessage}=style,inputPropsKeys=["autoCapitalize","placeholderTextColor","selectionColor","underlineColorAndroid"],[inputProps,input]=extract(style.input,inputPropsKeys),[inputDisabledProps,inputDisabled]=extract(style.inputDisabled,inputPropsKeys),[inputErrorProps,inputError]=extract(style.inputError,inputPropsKeys),[labelProps,label]=extract(style.label,["numberOfLines"]);return{container:container,inputProps:inputProps,input:input,inputDisabledProps:inputDisabledProps,inputDisabled:inputDisabled,inputErrorProps:inputErrorProps,inputError:inputError,labelProps:labelProps,label:label,validationMessage:validationMessage}}(this.props.style),validation=this.props.inputValue.validation,editable=!this.props.inputValue.readOnly,inputStyle=editable?validation?[style.input,style.inputError]:style.input:[style.input,style.inputDisabled],inputStyleProps=editable?validation?style.inputErrorProps:style.inputProps:style.inputDisabledProps;return createElement(InputContainer,{name:this.props.name,label:this.props.label,validation:this.props.inputValue.validation,formOrientation:this.props.formOrientation,labelWidth:this.props.labelWidth,containerStyle:style.container,labelStyle:style.label,labelStyleProps:style.labelProps,validationMessageStyle:style.validationMessage},createElement(TextInput,Object.assign({multiline:!0,numberOfLines:this.props.numberOfLines,testID:this.props.name,style:inputStyle,editable:editable,onChangeText:this.onChangeTextHandler,onFocus:this.onFocusHandler,onBlur:this.onBlurHandler,maxLength:this.props.maxLength,placeholder:this.props.placeholder.value||void 0,value:this.state.displayValue},inputStyleProps)))}onChangeText(text){this.setState({displayValue:text})}onFocus(){this.dispatchAction(this.props.onEnter)}onBlur(e){this.state.displayValue!==this.props.inputValue.displayValue&&this.props.inputValue.setValue(this.state.displayValue),"tapOutside"!==e.type&&this.dispatchAction(this.props.onLeave)}dispatchAction(action){"available"===this.props.inputValue.status&&action&&action.execute()}}export{TextArea};
